"use strict";(self.webpackChunkjiunbae_github_io=self.webpackChunkjiunbae_github_io||[]).push([[202],{9735:function(e,t,a){a.r(t),a.d(t,{Head:function(){return x},default:function(){return j}});var s=a(758),l=a(4873),o=a(6392),n=a(1625),i=a(2057),r=a(9397),c=a(3526),d="Note-module--collapsed--1876e",u="Note-module--collapsible--0ec7b",m="Note-module--copied--735d3",g=a(8589),h=a(3096),N=a(6070);const f=e=>{let{note:t,className:a}=e;const{frontmatter:l,html:n}=t,{title:i,date:r,tags:f,slug:p}=l;if(!p)throw new Error("노트 슬러그가 존재하지 않습니다.");const x=(0,o.qU)(n),j=(null!=f?f:[]).filter((e=>Boolean(e))),v=(0,h.FM)(p),b=(0,h.HC)(p),w=(0,s.useRef)(null),{0:L,1:C}=(0,s.useState)(!0),{0:I,1:A}=(0,s.useState)(!1),{0:T,1:k}=(0,s.useState)(null),{0:y,1:P}=(0,s.useState)(!1);(0,s.useEffect)((()=>{C(!0)}),[x]),(0,s.useEffect)((()=>{const e=()=>{const e=w.current;if(!e)return;const t=window.getComputedStyle(e),a=parseFloat(t.lineHeight||"0");if(!Number.isFinite(a)||a<=0)return A(!1),k(null),void C(!1);const s=11*a,l=e.scrollHeight>s+1;k(l?s:null),A(l),l||C(!1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[x]);const S=I&&L&&null!==T?{maxHeight:T}:void 0;return(0,N.jsx)("li",{id:b,className:(0,c.A)("Note-module--note--f201c",a),"data-note-slug":v,children:(0,N.jsxs)("article",{children:[(0,N.jsxs)("header",{className:"Note-module--header--78849",children:[(0,N.jsx)("h2",{className:"Note-module--title--998e8",children:i}),(0,N.jsx)("time",{className:"Note-module--date--bdd57",children:r})]}),(0,N.jsx)("section",{ref:w,style:S,className:(0,c.A)("Note-module--content--de75b",{[u]:I,[d]:I&&L}),dangerouslySetInnerHTML:{__html:x}}),(j.length>0||I)&&(0,N.jsxs)("div",{className:"Note-module--footer--e50e8",children:[j.length>0&&(0,N.jsx)("ul",{className:"Note-module--tags--13eb3",children:j.map((e=>(0,N.jsx)("li",{className:"Note-module--tag--f9099",children:e},e)))}),(0,N.jsxs)("div",{className:"Note-module--actions--f6431",children:[(0,N.jsx)("button",{type:"button",className:(0,c.A)("Note-module--shareButton--2dfe7",{[m]:y}),onClick:async()=>{const e=(0,h.hZ)(p);try{var t;if("undefined"!=typeof navigator&&null!==(t=navigator.clipboard)&&void 0!==t&&t.writeText)await navigator.clipboard.writeText(e);else{const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}P(!0),window.setTimeout((()=>P(!1)),2e3)}catch{window.prompt("아래 링크를 복사해주세요.",e)}},"aria-label":"노트 링크 복사",title:y?"링크 복사됨":"노트 링크 복사",children:(0,N.jsx)(g.li,{className:"Note-module--shareIcon--e0f99"})}),I&&(0,N.jsx)("button",{type:"button",className:"Note-module--toggleButton--634f6",onClick:()=>{C((e=>!e))},"aria-expanded":!L,children:L?"더보기":"접기"})]})]})]})})};const p=e=>{let{notes:t,className:a}=e;return(0,N.jsx)("ul",{className:(0,c.A)("NoteList-module--noteList--35d81",a),children:0===t.length?(0,N.jsx)("li",{className:"NoteList-module--empty--1b39e",children:"아직 등록된 노트가 없습니다."}):t.map((e=>(0,N.jsx)(f,{note:e},e.id)))})};const x=e=>{let{location:t,data:{site:a,file:s}}=e;const{href:n}=t,i=null!=n?n:t.pathname,r={title:`${(0,o.qU)(null==a?void 0:a.siteMetadata.title)} | Notes`,description:"Short notes and quick updates from Jiunbae.",heroImage:(0,o.qU)(null==s?void 0:s.publicURL)};return(0,N.jsx)(l.G$,{title:r.title,description:r.description,heroImage:r.heroImage,pathname:i})};var j=e=>{var t,a;let{data:o,location:c}=e;const{nodes:d,totalCount:u,group:m}=o.allMarkdownRemark,{tags:g,selectedTag:f,clickTag:x}=(0,r.O)(u,m,null===(t=c.state)||void 0===t?void 0:t.tag,{pathname:"/notes/"}),j=(0,s.useMemo)((()=>d.filter((e=>{var t;let{frontmatter:a}=e;if(f===i.g.ALL)return!0;return(null!==(t=a.tags)&&void 0!==t?t:[]).some((e=>e===f))}))),[d,f]),v=null!==(a=c.state)&&void 0!==a&&a.note?(0,h.FM)(c.state.note):null,b=(0,h.cU)(c.search,c.hash);return(0,s.useEffect)((()=>{if("undefined"==typeof window)return;const e=v||b;if(!e)return;const t=document.querySelector(`[data-note-slug='${e}']`);if(!t)return;const a=window.setTimeout((()=>{t.setAttribute("data-highlighted","true"),t.scrollIntoView({behavior:"smooth",block:"start"}),window.setTimeout((()=>{t.removeAttribute("data-highlighted")}),2500)}),150);return()=>{window.clearTimeout(a)}}),[v,b,j]),(0,N.jsxs)("main",{className:"Notes-module--main--e374b",children:[(0,N.jsx)(n.LY,{tags:g,selectedTag:f,clickTag:x,className:"Notes-module--tagList--43a32"}),(0,N.jsx)(p,{notes:j,className:"Notes-module--noteList--70c61"}),(0,N.jsx)(l.ru,{})]})}},1625:function(e,t,a){a.d(t,{Nz:function(){return p},LY:function(){return v}});var s=a(3526),l=a(3655),o=a(3340),n=a(6392),i=a(6070);const r=e=>{let{date:t,className:a}=e;return(0,i.jsx)("h3",{className:(0,s.A)("Date-module--date--d77e7",a),children:t})};const c=e=>{let{description:t,className:a}=e;return(0,i.jsx)("p",{className:(0,s.A)("Description-module--description--ecdc9",a),children:t})};var d=a(4873);const u=e=>{let{tags:t,className:a}=e;return(0,i.jsx)("ul",{className:(0,s.A)("TagList-module--tagList--4ae6b",a),children:t.map((e=>(0,i.jsx)(d.vw,{name:e},e)))})};const m=e=>{let{title:t,className:a}=e;return(0,i.jsx)("h3",{className:(0,s.A)("Title-module--title--8cf89",a),children:t})};var g="Post-module--articleLink--b5ab5";const h=e=>{let{title:t,description:a,date:s,tags:n,slug:d,heroImage:g,heroImageAlt:h,className:N}=e;return(0,i.jsx)(l.Link,{to:`/posts${d}`,className:N,children:(0,i.jsx)("article",{className:"Post-module--card--a4c01",children:(0,i.jsxs)("figure",{children:[(0,i.jsx)(o.G,{image:g,alt:h,className:"Post-module--cardImage--a596d"}),(0,i.jsxs)("figcaption",{className:"Post-module--cardCaption--0aa11",children:[(0,i.jsx)(r,{date:s,className:"Post-module--cardDate--c6c0c"}),(0,i.jsx)(u,{tags:n,className:"Post-module--cardTagList--5f1d7"}),(0,i.jsx)(m,{title:t,className:"Post-module--cardTitle--ba640"}),(0,i.jsx)(c,{description:a,className:"Post-module--cardDescription--72eec"})]})]})})})},N=e=>{let{title:t,description:a,date:s,tags:n,slug:d,heroImage:g,heroImageAlt:h,className:N}=e;return(0,i.jsx)(l.Link,{to:`/posts${d}`,className:N,children:(0,i.jsx)("article",{className:"Post-module--item--967c1",children:(0,i.jsxs)("figure",{className:"Post-module--itemFigure--61e4d",children:[(0,i.jsx)(o.G,{image:g,alt:h,className:"Post-module--itemImage--af857"}),(0,i.jsxs)("figcaption",{className:"Post-module--itemCaption--6915d",children:[(0,i.jsx)(m,{title:t,className:"Post-module--itemTitle--e1aa8"}),(0,i.jsx)(c,{description:a,className:"Post-module--itemDescription--3070b"}),(0,i.jsx)(r,{date:s,className:"Post-module--itemDate--33d77"}),(0,i.jsx)(u,{tags:n,className:"Post-module--itemTags--87afa"})]})]})})})},f=e=>{let{variants:t,title:a,description:s,date:r,tags:c,slug:d,heroImage:u,heroImageAlt:m}=e;const f=(0,l.useStaticQuery)("163013903"),p=(0,n.zu)(void 0===u?(0,o.c)(f.cover):u),x=null!=m?m:"Cover Image";return"card"===t?(0,i.jsx)(h,{title:a,description:s,date:r,tags:c,slug:d,heroImage:p,heroImageAlt:x,className:g}):"item"===t?(0,i.jsx)(N,{title:a,description:s,date:r,tags:c,slug:d,heroImage:p,heroImageAlt:x,className:g}):null};const p=e=>{let{posts:t,className:a}=e;return(0,i.jsx)("ul",{className:(0,s.A)("PostList-module--postList--61751",a),children:t.map((e=>{var t,a;let{frontmatter:{title:s,description:l,date:o,tags:n,slug:r,heroImage:c,heroImageAlt:d},excerpt:u,id:m}=e;const g=null!==(t=null!=l?l:u)&&void 0!==t?t:"";return(0,i.jsx)("li",{className:"PostList-module--postItem--2474b",children:(0,i.jsx)(f,{variants:"item",title:s,description:g,date:o,tags:n,slug:r,heroImage:null==c||null===(a=c.childImageSharp)||void 0===a?void 0:a.gatsbyImageData,heroImageAlt:d})},m)}))})};var x="TagButtonWithCount-module--active--ce3a5";const j=e=>{let{name:t,count:a,isSelected:l,onClick:o}=e;return(0,i.jsx)("button",{onClick:o,className:(0,s.A)("TagButtonWithCount-module--tagButton--b55df",{[x]:l}),children:(0,i.jsxs)("span",{children:[t," (",a,")"]})})};const v=e=>{let{tags:t,selectedTag:a,clickTag:l,className:o}=e;return(0,i.jsx)("ul",{className:(0,s.A)("TagList-module--tagList--da91f",o),onClick:l,onKeyDown:l,role:"presentation",children:t.map((e=>{let{fieldValue:t,totalCount:s}=e;const l=(0,n.qU)(t);return(0,i.jsx)("li",{className:"TagList-module--tagItem--61853","data-tag":l,children:(0,i.jsx)(j,{name:l,count:s,isSelected:a===l})},l)}))})}},2057:function(e,t,a){a.d(t,{g:function(){return s}});const s={ALL:"All"}},9397:function(e,t,a){a.d(t,{O:function(){return n}});var s=a(758),l=a(3655),o=a(2057);const n=function(e,t,a,n){let{pathname:i="/"}=void 0===n?{}:n;const r=(0,s.useMemo)((()=>{const a=Array.from(t,(e=>{let{fieldValue:t,totalCount:a}=e;return{fieldValue:t,totalCount:a}}));return[{fieldValue:o.g.ALL,totalCount:e}].concat(a).sort(((e,t)=>t.totalCount-e.totalCount))}),[t,e]),{0:c,1:d}=(0,s.useState)(null!=a?a:o.g.ALL);return{tags:r,selectedTag:c,clickTag:(0,s.useCallback)((e=>{let{target:t}=e;if(!(t instanceof HTMLElement))return;const a=t.closest("li"),s=null==a?void 0:a.dataset.tag;s&&(d(s),(0,l.navigate)(i,{replace:!0,state:{tag:s}}))}),[i])}}},3096:function(e,t,a){a.d(t,{FM:function(){return s},HC:function(){return l},cU:function(){return i},hZ:function(){return n}});const s=e=>e.replace(/^\/+/,"").replace(/\/+$/,"").replace(/[^a-zA-Z0-9-_]/g,"-").replace(/-+/g,"-").toLowerCase()||"note",l=e=>`note-${s(e)}`,o=e=>`/notes/${s(e)}/`,n=e=>{if("undefined"!=typeof window){return new URL(o(e),window.location.origin).toString()}return o(e)},i=(e,t)=>{const a=new URLSearchParams(e).get("note");return a?s(a):t.startsWith("#")&&t.length>1?s(decodeURIComponent(t.substring(1))):null}}}]);
//# sourceMappingURL=component---src-pages-notes-tsx-2df463f0a8f73b2e6eb7.js.map