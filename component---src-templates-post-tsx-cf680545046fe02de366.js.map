{"version":3,"file":"component---src-templates-post-tsx-cf680545046fe02de366.js","mappings":"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","sources":["webpack://jiunbae.github.io/./src/views/Post/components/TableOfContents/TableOfContents.module.scss","webpack://jiunbae.github.io/./src/views/Post/components/TableOfContents/TableOfContents.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TableOfContents/hooks/useTocStyleObserver.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TagButton/TagButton.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TagButton/TagButton.module.scss","webpack://jiunbae.github.io/./src/views/Post/components/TagList/TagList.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TagList/TagList.module.scss","webpack://jiunbae.github.io/./src/views/Post/Post.tsx","webpack://jiunbae.github.io/./src/views/Post/Post.module.scss"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var active = \"TableOfContents-module--active--17bbb\";\nexport var tableOfContents = \"TableOfContents-module--tableOfContents--0b53d\";\nexport var tableOfContentsIcon = \"TableOfContents-module--tableOfContentsIcon--16f85\";\nexport var wrapper = \"TableOfContents-module--wrapper--eb321\";","import { TableOfContentsIcon } from '@/components/icons'\n\nimport { useTocStyleObserver } from './hooks'\nimport * as styles from './TableOfContents.module.scss'\n\ntype TableOfContentsProps = {\n  html: string;\n};\n\nexport const TableOfContents = ({ html }: TableOfContentsProps) => {\n  const { ref } = useTocStyleObserver()\n\n  return (\n    <div className={styles.wrapper}>\n      <TableOfContentsIcon className={styles.TableOfContentsIcon} />\n      <div ref={ref} className={styles.tableOfContents} dangerouslySetInnerHTML={{ __html: html }}></div>\n    </div>\n  )\n}\n","import { useEffect, useRef } from 'react'\n\nimport * as styles from '../TableOfContents.module.scss'\n\nexport const useTocStyleObserver = () => {\n  const ref = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            const id = entry.target.id\n            const tocItem = ref.current?.querySelector(`a[href=\"#${encodeURI(id)}\"]`)\n\n            if (!tocItem) return\n\n            const prevActiveItem = ref.current?.querySelector(`.${styles.active}`)\n            if (prevActiveItem) prevActiveItem.classList.remove(styles.active)\n\n            tocItem.classList.add(styles.active)\n          }\n        })\n      },\n      {\n        rootMargin: '0% 0% -90% 0%',\n        threshold: 0\n      }\n    )\n\n    const headings = document.querySelectorAll('h2[id], h3[id]')\n    headings.forEach(heading => observer.observe(heading))\n    return () => {\n      headings.forEach(heading => observer.unobserve(heading))\n    }\n  }, [ref])\n\n  return { ref }\n}\n","import clsx from 'clsx'\nimport { navigate } from 'gatsby'\nimport * as styles from './TagButton.module.scss'\n\ntype TagButtonProps = {\n  name: string;\n};\n\nexport const TagButton = ({ name }: TagButtonProps) => {\n  const handleClick = () => {\n    navigate('/', { state: { tag: name } })\n  }\n\n  return (\n    <div className={clsx(styles.tag)} onClick={handleClick}>\n      <span>{name}</span>\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var active = \"TagButton-module--active--033b5\";\nexport var tag = \"TagButton-module--tag--4020c\";","import clsx from 'clsx'\n\nimport { TagButton } from '../TagButton'\nimport * as styles from './TagList.module.scss'\n\ntype TagListProps = {\n  tags: readonly string[];\n  className?: string;\n};\n\nexport const TagList = ({ tags, className }: TagListProps) => (\n  <ul className={clsx(styles.tagList, className)}>\n    {tags.map(tag => (\n      <TagButton key={tag} name={tag}></TagButton>\n    ))}\n  </ul>\n)\n","// extracted by mini-css-extract-plugin\nexport var tagList = \"TagList-module--tagList--8691e\";","import type { HeadProps, PageProps } from 'gatsby'\nimport { GatsbyImage, getSrc } from 'gatsby-plugin-image'\n\nimport { Comments, FloatingButton, Seo } from '@/components'\nimport { getRefinedImage, getRefinedStringValue } from '@/utils'\n\nimport { TableOfContents, TagList } from './components'\nimport * as styles from './Post.module.scss'\n\nconst Post = ({ data }: PageProps<Queries.PostQuery>) => {\n  if (!data.markdownRemark) throw new Error('마크다운 데이터가 존재하지 않습니다.')\n  const { html, tableOfContents, frontmatter } = data.markdownRemark\n  const { title, date, tags, heroImage, heroImageAlt } = frontmatter\n\n  const image = heroImage && getRefinedImage(heroImage?.childImageSharp?.gatsbyImageData)\n\n  return (\n    <main className={styles.wrapper}>\n      <h1 className={styles.title}>{title}</h1>\n      <p className={styles.date}>{date}</p>\n      <TagList tags={tags} className={styles.tagList} />\n      {image !== null && (\n        <GatsbyImage image={image} alt={heroImageAlt || ''} className={styles.heroImage} objectFit=\"contain\" />\n      )}\n      <div className={styles.contentWrapper}>\n        <section className={styles.content} dangerouslySetInnerHTML={{ __html: getRefinedStringValue(html) }} />\n        <TableOfContents html={getRefinedStringValue(tableOfContents)} />\n      </div>\n      <Comments />\n      <FloatingButton />\n    </main>\n  )\n}\n\nexport const Head = ({ data: { markdownRemark }, location }: HeadProps<Queries.PostQuery>) => {\n  const { href } = location as typeof location & { href?: string }\n  const pageUrl = href ?? location.pathname\n  const seo = {\n    title: markdownRemark?.frontmatter.title,\n    description: markdownRemark?.frontmatter.description ?? markdownRemark?.excerpt ?? undefined,\n    heroImage: markdownRemark?.frontmatter.heroImage\n  }\n\n  const image = seo.heroImage && getSrc(getRefinedImage(seo.heroImage?.childImageSharp?.gatsbyImageData))\n\n  return <Seo title={seo.title} description={seo.description} heroImage={image || ''} pathname={pageUrl} />\n}\n\nexport default Post\n","// extracted by mini-css-extract-plugin\nexport var bio = \"Post-module--bio--1d2ed\";\nexport var content = \"Post-module--content--f35bf\";\nexport var contentWrapper = \"Post-module--contentWrapper--64fbd\";\nexport var date = \"Post-module--date--59cac\";\nexport var heroImage = \"Post-module--heroImage--6a805\";\nexport var tagList = \"Post-module--tagList--e0dea\";\nexport var title = \"Post-module--title--64055\";\nexport var wrapper = \"Post-module--wrapper--0f907\";"],"names":["active","tableOfContents","wrapper","TableOfContents","_ref","html","ref","useTocStyleObserver","useRef","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","_ref$current","_ref$current2","id","target","tocItem","current","querySelector","encodeURI","prevActiveItem","styles","classList","remove","add","rootMargin","threshold","headings","document","querySelectorAll","heading","observe","unobserve","_jsxs","className","children","_jsx","TableOfContentsIcon","dangerouslySetInnerHTML","__html","TagButton","name","clsx","onClick","handleClick","navigate","state","tag","TagList","tags","map","Head","_ref2","_ref3","_markdownRemark$front","_seo$heroImage","_seo$heroImage$childI","data","markdownRemark","location","href","pageUrl","pathname","seo","title","frontmatter","description","excerpt","undefined","heroImage","image","getSrc","getRefinedImage","childImageSharp","gatsbyImageData","Seo","_heroImage$childImage","Error","date","heroImageAlt","GatsbyImage","alt","objectFit","getRefinedStringValue","Comments","FloatingButton"],"sourceRoot":""}