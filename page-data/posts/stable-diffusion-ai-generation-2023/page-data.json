{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/stable-diffusion-ai-generation-2023/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"stable-diffusion을-실무에-적용해본-경험\">Stable Diffusion을 실무에 적용해본 경험</h1>\n<p>2023년 초, Stable Diffusion을 처음 사용해봤습니다. \"텍스트를 입력하면 이미지가 생성된다\"는 개념은 알고 있었지만, 직접 써보니 그 가능성과 한계가 동시에 느껴졌습니다. 이 글에서는 실제 업무에 적용하면서 배운 것들을 공유합니다.</p>\n<h2 id=\"첫-만남\">첫 만남</h2>\n<p><a href=\"https://huggingface.co/docs/diffusers\">Hugging Face의 diffusers</a> 라이브러리를 사용하면 몇 줄의 코드로 이미지를 생성할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> diffusers <span class=\"token keyword\">import</span> StableDiffusionPipeline\n<span class=\"token keyword\">import</span> torch\n\n<span class=\"token comment\"># 모델 로드</span>\npipe <span class=\"token operator\">=</span> StableDiffusionPipeline<span class=\"token punctuation\">.</span>from_pretrained<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"runwayml/stable-diffusion-v1-5\"</span><span class=\"token punctuation\">,</span>\n    torch_dtype<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>float16\n<span class=\"token punctuation\">)</span>\npipe <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span><span class=\"token string\">\"cuda\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 이미지 생성</span>\nprompt <span class=\"token operator\">=</span> <span class=\"token string\">\"a cat sitting on a desk, digital art, highly detailed\"</span>\nimage <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">(</span>prompt<span class=\"token punctuation\">,</span> num_inference_steps<span class=\"token operator\">=</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> guidance_scale<span class=\"token operator\">=</span><span class=\"token number\">7.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\nimage<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"cat.png\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>처음 생성된 이미지를 봤을 때, 솔직히 놀랐습니다. 몇 줄의 코드로 이 정도 품질의 이미지가 나온다는 것이 신기했습니다.</p>\n<p>물론 완벽하지는 않았습니다. 손가락이 6개라거나, 눈이 이상하게 그려지는 경우도 있었습니다. 하지만 \"대충 이런 느낌\"을 빠르게 시각화하는 용도로는 충분했습니다.</p>\n<h2 id=\"실무-활용-사례\">실무 활용 사례</h2>\n<h3 id=\"1-프레젠테이션-삽화\">1. 프레젠테이션 삽화</h3>\n<p>회사에서 발표 자료를 만들 때, 삽화가 필요한 경우가 많습니다. 기존에는 스톡 이미지 사이트를 뒤지거나 직접 그려야 했는데, Stable Diffusion으로 빠르게 생성할 수 있게 되었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">generate_presentation_image</span><span class=\"token punctuation\">(</span>concept<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"minimalist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    prompt <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>concept<span class=\"token punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>style<span class=\"token punctuation\">}</span></span><span class=\"token string\"> style, clean background, vector art\"</span></span>\n    negative_prompt <span class=\"token operator\">=</span> <span class=\"token string\">\"text, watermark, signature, blurry\"</span>\n\n    image <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">(</span>\n        prompt<span class=\"token punctuation\">,</span>\n        negative_prompt<span class=\"token operator\">=</span>negative_prompt<span class=\"token punctuation\">,</span>\n        num_inference_steps<span class=\"token operator\">=</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n        guidance_scale<span class=\"token operator\">=</span><span class=\"token number\">7.0</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> image\n\n<span class=\"token comment\"># 사용 예시</span>\nimage <span class=\"token operator\">=</span> generate_presentation_image<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"cloud server architecture diagram\"</span><span class=\"token punctuation\">,</span>\n    style<span class=\"token operator\">=</span><span class=\"token string\">\"flat design\"</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>스톡 이미지를 검색하는 것보다 원하는 이미지를 바로 생성하는 것이 더 빨랐습니다. 특히 추상적인 개념(예: \"AI와 인간의 협업\")을 시각화할 때 유용했습니다.</p>\n<h3 id=\"2-블로그-썸네일\">2. 블로그 썸네일</h3>\n<p>기술 블로그 포스트에 썸네일이 필요할 때도 활용했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">generate_blog_thumbnail</span><span class=\"token punctuation\">(</span>topic<span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">1200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">630</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># OG 이미지 권장 크기</span>\n    prompt <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"abstract representation of </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>topic<span class=\"token punctuation\">}</span></span><span class=\"token string\">, modern, tech, gradient colors\"</span></span>\n\n    image <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">(</span>\n        prompt<span class=\"token punctuation\">,</span>\n        width<span class=\"token operator\">=</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        height<span class=\"token operator\">=</span>size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        num_inference_steps<span class=\"token operator\">=</span><span class=\"token number\">40</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> image</code></pre></div>\n<h3 id=\"3-아이디어-스케치\">3. 아이디어 스케치</h3>\n<p>새로운 기능이나 UI를 구상할 때, 아이디어를 빠르게 시각화하는 용도로 사용했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 앱 UI 컨셉 스케치</span>\nprompts <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"mobile app dashboard, dark mode, data visualization, modern UI\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"chat interface, messaging app, clean design, minimalist\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"settings page, toggle switches, iOS style\"</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> prompt <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>prompts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    image <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">(</span>prompt<span class=\"token punctuation\">,</span> num_inference_steps<span class=\"token operator\">=</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"concept_</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span><span class=\"token string\">.png\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>실제 디자인 작업을 시작하기 전에 여러 방향을 탐색하는 데 유용했습니다.</p>\n<h2 id=\"lora-스타일-커스터마이징\">LoRA: 스타일 커스터마이징</h2>\n<p>기본 모델로 원하는 스타일이 나오지 않을 때, <a href=\"https://huggingface.co/docs/diffusers/training/lora\">LoRA (Low-Rank Adaptation)</a>를 활용했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> diffusers <span class=\"token keyword\">import</span> StableDiffusionPipeline\n<span class=\"token keyword\">import</span> torch\n\n<span class=\"token comment\"># 기본 모델 로드</span>\npipe <span class=\"token operator\">=</span> StableDiffusionPipeline<span class=\"token punctuation\">.</span>from_pretrained<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"runwayml/stable-diffusion-v1-5\"</span><span class=\"token punctuation\">,</span>\n    torch_dtype<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>float16\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># LoRA 가중치 로드 (커뮤니티에서 공유된 스타일)</span>\npipe<span class=\"token punctuation\">.</span>load_lora_weights<span class=\"token punctuation\">(</span><span class=\"token string\">\"path/to/lora/weights\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># LoRA가 적용된 상태로 생성</span>\nimage <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"a landscape, illustration style\"</span><span class=\"token punctuation\">,</span>\n    num_inference_steps<span class=\"token operator\">=</span><span class=\"token number\">40</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>커뮤니티에서 공유하는 LoRA를 다운받아 적용하면, 특정 화풍이나 스타일로 일관된 이미지를 생성할 수 있었습니다. 일러스트 스타일, 애니메이션 스타일, 사진 스타일 등 다양한 옵션이 있었습니다.</p>\n<p>직접 LoRA를 학습시키는 것도 시도해봤습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># LoRA 학습 (간략화된 예시)</span>\n<span class=\"token keyword\">from</span> diffusers <span class=\"token keyword\">import</span> DiffusionPipeline\n<span class=\"token keyword\">from</span> peft <span class=\"token keyword\">import</span> LoraConfig<span class=\"token punctuation\">,</span> get_peft_model\n\n<span class=\"token comment\"># LoRA 설정</span>\nlora_config <span class=\"token operator\">=</span> LoraConfig<span class=\"token punctuation\">(</span>\n    r<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># rank</span>\n    lora_alpha<span class=\"token operator\">=</span><span class=\"token number\">32</span><span class=\"token punctuation\">,</span>\n    target_modules<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"to_k\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"to_q\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"to_v\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"to_out.0\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    lora_dropout<span class=\"token operator\">=</span><span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 레퍼런스 이미지 30~50장으로 학습</span>\n<span class=\"token comment\"># (실제 학습 코드는 더 복잡합니다)</span></code></pre></div>\n<p>A100 GPU로 2~3시간 정도면 커스텀 LoRA를 학습시킬 수 있었습니다.</p>\n<h2 id=\"프롬프트-엔지니어링\">프롬프트 엔지니어링</h2>\n<p>원하는 결과를 얻기 위해서는 프롬프트 작성이 중요했습니다. 시행착오를 통해 몇 가지 패턴을 발견했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 효과적인 프롬프트 구조</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">build_prompt</span><span class=\"token punctuation\">(</span>subject<span class=\"token punctuation\">,</span> style<span class=\"token punctuation\">,</span> quality_tags<span class=\"token punctuation\">,</span> negative_tags<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    좋은 프롬프트 구조:\n    [주제] + [스타일] + [품질 태그] + [기술적 디테일]\n    \"\"\"</span>\n    prompt <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>subject<span class=\"token punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>style<span class=\"token punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token string\">', '</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>quality_tags<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n\n    negative_prompt <span class=\"token operator\">=</span> <span class=\"token string\">\", \"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>negative_tags<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> prompt<span class=\"token punctuation\">,</span> negative_prompt\n\n<span class=\"token comment\"># 사용 예시</span>\nprompt<span class=\"token punctuation\">,</span> negative <span class=\"token operator\">=</span> build_prompt<span class=\"token punctuation\">(</span>\n    subject<span class=\"token operator\">=</span><span class=\"token string\">\"a futuristic city skyline at sunset\"</span><span class=\"token punctuation\">,</span>\n    style<span class=\"token operator\">=</span><span class=\"token string\">\"cyberpunk, neon lights\"</span><span class=\"token punctuation\">,</span>\n    quality_tags<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"highly detailed\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"8k\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"artstation\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"concept art\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    negative_tags<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"blurry\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"low quality\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"watermark\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"signature\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>자주 사용한 프롬프트 패턴:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">PROMPT_TEMPLATES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"concept_art\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{subject}, concept art, highly detailed, artstation, digital painting\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"photo_realistic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{subject}, photorealistic, 8k, professional photography, detailed\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"minimalist\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{subject}, minimalist, clean, vector, simple shapes, flat design\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"illustration\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{subject}, illustration, digital art, vibrant colors, stylized\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nNEGATIVE_PROMPTS <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"blurry, low quality, distorted, deformed, ugly, duplicate\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"no_text\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"text, words, letters, watermark, signature, logo\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"realistic\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"cartoon, anime, illustration, drawing, painting\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"한계와-주의점\">한계와 주의점</h2>\n<h3 id=\"1-텍스트-렌더링의-한계\">1. 텍스트 렌더링의 한계</h3>\n<p>Stable Diffusion은 텍스트를 잘 그리지 못합니다. \"Happy Birthday\"라고 쓰라고 하면 이상한 글자가 나옵니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 이렇게 하면 안 됨</span>\nbad_prompt <span class=\"token operator\">=</span> <span class=\"token string\">\"a birthday card with text 'Happy Birthday'\"</span>\n\n<span class=\"token comment\"># 대신 이렇게</span>\ngood_prompt <span class=\"token operator\">=</span> <span class=\"token string\">\"a birthday card, festive, colorful, celebration theme\"</span>\n<span class=\"token comment\"># → 텍스트는 후처리로 추가</span></code></pre></div>\n<p>텍스트가 필요한 이미지는 생성 후 Pillow나 Photoshop으로 텍스트를 따로 추가해야 했습니다.</p>\n<h3 id=\"2-일관성-문제\">2. 일관성 문제</h3>\n<p>같은 캐릭터를 여러 포즈로 그리기가 어렵습니다. 프롬프트를 똑같이 해도 매번 다른 캐릭터가 나옵니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 시드 고정으로 어느 정도 완화 가능</span>\ngenerator <span class=\"token operator\">=</span> torch<span class=\"token punctuation\">.</span>Generator<span class=\"token punctuation\">(</span><span class=\"token string\">\"cuda\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>manual_seed<span class=\"token punctuation\">(</span><span class=\"token number\">42</span><span class=\"token punctuation\">)</span>\n\nimage1 <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">(</span><span class=\"token string\">\"a red-haired girl\"</span><span class=\"token punctuation\">,</span> generator<span class=\"token operator\">=</span>generator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\nimage2 <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">(</span><span class=\"token string\">\"a red-haired girl, different pose\"</span><span class=\"token punctuation\">,</span> generator<span class=\"token operator\">=</span>generator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># → 그래도 완전히 같은 캐릭터는 어려움</span></code></pre></div>\n<h3 id=\"3-저작권-이슈\">3. 저작권 이슈</h3>\n<p>학습 데이터에 무엇이 포함되어 있는지 정확히 알 수 없습니다. 특정 아티스트의 스타일로 생성하면 저작권 문제가 있을 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 주의가 필요한 프롬프트</span>\nrisky_prompt <span class=\"token operator\">=</span> <span class=\"token string\">\"in the style of [specific artist name]\"</span>\n\n<span class=\"token comment\"># 더 안전한 대안</span>\nsafer_prompt <span class=\"token operator\">=</span> <span class=\"token string\">\"digital art style, vibrant colors\"</span></code></pre></div>\n<p>상업적으로 사용할 때는 조심해야 합니다. 저는 외부 배포용에는 사용을 자제하고, 내부 아이디어 스케치나 레퍼런스 용도로만 활용했습니다.</p>\n<h2 id=\"로컬-환경-구성\">로컬 환경 구성</h2>\n<p>API 비용을 아끼고 프라이버시를 보호하기 위해 로컬에서 돌리는 것이 좋습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 메모리 최적화 설정</span>\n<span class=\"token keyword\">from</span> diffusers <span class=\"token keyword\">import</span> StableDiffusionPipeline\n<span class=\"token keyword\">import</span> torch\n\npipe <span class=\"token operator\">=</span> StableDiffusionPipeline<span class=\"token punctuation\">.</span>from_pretrained<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"runwayml/stable-diffusion-v1-5\"</span><span class=\"token punctuation\">,</span>\n    torch_dtype<span class=\"token operator\">=</span>torch<span class=\"token punctuation\">.</span>float16<span class=\"token punctuation\">,</span>\n    safety_checker<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># 메모리 절약 (주의해서 사용)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Attention Slicing (메모리 절약)</span>\npipe<span class=\"token punctuation\">.</span>enable_attention_slicing<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># xformers 사용 (속도 향상)</span>\npipe<span class=\"token punctuation\">.</span>enable_xformers_memory_efficient_attention<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\npipe <span class=\"token operator\">=</span> pipe<span class=\"token punctuation\">.</span>to<span class=\"token punctuation\">(</span><span class=\"token string\">\"cuda\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>RTX 3090 (24GB VRAM) 기준으로:</p>\n<ul>\n<li>512x512 이미지: 약 3초</li>\n<li>768x768 이미지: 약 5초</li>\n<li>1024x1024 이미지: 약 10초</li>\n</ul>\n<p>하루에 수백 장 생성해도 전기세만 나갑니다. API를 사용하는 것보다 훨씬 경제적이었습니다.</p>\n<h2 id=\"결론\">결론</h2>\n<p>Stable Diffusion은 \"도구\"로서 충분히 유용합니다. 디자이너를 대체하는 것은 아니지만, 아이디어를 빠르게 시각화하고 레퍼런스를 만드는 데 탁월합니다.</p>\n<p>다만 한계도 명확합니다:</p>\n<ul>\n<li>텍스트 렌더링 불가</li>\n<li>일관된 캐릭터 생성 어려움</li>\n<li>저작권 이슈</li>\n</ul>\n<p>이런 한계를 인식하고 적절한 용도로 활용한다면, 생산성을 크게 높일 수 있는 도구라고 생각합니다.</p>\n<h2 id=\"후속-발전-2024년-이후\">후속 발전 (2024년 이후)</h2>\n<blockquote>\n<p><strong>2024년 업데이트</strong>: 이 글 작성 이후 이미지 생성 AI는 빠르게 발전했습니다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">STABLE_DIFFUSION_EVOLUTION <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"SDXL (2023.07)\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"resolution\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1024x1024 기본\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"improvement\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"품질 대폭 향상, 텍스트 렌더링 약간 개선\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"note\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"이 글에서 다룬 SD 1.5보다 훨씬 좋은 품질\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"SDXL Turbo (2023.11)\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"speed\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1-4 step으로 생성 가능\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"improvement\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"실시간 생성에 가까운 속도\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"SD3 (2024.02)\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"architecture\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"DiT (Diffusion Transformer) 기반\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"improvement\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"텍스트 렌더링 크게 개선, 프롬프트 이해력 향상\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"note\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"드디어 글씨가 제대로 나옴\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"FLUX (2024.08)\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"creator\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Black Forest Labs (SD 창시자들)\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"improvement\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"SD3보다 더 나은 품질, 빠른 속도\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"note\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"오픈소스 이미지 생성의 새로운 기준\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>특히 SD3와 FLUX는 이 글에서 언급한 \"텍스트 렌더링 불가\" 문제를 상당 부분 해결했습니다. 기술 발전 속도가 정말 빠릅니다.</p>\n<h2 id=\"관련-글\">관련 글</h2>\n<ul>\n<li><a href=\"/posts/gpt3-transformer-innovation\">GPT-3가 바꿔놓은 것들</a></li>\n<li><a href=\"/posts/stable-diffusion-generative-ai-2023\">SDXL로 텍스처 생성 프로젝트를 진행하면서</a></li>\n<li><a href=\"/posts/llama-opensource-ecosystem-2023\">LLaMA가 바꿔놓은 것들</a></li>\n</ul>\n<hr>\n<h2 id=\"참고-자료\">참고 자료</h2>\n<ul>\n<li><a href=\"https://stability.ai/stable-diffusion\">Stable Diffusion 공식 문서</a></li>\n<li><a href=\"https://huggingface.co/docs/diffusers\">Hugging Face Diffusers</a></li>\n<li><a href=\"https://civitai.com/\">Civitai</a> - LoRA 모델 공유 커뮤니티</li>\n<li><a href=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui\">AUTOMATIC1111 WebUI</a> - GUI 기반 사용</li>\n</ul>","excerpt":"Stable Diffusion을 실무에 적용해본 경험 2023년 초, Stable Diffusion을 처음 사용해봤습니다. \"텍스트를 입력하면 이미지가 생성된다\"는 개념은 알고 있었지만, 직접 써보니 그 가능성과 한계가 동시에 느껴졌습니다. 이 글에서는 실제 업무에 적용하면서 배운 것들을 공유합니다. 첫 만남 Hugging Face의 diffusers 라…","frontmatter":{"date":"23.04.01","dateISO":"2023-04-01","description":"2023년 생성형 이미지 AI를 업무에 활용하면서 배운 것들","slug":"/stable-diffusion-ai-generation-2023","heroImage":null,"heroImageAlt":null,"tags":["ai"],"title":"Stable Diffusion을 실무에 적용해본 경험"},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#stable-diffusion%EC%9D%84-%EC%8B%A4%EB%AC%B4%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B8-%EA%B2%BD%ED%97%98\">Stable Diffusion을 실무에 적용해본 경험</a></p>\n<ul>\n<li>\n<p><a href=\"#%EC%B2%AB-%EB%A7%8C%EB%82%A8\">첫 만남</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%8B%A4%EB%AC%B4-%ED%99%9C%EC%9A%A9-%EC%82%AC%EB%A1%80\">실무 활용 사례</a></p>\n<ul>\n<li><a href=\"#1-%ED%94%84%EB%A0%88%EC%A0%A0%ED%85%8C%EC%9D%B4%EC%85%98-%EC%82%BD%ED%99%94\">1. 프레젠테이션 삽화</a></li>\n<li><a href=\"#2-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EC%8D%B8%EB%84%A4%EC%9D%BC\">2. 블로그 썸네일</a></li>\n<li><a href=\"#3-%EC%95%84%EC%9D%B4%EB%94%94%EC%96%B4-%EC%8A%A4%EC%BC%80%EC%B9%98\">3. 아이디어 스케치</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#lora-%EC%8A%A4%ED%83%80%EC%9D%BC-%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95\">LoRA: 스타일 커스터마이징</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%AC%ED%94%84%ED%8A%B8-%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%A7%81\">프롬프트 엔지니어링</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%95%9C%EA%B3%84%EC%99%80-%EC%A3%BC%EC%9D%98%EC%A0%90\">한계와 주의점</a></p>\n<ul>\n<li><a href=\"#1-%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%98-%ED%95%9C%EA%B3%84\">1. 텍스트 렌더링의 한계</a></li>\n<li><a href=\"#2-%EC%9D%BC%EA%B4%80%EC%84%B1-%EB%AC%B8%EC%A0%9C\">2. 일관성 문제</a></li>\n<li><a href=\"#3-%EC%A0%80%EC%9E%91%EA%B6%8C-%EC%9D%B4%EC%8A%88\">3. 저작권 이슈</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A1%9C%EC%BB%AC-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1\">로컬 환경 구성</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%9B%84%EC%86%8D-%EB%B0%9C%EC%A0%84-2024%EB%85%84-%EC%9D%B4%ED%9B%84\">후속 발전 (2024년 이후)</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B4%80%EB%A0%A8-%EA%B8%80\">관련 글</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">참고 자료</a></p>\n</li>\n</ul>\n</li>\n</ul>"}},"pageContext":{"id":"a0e4135c-2ad7-58f4-86cb-6aa414ceb550","frontmatter__slug":"/stable-diffusion-ai-generation-2023","previous":"/mobile-ai-optimization-2023","previousTitle":"모바일에서 AI 모델 돌리기","next":"/stable-diffusion-generative-ai-2023","nextTitle":"SDXL로 텍스처 생성 프로젝트를 진행하면서"}},"staticQueryHashes":["12962592","3399079524","3470099541","4097432363","76375841"],"slicesMap":{}}