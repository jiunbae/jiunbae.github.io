"use strict";(self.webpackChunkjiunbae_github_io=self.webpackChunkjiunbae_github_io||[]).push([[3741],{546:function(t,i,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t){var i=function(t,i){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,i||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==n(i)?i:i+""}function o(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function s(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}e.d(i,{A:function(){return s}})},3741:function(t,i,e){e.r(i),e.d(i,{GenerativeArtEngine:function(){return h},PALETTES:function(){return o}});var n=e(546);let a=function(){function t(t){this.grad=[[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[0,1],[0,-1]];const i=[];for(let e=0;e<256;e++)i[e]=e;for(let e=255;e>0;e--){const n=Math.floor(t()*(e+1));[i[e],i[n]]=[i[n],i[e]]}this.perm=[].concat(i,i)}var i=t.prototype;return i.dot=function(t,i,e){return t[0]*i+t[1]*e},i.noise=function(t,i){const e=.5*(Math.sqrt(3)-1),n=(3-Math.sqrt(3))/6,a=(t+i)*e,o=Math.floor(t+a),s=Math.floor(i+a),r=(o+s)*n,h=t-(o-r),l=i-(s-r);let c,f;h>l?(c=1,f=0):(c=0,f=1);const d=h-c+n,g=l-f+n,m=h-1+2*n,u=l-1+2*n,p=255&o,M=255&s,v=this.perm[p+this.perm[M]]%8,x=this.perm[p+c+this.perm[M+f]]%8,y=this.perm[p+1+this.perm[M+1]]%8;let b=0,w=0,P=0,C=.5-h*h-l*l;C>=0&&(C*=C,b=C*C*this.dot(this.grad[v],h,l));let S=.5-d*d-g*g;S>=0&&(S*=S,w=S*S*this.dot(this.grad[x],d,g));let $=.5-m*m-u*u;return $>=0&&($*=$,P=$*$*this.dot(this.grad[y],m,u)),70*(b+w+P)},t}();const o=[{name:"neonNoir",label:"Neon Noir",colors:["#ff006e","#fb5607","#ffbe0b","#8338ec","#3a86ff"]},{name:"ocean",label:"Ocean Depths",colors:["#0077b6","#00b4d8","#90e0ef","#caf0f8","#03045e"]},{name:"sunset",label:"Sunset",colors:["#ff595e","#ff924c","#ffca3a","#c77dff","#9b5de5"]},{name:"forest",label:"Forest",colors:["#606c38","#283618","#dda15e","#bc6c25","#fefae0"]},{name:"mono",label:"Monochrome",colors:["#f8f9fa","#adb5bd","#6c757d","#343a40","#212529"]}];function s(t){const i=parseInt(t.slice(1),16);return[i>>16&255,i>>8&255,255&i]}function r(t,i,e){return[t[0]+(i[0]-t[0])*e,t[1]+(i[1]-t[1])*e,t[2]+(i[2]-t[2])*e]}let h=function(){function t(t){this.animId=0,this.disposed=!1,this.running=!1,this.mode="flowField",this.palette=o[0],this.currentSeed=0,this.startTime=0,this.frameCount=0,this.ffParticles=[],this.ffImageData=null,this.ftBranches=[],this.ftLeaves=[],this.ftDrawIndex=0,this.ftWindTime=0,this.ftTreeParams=[],this.cpCircles=[],this.cpAttempts=0,this.voPoints=[],this.voBuffer=null,this.voOffCanvas=null,this.voOffCtx=null,this.handleResize=()=>{this.resize(),this.running||this.generate(this.currentSeed)},this.tick=()=>{if(!this.disposed&&this.running)switch(this.animId=requestAnimationFrame(this.tick),this.frameCount++,this.mode){case"flowField":this.drawFlowField();break;case"fractalTree":this.drawFractalTree();break;case"circlePacking":this.drawCirclePacking();break;case"voronoi":this.drawVoronoi()}},this.container=t,this.canvas=document.createElement("canvas"),this.canvas.style.display="block",this.canvas.style.width="100%",this.canvas.style.height="100%",t.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),this.resize(),window.addEventListener("resize",this.handleResize)}var i=t.prototype;return i.setMode=function(t){this.mode=t,this.generate(this.currentSeed)},i.setPalette=function(t){this.palette=t,this.generate(this.currentSeed)},i.generate=function(t){if(this.stop(),this.currentSeed=null!=t?t:Math.floor(2147483647*Math.random()),this.rng=function(t){return()=>{t=1831565813+(t|=0)|0;let i=Math.imul(t^t>>>15,1|t);return i=i+Math.imul(i^i>>>7,61|i)^i,((i^i>>>14)>>>0)/4294967296}}(this.currentSeed),this.noise=new a(this.rng),this.frameCount=0,this.startTime=performance.now(),this.running=!0,this.disposed)return;const i=this.canvas.width,e=this.canvas.height;switch(this.ctx.fillStyle="#0a0a0a",this.ctx.fillRect(0,0,i,e),this.mode){case"flowField":this.initFlowField();break;case"fractalTree":this.initFractalTree();break;case"circlePacking":this.initCirclePacking();break;case"voronoi":this.initVoronoi()}return this.tick(),this.currentSeed},i.exportPNG=function(){const t=document.createElement("a");t.download=`generative-art-${this.currentSeed}.png`,t.href=this.canvas.toDataURL("image/png"),t.click()},i.stop=function(){this.running=!1,this.animId&&(cancelAnimationFrame(this.animId),this.animId=0)},i.dispose=function(){this.stop(),this.disposed=!0,window.removeEventListener("resize",this.handleResize),this.canvas.parentElement&&this.canvas.parentElement.removeChild(this.canvas)},i.resize=function(){const t=Math.min(window.devicePixelRatio,2),i=this.container.clientWidth,e=this.container.clientHeight;this.canvas.width=i*t,this.canvas.height=e*t,this.ctx.setTransform(t,0,0,t,0,0)},i.paletteColor=function(t){const i=this.palette.colors;return i[(t%i.length+i.length)%i.length]},i.paletteRgb=function(t){return s(this.paletteColor(t))},i.randomPaletteColor=function(){return this.paletteColor(Math.floor(this.rng()*this.palette.colors.length))},i.initFlowField=function(){const t=this.container.clientWidth,i=this.container.clientHeight,e=Math.min(3e3,Math.floor(t*i/200));this.ffParticles=[];for(let n=0;n<e;n++)this.ffParticles.push({x:this.rng()*t,y:this.rng()*i,vx:0,vy:0,life:0,maxLife:80+Math.floor(120*this.rng()),colorIdx:Math.floor(this.rng()*this.palette.colors.length)});this.ffImageData=null},i.drawFlowField=function(){const t=this.container.clientWidth,i=this.container.clientHeight,e=this.ctx,n=.002*this.frameCount;e.fillStyle="rgba(10, 10, 10, 0.012)",e.fillRect(0,0,t,i);for(const a of this.ffParticles){const o=this.noise.noise(.003*a.x+n,.003*a.y)*Math.PI*4;a.vx=1.5*Math.cos(o),a.vy=1.5*Math.sin(o);const s=a.x,h=a.y;a.x+=a.vx,a.y+=a.vy,a.life++;const l=a.life/a.maxLife,c=.4*Math.sin(l*Math.PI);if(c>.01){const n=this.paletteRgb(a.colorIdx),o=.5*(a.x/t+a.y/i),l=r(n,this.paletteRgb(a.colorIdx+1),o%1);e.beginPath(),e.moveTo(s,h),e.lineTo(a.x,a.y),e.strokeStyle=`rgba(${0|l[0]},${0|l[1]},${0|l[2]},${c})`,e.lineWidth=1.2,e.stroke()}(a.life>=a.maxLife||a.x<0||a.x>t||a.y<0||a.y>i)&&(a.x=this.rng()*t,a.y=this.rng()*i,a.life=0,a.maxLife=80+Math.floor(120*this.rng()),a.colorIdx=Math.floor(this.rng()*this.palette.colors.length))}},i.initFractalTree=function(){const t=this.container.clientWidth,i=this.container.clientHeight;this.ftBranches=[],this.ftLeaves=[],this.ftDrawIndex=0,this.ftWindTime=0,this.ftTreeParams=[];const e=1+Math.floor(3*this.rng());for(let n=0;n<e;n++){const e=t*(.2+.6*this.rng()),n=.9*i,a=i*(.12+.08*this.rng()),o=9+Math.floor(3*this.rng()),s=.65+.12*this.rng(),r=.3+.4*this.rng();this.ftTreeParams.push({baseX:e,baseY:n,angle:-Math.PI/2,length:a,decay:s,maxDepth:o,spread:r}),this.generateBranches(e,n,-Math.PI/2,a,o,s,r,0)}},i.generateBranches=function(t,i,e,n,a,o,s,r){if(r>=a||n<2)return void this.ftLeaves.push({x:t,y:i,r:2+4*this.rng(),color:this.randomPaletteColor(),drawn:!1});const h=t+Math.cos(e)*n,l=i+Math.sin(e)*n,c=r/a,f=Math.floor(c*(this.palette.colors.length-1)),d=this.paletteColor(f),g=Math.max(1,6*(1-c));this.ftBranches.push({x1:t,y1:i,x2:h,y2:l,depth:r,drawn:!1,color:d,width:g});const m=2+(this.rng()>.7?1:0);for(let u=0;u<m;u++){const t=(u-(m-1)/2)*s+.2*(this.rng()-.5),i=n*(o+.1*(this.rng()-.5));this.generateBranches(h,l,e+t,i,a,o,s,r+1)}},i.drawFractalTree=function(){const t=this.ctx,i=Math.max(8,Math.floor(this.ftBranches.length/90));let e=0;for(let n=this.ftDrawIndex;n<this.ftBranches.length&&e<i;n++){const i=this.ftBranches[n];if(i.drawn)continue;this.ftWindTime+=5e-5;const a=Math.sin(2*this.ftWindTime+.3*i.depth)*i.depth*.4;t.beginPath(),t.moveTo(i.x1+.3*a,i.y1),t.lineTo(i.x2+a,i.y2),t.strokeStyle=i.color,t.lineWidth=i.width,t.lineCap="round",t.globalAlpha=.85,t.stroke(),t.shadowColor=i.color,t.shadowBlur=4,t.stroke(),t.shadowBlur=0,t.globalAlpha=1,i.drawn=!0,e++,this.ftDrawIndex=n+1}if(this.ftDrawIndex>=this.ftBranches.length){let i=0;const e=Math.max(4,Math.floor(this.ftLeaves.length/60));for(const n of this.ftLeaves){if(n.drawn||i>=e)continue;const a=2*Math.sin(3*this.ftWindTime+.01*n.x);t.beginPath(),t.arc(n.x+a,n.y,n.r,0,2*Math.PI),t.fillStyle=n.color,t.globalAlpha=.7,t.fill(),t.globalAlpha=1,n.drawn=!0,i++}this.ftLeaves.every(t=>t.drawn)&&this.animateTreeWind()}},i.animateTreeWind=function(){const t=this.ctx,i=this.container.clientWidth,e=this.container.clientHeight;this.ftWindTime+=.02,t.fillStyle="#0a0a0a",t.fillRect(0,0,i,e);for(const n of this.ftBranches){const i=Math.sin(this.ftWindTime+.4*n.depth)*n.depth*.5;t.beginPath(),t.moveTo(n.x1+.3*i,n.y1),t.lineTo(n.x2+i,n.y2),t.strokeStyle=n.color,t.lineWidth=n.width,t.lineCap="round",t.globalAlpha=.85,t.stroke(),t.globalAlpha=1}for(const n of this.ftLeaves){const i=3*Math.sin(1.5*this.ftWindTime+.01*n.x);t.beginPath(),t.arc(n.x+i,n.y,n.r,0,2*Math.PI),t.fillStyle=n.color,t.globalAlpha=.7,t.fill(),t.globalAlpha=1}},i.initCirclePacking=function(){this.cpCircles=[],this.cpAttempts=0},i.drawCirclePacking=function(){const t=this.container.clientWidth,i=this.container.clientHeight,e=this.ctx;for(let n=0;n<12;n++){if(this.cpAttempts>15e3)return void this.animateCircles();this.cpAttempts++;const e=this.rng()*t,n=this.rng()*i,a=2,o=20+80*this.rng();let s=!0,r=o;for(const t of this.cpCircles){const i=e-t.x,o=n-t.y,h=Math.sqrt(i*i+o*o);if(h<t.r+a+2){s=!1;break}r=Math.min(r,h-t.r-2)}if(r=Math.min(r,e,n,t-e,i-n),s&&r>=a){const t=Math.floor(this.rng()*this.palette.colors.length);this.cpCircles.push({x:e,y:n,r:a,maxR:Math.min(r,o),color:this.paletteColor(t),growing:!0,alpha:0})}}e.fillStyle="#0a0a0a",e.fillRect(0,0,t,i);for(const n of this.cpCircles){if(n.growing){n.r+=.5,n.alpha=Math.min(n.alpha+.05,.85),n.r>=n.maxR&&(n.growing=!1,n.r=n.maxR);for(const t of this.cpCircles){if(t===n)continue;const i=n.x-t.x,e=n.y-t.y;if(Math.sqrt(i*i+e*e)<n.r+t.r+2){n.growing=!1,n.r=Math.max(n.r-.5,2);break}}}const t=s(n.color),i=e.createRadialGradient(n.x-.3*n.r,n.y-.3*n.r,0,n.x,n.y,n.r);i.addColorStop(0,`rgba(${Math.min(t[0]+60,255)},${Math.min(t[1]+60,255)},${Math.min(t[2]+60,255)},${n.alpha})`),i.addColorStop(.7,`rgba(${t[0]},${t[1]},${t[2]},${.8*n.alpha})`),i.addColorStop(1,`rgba(${t[0]>>1},${t[1]>>1},${t[2]>>1},${.6*n.alpha})`),e.beginPath(),e.arc(n.x,n.y,n.r,0,2*Math.PI),e.fillStyle=i,e.fill(),e.strokeStyle=`rgba(${t[0]},${t[1]},${t[2]},${.3*n.alpha})`,e.lineWidth=1,e.stroke()}},i.animateCircles=function(){const t=this.ctx,i=this.container.clientWidth,e=this.container.clientHeight,n=.02*this.frameCount;t.fillStyle="#0a0a0a",t.fillRect(0,0,i,e);for(const a of this.cpCircles){const i=s(a.color),e=1+.02*Math.sin(n+.01*a.x+.01*a.y),o=t.createRadialGradient(a.x-.3*a.r,a.y-.3*a.r,0,a.x,a.y,a.r*e);o.addColorStop(0,`rgba(${Math.min(i[0]+60,255)},${Math.min(i[1]+60,255)},${Math.min(i[2]+60,255)},${a.alpha})`),o.addColorStop(.7,`rgba(${i[0]},${i[1]},${i[2]},${.8*a.alpha})`),o.addColorStop(1,`rgba(${i[0]>>1},${i[1]>>1},${i[2]>>1},${.6*a.alpha})`),t.beginPath(),t.arc(a.x,a.y,a.r*e,0,2*Math.PI),t.fillStyle=o,t.fill(),t.strokeStyle=`rgba(${i[0]},${i[1]},${i[2]},${.3*a.alpha})`,t.lineWidth=1,t.stroke()}},i.initVoronoi=function(){const t=this.container.clientWidth,i=this.container.clientHeight,e=40+Math.floor(40*this.rng());this.voPoints=[];for(let n=0;n<e;n++){const e=Math.floor(this.rng()*this.palette.colors.length),n=this.paletteRgb(e);this.voPoints.push({x:this.rng()*t,y:this.rng()*i,vx:.5*(this.rng()-.5),vy:.5*(this.rng()-.5),color:n})}this.voBuffer=null},i.drawVoronoi=function(){const t=this.container.clientWidth,i=this.container.clientHeight,e=this.ctx;Math.min(window.devicePixelRatio,2);for(const u of this.voPoints)u.x+=u.vx,u.y+=u.vy,(u.x<0||u.x>t)&&(u.vx*=-1),(u.y<0||u.y>i)&&(u.vy*=-1),u.x=Math.max(0,Math.min(t,u.x)),u.y=Math.max(0,Math.min(i,u.y));const n=Math.ceil(t/4),a=Math.ceil(i/4);this.voOffCanvas&&this.voOffCanvas.width===n&&this.voOffCanvas.height===a||(this.voOffCanvas=document.createElement("canvas"),this.voOffCanvas.width=n,this.voOffCanvas.height=a,this.voOffCtx=this.voOffCanvas.getContext("2d"));const o=this.voOffCtx,s=this.voOffCanvas,r=o.createImageData(n,a),h=r.data,l=this.voPoints.length,c=Math.max(1,Math.floor(Math.min(t,i)/Math.sqrt(l))),f=Math.ceil(t/c),d=Math.ceil(i/c),g=f*d,m=new Array(g);for(let u=0;u<g;u++)m[u]=[];for(let u=0;u<l;u++){const t=Math.min(Math.floor(this.voPoints[u].x/c),f-1);m[Math.min(Math.floor(this.voPoints[u].y/c),d-1)*f+t].push(u)}for(let u=0;u<a;u++)for(let t=0;t<n;t++){const i=4*t,e=4*u,a=Math.min(Math.floor(i/c),f-1),o=Math.min(Math.floor(e/c),d-1);let s=1/0,r=1/0,g=0;const p=Math.max(0,o-2),M=Math.min(d-1,o+2),v=Math.max(0,a-2),x=Math.min(f-1,a+2);for(let t=p;t<=M;t++){const n=t*f;for(let t=v;t<=x;t++){const a=m[n+t];for(let t=0;t<a.length;t++){const n=a[t],o=i-this.voPoints[n].x,h=e-this.voPoints[n].y,l=o*o+h*h;l<s?(r=s,s=l,g=n):l<r&&(r=l)}}}if(r===1/0){s=1/0,r=1/0,g=0;for(let t=0;t<l;t++){const n=i-this.voPoints[t].x,a=e-this.voPoints[t].y,o=n*n+a*a;o<s?(r=s,s=o,g=t):o<r&&(r=o)}}const y=this.voPoints[g],b=Math.sqrt(s),w=Math.sqrt(r),P=1-Math.pow(Math.max(0,1-(w-b)/12),2),C=b/80,S=30*Math.sin(C*Math.PI*2),$=30*Math.sin(C*Math.PI*2+2.094),k=30*Math.sin(C*Math.PI*2+4.189),I=y.color,T=4*(u*n+t),W=.5+.5*P,A=w-b<3?.15:1;h[T]=Math.max(0,Math.min(255,(I[0]+S)*W*A)),h[T+1]=Math.max(0,Math.min(255,(I[1]+$)*W*A)),h[T+2]=Math.max(0,Math.min(255,(I[2]+k)*W*A)),h[T+3]=255}o.putImageData(r,0,0),e.imageSmoothingEnabled=!0,e.imageSmoothingQuality="high",e.drawImage(s,0,0,t,i),e.globalAlpha=.15;for(let u=0;u<this.voPoints.length;u++){const t=this.voPoints[u];e.beginPath(),e.arc(t.x,t.y,2,0,2*Math.PI),e.fillStyle="rgba(255,255,255,0.3)",e.fill()}e.globalAlpha=1},(0,n.A)(t,[{key:"seed",get:function(){return this.currentSeed}}])}()}}]);
//# sourceMappingURL=3741-d02f287818c3943728b1.js.map