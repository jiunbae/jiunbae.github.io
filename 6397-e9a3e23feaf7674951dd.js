"use strict";(self.webpackChunkjiunbae_github_io=self.webpackChunkjiunbae_github_io||[]).push([[6397],{6397:function(t,i,s){s.r(i),s.d(i,{SortingLabEngine:function(){return r}});var h=s(7116);function n(t,i,s){return Math.max(i,Math.min(s,t))}function e(t,i,s){const h=t[i];t[i]=t[s],t[s]=h}let r=function(){function t(t){this.values=[],this.algorithm="quick",this.distribution="random",this.size=120,this.opsPerFrame=80,this.operations=[],this.opIndex=0,this.dirty=!0,this.running=!1,this.done=!1,this.comparisons=0,this.swaps=0,this.highlightA=-1,this.highlightB=-1,this.highlightTtl=0,this.dirtyFrame=!0,this.backgroundGradient=null,this.w=1,this.h=1,this.dpr=1,this.animationId=0,this.disposed=!1,this.resizeObserver=null,this.snapshotListener=null,this.snapshotDirty=!0,this.animate=()=>{if(!this.disposed){if(this.animationId=0,this.running){this.ensureOperations();for(let t=0;t<this.opsPerFrame&&(this.applyNextOperation(),!this.done);t++);}this.highlightTtl>0&&(this.highlightTtl--,0===this.highlightTtl&&(this.highlightA=-1,this.highlightB=-1,this.dirtyFrame=!0)),(this.running||this.dirtyFrame)&&(this.draw(),this.dirtyFrame=!1),this.flushSnapshot(),(this.running||this.highlightTtl>0||this.dirtyFrame)&&this.requestFrame()}},this.container=t,this.canvas=document.createElement("canvas"),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",t.appendChild(this.canvas);const i=this.canvas.getContext("2d");if(!i)throw new Error("Canvas 2D context is not available");this.ctx=i,this.resizeCanvas(),this.shuffle("random"),this.initListeners(),this.requestFrame()}var i=t.prototype;return i.setAlgorithm=function(t){this.algorithm!==t&&(this.algorithm=t,this.running=!1,this.done=!1,this.markDirty())},i.setDistribution=function(t){this.distribution!==t&&this.shuffle(t)},i.setSize=function(t){const i=Math.round(n(t,16,360));this.size!==i&&(this.size=i,this.shuffle(this.distribution))},i.setSpeed=function(t){const i=Math.round(n(t,1,400));this.opsPerFrame!==i&&(this.opsPerFrame=i)},i.shuffle=function(t){void 0===t&&(t=this.distribution),this.distribution=t;const i=Array.from({length:this.size},(t,i)=>i+1);if("random"===t)for(let s=i.length-1;s>0;s--){e(i,s,Math.floor(Math.random()*(s+1)))}else if("reversed"===t)i.reverse();else{const t=Math.max(1,Math.floor(.08*this.size));for(let s=0;s<t;s++){e(i,Math.floor(Math.random()*i.length),Math.floor(Math.random()*i.length))}}this.values=i,this.running=!1,this.done=!1,this.markDirty()},i.start=function(){this.ensureOperations(),this.done||(this.running=!0,this.markSnapshotDirty(),this.markFrameDirty())},i.pause=function(){this.running&&(this.running=!1,this.markSnapshotDirty(),this.markFrameDirty())},i.step=function(t){if(void 0===t&&(t=1),this.ensureOperations(),!this.done){this.running=!1;for(let i=0;i<t&&(this.applyNextOperation(),!this.done);i++);this.markSnapshotDirty(),this.markFrameDirty()}},i.getSnapshot=function(){const t=this.operations.length,i=this.done?1:t>0?this.opIndex/t:0;return{running:this.running,done:this.done,algorithm:this.algorithm,size:this.size,distribution:this.distribution,comparisons:this.comparisons,swaps:this.swaps,operations:this.opIndex,totalOperations:t,progress:i}},i.setSnapshotListener=function(t){this.snapshotListener=t,this.snapshotDirty=!0,this.flushSnapshot()},i.dispose=function(){var t;this.disposed=!0,this.snapshotListener=null,0!==this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=0),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=null,this.canvas.parentElement&&this.canvas.parentElement.removeChild(this.canvas)},i.applyNextOperation=function(){if(this.opIndex>=this.operations.length)return this.running=!1,this.done=!0,void this.markSnapshotDirty();const t=this.operations[this.opIndex++];this.highlightA=t.a,this.highlightB=t.b,this.highlightTtl=6,this.dirtyFrame=!0,"compare"===t.type?this.comparisons++:(this.swaps++,e(this.values,t.a,t.b)),this.markSnapshotDirty(),this.opIndex>=this.operations.length&&(this.running=!1,this.done=!0,this.markSnapshotDirty())},i.draw=function(){if(this.ctx.clearRect(0,0,this.w,this.h),!this.backgroundGradient){const t=this.ctx.createLinearGradient(0,0,0,this.h);t.addColorStop(0,"#0f172a"),t.addColorStop(.45,"#111827"),t.addColorStop(1,"#030712"),this.backgroundGradient=t}this.ctx.fillStyle=this.backgroundGradient,this.ctx.fillRect(0,0,this.w,this.h);const t=this.values.length;if(0===t)return;const i=this.w/t,s=i>4?1:0,h=this.h-18;for(let n=0;n<t;n++){const e=this.values[n]/t,r=Math.max(3,e*h),o=n*i+.5*s,a=this.h-r,l=Math.max(1,i-s);this.done?this.ctx.fillStyle=`hsl(${155+30*e} 70% ${46+14*e}%)`:n===this.highlightA?this.ctx.fillStyle="#fb7185":n===this.highlightB?this.ctx.fillStyle="#22d3ee":this.ctx.fillStyle=`hsl(${205+90*e} 72% ${38+20*e}%)`,this.ctx.fillRect(o,a,l,r)}this.ctx.strokeStyle="rgba(148, 163, 184, 0.2)",this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(0,this.h-.5),this.ctx.lineTo(this.w,this.h-.5),this.ctx.stroke()},i.ensureOperations=function(){if(!this.dirty)return;const t=(0,h.A)(this.values);this.operations=this.generateOperations(t,this.algorithm),this.opIndex=0,this.comparisons=0,this.swaps=0,this.running=!1,this.done=0===this.operations.length,this.highlightA=-1,this.highlightB=-1,this.highlightTtl=0,this.dirty=!1,this.markSnapshotDirty(),this.markFrameDirty()},i.generateOperations=function(t,i){return"bubble"===i?this.buildBubbleOperations(t):"selection"===i?this.buildSelectionOperations(t):"insertion"===i?this.buildInsertionOperations(t):this.buildQuickOperations(t)},i.buildBubbleOperations=function(t){const i=[],s=t.length;for(let h=0;h<s-1;h++)for(let n=0;n<s-h-1;n++)i.push({type:"compare",a:n,b:n+1}),t[n]>t[n+1]&&(e(t,n,n+1),i.push({type:"swap",a:n,b:n+1}));return i},i.buildSelectionOperations=function(t){const i=[],s=t.length;for(let h=0;h<s-1;h++){let n=h;for(let e=h+1;e<s;e++)i.push({type:"compare",a:n,b:e}),t[e]<t[n]&&(n=e);n!==h&&(e(t,h,n),i.push({type:"swap",a:h,b:n}))}return i},i.buildInsertionOperations=function(t){const i=[],s=t.length;for(let h=1;h<s;h++){let s=h;for(;s>0&&(i.push({type:"compare",a:s-1,b:s}),!(t[s-1]<=t[s]));)e(t,s-1,s),i.push({type:"swap",a:s-1,b:s}),s--}return i},i.buildQuickOperations=function(t){const i=[],s=[[0,t.length-1]];for(;s.length>0;){const h=s.pop();if(!h)continue;const[n,e]=h;if(n>=e)continue;const r=this.partition(t,n,e,i);r-1-n>e-(r+1)?(s.push([n,r-1]),s.push([r+1,e])):(s.push([r+1,e]),s.push([n,r-1]))}return i},i.partition=function(t,i,s,h){const n=t[s];let r=i;for(let o=i;o<s;o++)h.push({type:"compare",a:o,b:s}),t[o]<n&&(r!==o&&(e(t,r,o),h.push({type:"swap",a:r,b:o})),r++);return r!==s&&(e(t,r,s),h.push({type:"swap",a:r,b:s})),r},i.markDirty=function(){this.dirty=!0,this.operations=[],this.opIndex=0,this.comparisons=0,this.swaps=0,this.highlightA=-1,this.highlightB=-1,this.highlightTtl=0,this.markSnapshotDirty(),this.markFrameDirty()},i.markFrameDirty=function(){this.dirtyFrame=!0,this.requestFrame()},i.markSnapshotDirty=function(){this.snapshotDirty=!0},i.flushSnapshot=function(){this.snapshotDirty&&this.snapshotListener&&(this.snapshotListener(this.getSnapshot()),this.snapshotDirty=!1)},i.requestFrame=function(){this.disposed||0!==this.animationId||(this.animationId=requestAnimationFrame(this.animate))},i.resizeCanvas=function(){const t=this.container.getBoundingClientRect();this.w=Math.max(1,Math.floor(t.width)),this.h=Math.max(1,Math.floor(t.height)),this.dpr=Math.min(window.devicePixelRatio||1,2),this.canvas.width=Math.floor(this.w*this.dpr),this.canvas.height=Math.floor(this.h*this.dpr),this.ctx.setTransform(this.dpr,0,0,this.dpr,0,0),this.backgroundGradient=null,this.markFrameDirty()},i.initListeners=function(){this.resizeObserver=new ResizeObserver(()=>this.resizeCanvas()),this.resizeObserver.observe(this.container)},t}()}}]);
//# sourceMappingURL=6397-e9a3e23feaf7674951dd.js.map