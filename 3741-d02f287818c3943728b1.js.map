{"version":3,"file":"3741-d02f287818c3943728b1.js","mappings":"2HAAA,SAASA,EAAQC,GAGf,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAC7F,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAK,mBAAqBC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,gBAAkBJ,CACpH,EAAGD,EAAQC,EACb,CCNA,SAASK,EAAcC,GACrB,IAAIC,ECFN,SAAqBD,EAAGE,GACtB,GAAI,UAAYT,EAAQO,KAAOA,EAAG,OAAOA,EACzC,IAAIG,EAAIH,EAAEL,OAAOS,aACjB,QAAI,IAAWD,EAAG,CAChB,IAAIF,EAAIE,EAAEE,KAAKL,EAAGE,GAAK,WACvB,GAAI,UAAYT,EAAQQ,GAAI,OAAOA,EACnC,MAAM,IAAIK,UAAU,+CACtB,CACA,OAAQ,WAAaJ,EAAIK,OAASC,QAAQR,EAC5C,CDPUI,CAAYJ,EAAG,UACvB,MAAO,UAAYP,EAAQQ,GAAKA,EAAIA,EAAI,EAC1C,CEJA,SAASQ,EAAkBN,EAAGD,GAC5B,IAAK,IAAIF,EAAI,EAAGA,EAAIE,EAAEQ,OAAQV,IAAK,CACjC,IAAIN,EAAIQ,EAAEF,GACVN,EAAEiB,WAAajB,EAAEiB,aAAc,EAAIjB,EAAEkB,cAAe,EAAI,UAAWlB,IAAMA,EAAEmB,UAAW,GAAKC,OAAOC,eAAeZ,EAAGJ,EAAcL,EAAEsB,KAAMtB,EAC5I,CACF,CACA,SAASuB,EAAad,EAAGD,EAAGF,GAC1B,OAAOE,GAAKO,EAAkBN,EAAEL,UAAWI,GAAIF,GAAKS,EAAkBN,EAAGH,GAAIc,OAAOC,eAAeZ,EAAG,YAAa,CACjHU,UAAU,IACRV,CACN,C,0JCAA,IACMe,EAAc,WAOlB,SAAAA,EAAYC,GAAoB,KALxBC,KAA2B,CACjC,CAAC,EAAG,GAAI,EAAE,EAAG,GAAI,CAAC,GAAI,GAAI,EAAE,GAAI,GAChC,CAAC,EAAG,GAAI,EAAE,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,GAAI,IAI9B,MAAMC,EAAc,GACpB,IAAK,IAAIpB,EAAI,EAAGA,EAAI,IAAKA,IAAKoB,EAAEpB,GAAKA,EAErC,IAAK,IAAIA,EAAI,IAAKA,EAAI,EAAGA,IAAK,CAC5B,MAAMqB,EAAIC,KAAKC,MAAML,KAASlB,EAAI,KACjCoB,EAAEpB,GAAIoB,EAAEC,IAAM,CAACD,EAAEC,GAAID,EAAEpB,GAC1B,CACAwB,KAAKC,KAAI,GAAAC,OAAON,EAAMA,EACxB,CAAC,IAAAO,EAAAV,EAAApB,UA2CA,OA3CA8B,EAEOC,IAAR,SAAYC,EAAqBC,EAAWC,GAC1C,OAAOF,EAAE,GAAKC,EAAID,EAAE,GAAKE,CAC3B,EAACJ,EAEDK,MAAA,SAAMC,EAAaC,GACjB,MAAMC,EAAK,IAAOb,KAAKc,KAAK,GAAK,GAC3BC,GAAM,EAAIf,KAAKc,KAAK,IAAM,EAC1BE,GAAKL,EAAMC,GAAOC,EAClBnC,EAAIsB,KAAKC,MAAMU,EAAMK,GACrBjB,EAAIC,KAAKC,MAAMW,EAAMI,GACrBvC,GAAKC,EAAIqB,GAAKgB,EAGdE,EAAKN,GAFAjC,EAAID,GAGTyC,EAAKN,GAFAb,EAAItB,GAIf,IAAI0C,EAAYC,EACZH,EAAKC,GAAMC,EAAK,EAAGC,EAAK,IACrBD,EAAK,EAAGC,EAAK,GAEpB,MAAMC,EAAKJ,EAAKE,EAAKJ,EACfO,EAAKJ,EAAKE,EAAKL,EACfQ,EAAKN,EAAK,EAAI,EAAIF,EAClBS,EAAKN,EAAK,EAAI,EAAIH,EAElBU,EAAS,IAAJ/C,EACLgD,EAAS,IAAJ3B,EACL4B,EAAMzB,KAAKC,KAAKsB,EAAKvB,KAAKC,KAAKuB,IAAO,EACtCE,EAAM1B,KAAKC,KAAKsB,EAAKN,EAAKjB,KAAKC,KAAKuB,EAAKN,IAAO,EAChDS,EAAM3B,KAAKC,KAAKsB,EAAK,EAAIvB,KAAKC,KAAKuB,EAAK,IAAM,EAEpD,IAAII,EAAK,EAAGC,EAAK,EAAGC,EAAK,EACrBC,EAAK,GAAMhB,EAAKA,EAAKC,EAAKA,EAC1Be,GAAM,IAAKA,GAAMA,EAAIH,EAAKG,EAAKA,EAAK/B,KAAKI,IAAIJ,KAAKL,KAAK8B,GAAMV,EAAIC,IACrE,IAAIgB,EAAK,GAAMb,EAAKA,EAAKC,EAAKA,EAC1BY,GAAM,IAAKA,GAAMA,EAAIH,EAAKG,EAAKA,EAAKhC,KAAKI,IAAIJ,KAAKL,KAAK+B,GAAMP,EAAIC,IACrE,IAAIa,EAAK,GAAMZ,EAAKA,EAAKC,EAAKA,EAI9B,OAHIW,GAAM,IAAKA,GAAMA,EAAIH,EAAKG,EAAKA,EAAKjC,KAAKI,IAAIJ,KAAKL,KAAKgC,GAAMN,EAAIC,IAG9D,IAAMM,EAAKC,EAAKC,EACzB,EAACrC,CAAA,CA3DiB,GAyEb,MAAMyC,EAA0B,CACrC,CACEC,KAAM,WACNC,MAAO,YACPC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,YAEvD,CACEF,KAAM,QACNC,MAAO,eACPC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,YAEvD,CACEF,KAAM,SACNC,MAAO,SACPC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,YAEvD,CACEF,KAAM,SACNC,MAAO,SACPC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,YAEvD,CACEF,KAAM,OACNC,MAAO,aACPC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,aAKzD,SAASC,EAASC,GAChB,MAAMC,EAAIC,SAASF,EAAIG,MAAM,GAAI,IACjC,MAAO,CAAEF,GAAK,GAAM,IAAOA,GAAK,EAAK,IAAU,IAAJA,EAC7C,CAEA,SAASG,EACPC,EACAC,EACAtE,GAEA,MAAO,CACLqE,EAAE,IAAMC,EAAE,GAAKD,EAAE,IAAMrE,EACvBqE,EAAE,IAAMC,EAAE,GAAKD,EAAE,IAAMrE,EACvBqE,EAAE,IAAMC,EAAE,GAAKD,EAAE,IAAMrE,EAE3B,CAGO,IAAMuE,EAAmB,WAsC9B,SAAAA,EAAoBC,GAA4B,KAnCxCC,OAAS,EAAC,KACVC,UAAW,EAAK,KAChBC,SAAU,EAAK,KAEfC,KAAgB,YAAW,KAC3BC,QAAuBlB,EAAS,GAAE,KAClCmB,YAAc,EAItB,KACQC,UAAY,EAAC,KACbC,WAAa,EAErB,KACQC,YAAmH,GAAE,KACrHC,YAAgC,KAExC,KACQC,WAAgI,GAAE,KAClIC,SAAiF,GAAE,KACnFC,YAAc,EAAC,KACfC,WAAa,EAAC,KACdC,aAAmI,GAE3I,KACQC,UAAiH,GAAE,KACnHC,WAAa,EAErB,KACQC,SAAgG,GAAE,KAClGC,SAA6B,KAAI,KACjCC,YAAwC,KAAI,KAC5CC,SAA4C,KAwFpD,KACQC,aAAe,KACrBrE,KAAKsE,SACAtE,KAAKkD,SACRlD,KAAKuE,SAASvE,KAAKqD,cAavB,KACQmB,KAAO,KACb,IAAIxE,KAAKiD,UAAajD,KAAKkD,QAI3B,OAHAlD,KAAKgD,OAASyB,sBAAsBzE,KAAKwE,MACzCxE,KAAKuD,aAEGvD,KAAKmD,MACX,IAAK,YACHnD,KAAK0E,gBACL,MACF,IAAK,cACH1E,KAAK2E,kBACL,MACF,IAAK,gBACH3E,KAAK4E,oBACL,MACF,IAAK,UACH5E,KAAK6E,gBAGV,KA3HmB9B,UAAAA,EAClB/C,KAAK8E,OAASC,SAASC,cAAc,UACrChF,KAAK8E,OAAOG,MAAMC,QAAU,QAC5BlF,KAAK8E,OAAOG,MAAME,MAAQ,OAC1BnF,KAAK8E,OAAOG,MAAMG,OAAS,OAC3BrC,EAAUsC,YAAYrF,KAAK8E,QAC3B9E,KAAKsF,IAAMtF,KAAK8E,OAAOS,WAAW,KAAM,CAAEC,oBAAoB,IAC9DxF,KAAKsE,SACLmB,OAAOC,iBAAiB,SAAU1F,KAAKqE,aACzC,CAEA,IAAAsB,EAAA7C,EAAAzE,UAwrBC,OAxrBDsH,EACAC,QAAA,SAAQzC,GACNnD,KAAKmD,KAAOA,EACZnD,KAAKuE,SAASvE,KAAKqD,YACrB,EAACsC,EAEDE,WAAA,SAAWzC,GACTpD,KAAKoD,QAAUA,EACfpD,KAAKuE,SAASvE,KAAKqD,YACrB,EAACsC,EAEDpB,SAAA,SAASuB,GAQP,GAPA9F,KAAK+F,OACL/F,KAAKqD,YAAcyC,QAAAA,EAAQhG,KAAKC,MAAsB,WAAhBD,KAAKkG,UAC3ChG,KAAKN,IAlMT,SAAoBoG,GAClB,MAAO,KAELA,EAAe,YADfA,GAAQ,GACqB,EAC7B,IAAIvH,EAAIuB,KAAKmG,KAAKH,EAAQA,IAAS,GAAK,EAAIA,GAE5C,OADAvH,EAAKA,EAAIuB,KAAKmG,KAAK1H,EAAKA,IAAM,EAAI,GAAKA,GAAMA,IACpCA,EAAKA,IAAM,MAAS,GAAK,WAEtC,CA0Le2H,CAAWlG,KAAKqD,aAC3BrD,KAAKQ,MAAQ,IAAIf,EAAeO,KAAKN,KACrCM,KAAKuD,WAAa,EAClBvD,KAAKsD,UAAY6C,YAAYC,MAC7BpG,KAAKkD,SAAU,EACXlD,KAAKiD,SAAU,OAEnB,MAAMoD,EAAIrG,KAAK8E,OAAOK,MAChBmB,EAAItG,KAAK8E,OAAOM,OAMtB,OAHApF,KAAKsF,IAAIiB,UAAY,UACrBvG,KAAKsF,IAAIkB,SAAS,EAAG,EAAGH,EAAGC,GAEnBtG,KAAKmD,MACX,IAAK,YACHnD,KAAKyG,gBACL,MACF,IAAK,cACHzG,KAAK0G,kBACL,MACF,IAAK,gBACH1G,KAAK2G,oBACL,MACF,IAAK,UACH3G,KAAK4G,cAKT,OADA5G,KAAKwE,OACExE,KAAKqD,WACd,EAACsC,EAEDkB,UAAA,WACE,MAAMC,EAAO/B,SAASC,cAAc,KACpC8B,EAAKC,SAAW,kBAAkB/G,KAAKqD,kBACvCyD,EAAKE,KAAOhH,KAAK8E,OAAOmC,UAAU,aAClCH,EAAKI,OACP,EAACvB,EAMDI,KAAA,WACE/F,KAAKkD,SAAU,EACXlD,KAAKgD,SACPmE,qBAAqBnH,KAAKgD,QAC1BhD,KAAKgD,OAAS,EAElB,EAAC2C,EAEDyB,QAAA,WACEpH,KAAK+F,OACL/F,KAAKiD,UAAW,EAChBwC,OAAO4B,oBAAoB,SAAUrH,KAAKqE,cACtCrE,KAAK8E,OAAOwC,eACdtH,KAAK8E,OAAOwC,cAAcC,YAAYvH,KAAK8E,OAE/C,EAACa,EAUOrB,OAAR,WACE,MAAMkD,EAAM1H,KAAK2H,IAAIhC,OAAOiC,iBAAkB,GACxCrB,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aACzB5H,KAAK8E,OAAOK,MAAQkB,EAAImB,EACxBxH,KAAK8E,OAAOM,OAASkB,EAAIkB,EACzBxH,KAAKsF,IAAIuC,aAAaL,EAAK,EAAG,EAAGA,EAAK,EAAG,EAC3C,EAwBA7B,EACQmC,aAAR,SAAqBC,GACnB,MAAM1F,EAASrC,KAAKoD,QAAQf,OAC5B,OAAOA,GAAS0F,EAAQ1F,EAAOpD,OAAUoD,EAAOpD,QAAUoD,EAAOpD,OACnE,EAAC0G,EAEOqC,WAAR,SAAmBD,GACjB,OAAOzF,EAAStC,KAAK8H,aAAaC,GACpC,EAACpC,EAEOsC,mBAAR,WACE,OAAOjI,KAAK8H,aAAahI,KAAKC,MAAMC,KAAKN,MAAQM,KAAKoD,QAAQf,OAAOpD,QACvE,EAIA0G,EACQc,cAAR,WACE,MAAMJ,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aACnBM,EAAgBpI,KAAK2H,IAAI,IAAM3H,KAAKC,MAAOsG,EAAIC,EAAK,MAE1DtG,KAAKwD,YAAc,GACnB,IAAK,IAAIhF,EAAI,EAAGA,EAAI0J,EAAe1J,IACjCwB,KAAKwD,YAAY2E,KAAK,CACpB7H,EAAGN,KAAKN,MAAQ2G,EAChB9F,EAAGP,KAAKN,MAAQ4G,EAChB8B,GAAI,EACJC,GAAI,EACJC,KAAM,EACNC,QAAS,GAAKzI,KAAKC,MAAmB,IAAbC,KAAKN,OAC9B8I,SAAU1I,KAAKC,MAAMC,KAAKN,MAAQM,KAAKoD,QAAQf,OAAOpD,UAK1De,KAAKyD,YAAc,IACrB,EAACkC,EAEOjB,cAAR,WACE,MAAM2B,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aACnBtC,EAAMtF,KAAKsF,IACXmD,EAAyB,KAAlBzI,KAAKuD,WAGlB+B,EAAIiB,UAAY,0BAChBjB,EAAIkB,SAAS,EAAG,EAAGH,EAAGC,GAEtB,IAAK,MAAM1G,KAAKI,KAAKwD,YAAa,CAEhC,MACMkF,EADI1I,KAAKQ,MAAMA,MAAY,KAANZ,EAAEU,EAAYmI,EAAY,KAAN7I,EAAEW,GAC/BT,KAAK6I,GAAK,EAE5B/I,EAAEwI,GAAuB,IAAlBtI,KAAK8I,IAAIF,GAChB9I,EAAEyI,GAAuB,IAAlBvI,KAAK+I,IAAIH,GAGhB,MAAMI,EAAOlJ,EAAEU,EACTyI,EAAOnJ,EAAEW,EACfX,EAAEU,GAAKV,EAAEwI,GACTxI,EAAEW,GAAKX,EAAEyI,GACTzI,EAAE0I,OAGF,MAAMU,EAAYpJ,EAAE0I,KAAO1I,EAAE2I,QACvBU,EAAwC,GAAhCnJ,KAAK+I,IAAIG,EAAYlJ,KAAK6I,IAExC,GAAIM,EAAQ,IAAM,CAChB,MAAMC,EAAMlJ,KAAKgI,WAAWpI,EAAE4I,UAExBW,EAA8B,IAArBvJ,EAAEU,EAAI+F,EAAIzG,EAAEW,EAAI+F,GAEzB8C,EAAUzG,EAAUuG,EADVlJ,KAAKgI,WAAWpI,EAAE4I,SAAW,GACLW,EAAQ,GAEhD7D,EAAI+D,YACJ/D,EAAIgE,OAAOR,EAAMC,GACjBzD,EAAIiE,OAAO3J,EAAEU,EAAGV,EAAEW,GAClB+E,EAAIkE,YAAc,QAAqB,EAAbJ,EAAQ,MAAuB,EAAbA,EAAQ,MAAuB,EAAbA,EAAQ,MAAUH,KAChF3D,EAAImE,UAAY,IAChBnE,EAAIoE,QACN,EAGI9J,EAAE0I,MAAQ1I,EAAE2I,SAAW3I,EAAEU,EAAI,GAAKV,EAAEU,EAAI+F,GAAKzG,EAAEW,EAAI,GAAKX,EAAEW,EAAI+F,KAChE1G,EAAEU,EAAIN,KAAKN,MAAQ2G,EACnBzG,EAAEW,EAAIP,KAAKN,MAAQ4G,EACnB1G,EAAE0I,KAAO,EACT1I,EAAE2I,QAAU,GAAKzI,KAAKC,MAAmB,IAAbC,KAAKN,OACjCE,EAAE4I,SAAW1I,KAAKC,MAAMC,KAAKN,MAAQM,KAAKoD,QAAQf,OAAOpD,QAE7D,CACF,EAIA0G,EACQe,gBAAR,WACE,MAAML,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aAEzB5H,KAAK0D,WAAa,GAClB1D,KAAK2D,SAAW,GAChB3D,KAAK4D,YAAc,EACnB5D,KAAK6D,WAAa,EAClB7D,KAAK8D,aAAe,GAGpB,MAAM6F,EAAY,EAAI7J,KAAKC,MAAmB,EAAbC,KAAKN,OACtC,IAAK,IAAInB,EAAI,EAAGA,EAAIoL,EAAWpL,IAAK,CAClC,MAAMqL,EAAQvD,GAAK,GAAmB,GAAbrG,KAAKN,OACxBmK,EAAY,GAAJvD,EACRrH,EAASqH,GAAK,IAAoB,IAAbtG,KAAKN,OAC1BoK,EAAW,EAAIhK,KAAKC,MAAmB,EAAbC,KAAKN,OAC/BqK,EAAQ,IAAoB,IAAb/J,KAAKN,MACpBsK,EAAS,GAAmB,GAAbhK,KAAKN,MAE1BM,KAAK8D,aAAaqE,KAAK,CAAEyB,QAAOC,QAAOnB,OAAQ5I,KAAK6I,GAAK,EAAG1J,SAAQ8K,QAAOD,WAAUE,WACrFhK,KAAKiK,iBAAiBL,EAAOC,GAAQ/J,KAAK6I,GAAK,EAAG1J,EAAQ6K,EAAUC,EAAOC,EAAQ,EACrF,CACF,EAACrE,EAEOsE,iBAAR,SACE3J,EAAWC,EAAWmI,EACtBzJ,EAAgB6K,EAChBC,EAAeC,EAAgBE,GAE/B,GAAIA,GAASJ,GAAY7K,EAAS,EAQhC,YANAe,KAAK2D,SAASwE,KAAK,CACjB7H,IAAGC,IACH9B,EAAG,EAAiB,EAAbuB,KAAKN,MACZyK,MAAOnK,KAAKiI,qBACZmC,OAAO,IAKX,MAAMC,EAAO/J,EAAIR,KAAK8I,IAAIF,GAASzJ,EAC7BqL,EAAO/J,EAAIT,KAAK+I,IAAIH,GAASzJ,EAE7BsL,EAAaL,EAAQJ,EACrBtB,EAAW1I,KAAKC,MAAMwK,GAAcvK,KAAKoD,QAAQf,OAAOpD,OAAS,IACjEkL,EAAQnK,KAAK8H,aAAaU,GAC1BiB,EAAY3J,KAAK0K,IAAI,EAAsB,GAAlB,EAAID,IAEnCvK,KAAK0D,WAAWyE,KAAK,CACnBhH,GAAIb,EAAGc,GAAIb,EAAGc,GAAIgJ,EAAM/I,GAAIgJ,EAC5BJ,QAAOE,OAAO,EAAOD,QAAOhF,MAAOsE,IAIrC,MAAMgB,EAAc,GAAKzK,KAAKN,MAAQ,GAAM,EAAI,GAChD,IAAK,IAAIlB,EAAI,EAAGA,EAAIiM,EAAajM,IAAK,CACpC,MAAMkM,GAAelM,GAAKiM,EAAc,GAAK,GAAKT,EAA8B,IAApBhK,KAAKN,MAAQ,IACnEiL,EAAY1L,GAAU8K,EAA6B,IAApB/J,KAAKN,MAAQ,KAClDM,KAAKiK,iBAAiBI,EAAMC,EAAM5B,EAAQgC,EAAaC,EAAWb,EAAUC,EAAOC,EAAQE,EAAQ,EACrG,CACF,EAACvE,EAEOhB,gBAAR,WACE,MAAMW,EAAMtF,KAAKsF,IACXsF,EAAY9K,KAAK0K,IAAI,EAAG1K,KAAKC,MAAMC,KAAK0D,WAAWzE,OAAS,KAGlE,IAAImL,EAAQ,EACZ,IAAK,IAAI5L,EAAIwB,KAAK4D,YAAapF,EAAIwB,KAAK0D,WAAWzE,QAAUmL,EAAQQ,EAAWpM,IAAK,CACnF,MAAMqE,EAAI7C,KAAK0D,WAAWlF,GAC1B,GAAIqE,EAAEuH,MAAO,SAGbpK,KAAK6D,YAAc,KACnB,MAAMgH,EAAO/K,KAAK+I,IAAsB,EAAlB7I,KAAK6D,WAA2B,GAAVhB,EAAEqH,OAAerH,EAAEqH,MAAQ,GAEvE5E,EAAI+D,YACJ/D,EAAIgE,OAAOzG,EAAE1B,GAAY,GAAP0J,EAAYhI,EAAEzB,IAChCkE,EAAIiE,OAAO1G,EAAExB,GAAKwJ,EAAMhI,EAAEvB,IAC1BgE,EAAIkE,YAAc3G,EAAEsH,MACpB7E,EAAImE,UAAY5G,EAAEsC,MAClBG,EAAIwF,QAAU,QACdxF,EAAIyF,YAAc,IAClBzF,EAAIoE,SAGJpE,EAAI0F,YAAcnI,EAAEsH,MACpB7E,EAAI2F,WAAa,EACjB3F,EAAIoE,SACJpE,EAAI2F,WAAa,EAEjB3F,EAAIyF,YAAc,EAClBlI,EAAEuH,OAAQ,EACVA,IACApK,KAAK4D,YAAcpF,EAAI,CACzB,CAGA,GAAIwB,KAAK4D,aAAe5D,KAAK0D,WAAWzE,OAAQ,CAC9C,IAAIiM,EAAY,EAChB,MAAMC,EAAYrL,KAAK0K,IAAI,EAAG1K,KAAKC,MAAMC,KAAK2D,SAAS1E,OAAS,KAChE,IAAK,MAAMmM,KAAQpL,KAAK2D,SAAU,CAChC,GAAIyH,EAAKhB,OAASc,GAAaC,EAAW,SAC1C,MAAMN,EAAuD,EAAhD/K,KAAK+I,IAAsB,EAAlB7I,KAAK6D,WAA0B,IAATuH,EAAK9K,GAEjDgF,EAAI+D,YACJ/D,EAAI+F,IAAID,EAAK9K,EAAIuK,EAAMO,EAAK7K,EAAG6K,EAAK3M,EAAG,EAAa,EAAVqB,KAAK6I,IAC/CrD,EAAIiB,UAAY6E,EAAKjB,MACrB7E,EAAIyF,YAAc,GAClBzF,EAAIgG,OACJhG,EAAIyF,YAAc,EAElBK,EAAKhB,OAAQ,EACbc,GACF,CAGIlL,KAAK2D,SAAS4H,MAAMC,GAAKA,EAAEpB,QAE7BpK,KAAKyL,iBAET,CACF,EAAC9F,EAEO8F,gBAAR,WACE,MAAMnG,EAAMtF,KAAKsF,IACXe,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aAEzB5H,KAAK6D,YAAc,IAEnByB,EAAIiB,UAAY,UAChBjB,EAAIkB,SAAS,EAAG,EAAGH,EAAGC,GAGtB,IAAK,MAAMzD,KAAK7C,KAAK0D,WAAY,CAC/B,MAAMmH,EAAO/K,KAAK+I,IAAI7I,KAAK6D,WAAuB,GAAVhB,EAAEqH,OAAerH,EAAEqH,MAAQ,GAEnE5E,EAAI+D,YACJ/D,EAAIgE,OAAOzG,EAAE1B,GAAY,GAAP0J,EAAYhI,EAAEzB,IAChCkE,EAAIiE,OAAO1G,EAAExB,GAAKwJ,EAAMhI,EAAEvB,IAC1BgE,EAAIkE,YAAc3G,EAAEsH,MACpB7E,EAAImE,UAAY5G,EAAEsC,MAClBG,EAAIwF,QAAU,QACdxF,EAAIyF,YAAc,IAClBzF,EAAIoE,SACJpE,EAAIyF,YAAc,CACpB,CAGA,IAAK,MAAMK,KAAQpL,KAAK2D,SAAU,CAChC,MAAMkH,EAAyD,EAAlD/K,KAAK+I,IAAsB,IAAlB7I,KAAK6D,WAA4B,IAATuH,EAAK9K,GAEnDgF,EAAI+D,YACJ/D,EAAI+F,IAAID,EAAK9K,EAAIuK,EAAMO,EAAK7K,EAAG6K,EAAK3M,EAAG,EAAa,EAAVqB,KAAK6I,IAC/CrD,EAAIiB,UAAY6E,EAAKjB,MACrB7E,EAAIyF,YAAc,GAClBzF,EAAIgG,OACJhG,EAAIyF,YAAc,CACpB,CACF,EAIApF,EACQgB,kBAAR,WACE3G,KAAK+D,UAAY,GACjB/D,KAAKgE,WAAa,CACpB,EAAC2B,EAEOf,kBAAR,WACE,MAAMyB,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aACnBtC,EAAMtF,KAAKsF,IAIjB,IAAK,IAAIoG,EAAU,EAAGA,EAAU,GAAIA,IAAW,CAC7C,GAAI1L,KAAKgE,WAAa2H,KAGpB,YADA3L,KAAK4L,iBAGP5L,KAAKgE,aAEL,MAAM1D,EAAIN,KAAKN,MAAQ2G,EACjB9F,EAAIP,KAAKN,MAAQ4G,EACjBuF,EAAO,EACPC,EAAO,GAAkB,GAAb9L,KAAKN,MAGvB,IAAIqM,GAAQ,EACRC,EAAeF,EACnB,IAAK,MAAMG,KAAKjM,KAAK+D,UAAW,CAC9B,MAAMmI,EAAK5L,EAAI2L,EAAE3L,EACX6L,EAAK5L,EAAI0L,EAAE1L,EACX6L,EAAOtM,KAAKc,KAAKsL,EAAKA,EAAKC,EAAKA,GACtC,GAAIC,EAAOH,EAAExN,EAAIoN,EAAO,EAAG,CACzBE,GAAQ,EACR,KACF,CACAC,EAAelM,KAAK2H,IAAIuE,EAAcI,EAAOH,EAAExN,EAAI,EACrD,CAKA,GAFAuN,EAAelM,KAAK2H,IAAIuE,EAAc1L,EAAGC,EAAG8F,EAAI/F,EAAGgG,EAAI/F,GAEnDwL,GAASC,GAAgBH,EAAM,CACjC,MAAMrD,EAAW1I,KAAKC,MAAMC,KAAKN,MAAQM,KAAKoD,QAAQf,OAAOpD,QAC7De,KAAK+D,UAAUoE,KAAK,CAClB7H,IAAGC,IACH9B,EAAGoN,EACHC,KAAMhM,KAAK2H,IAAIuE,EAAcF,GAC7B3B,MAAOnK,KAAK8H,aAAaU,GACzB6D,SAAS,EACTpD,MAAO,GAEX,CACF,CAGA3D,EAAIiB,UAAY,UAChBjB,EAAIkB,SAAS,EAAG,EAAGH,EAAGC,GAEtB,IAAK,MAAM2F,KAAKjM,KAAK+D,UAAW,CAC9B,GAAIkI,EAAEI,QAAS,CACbJ,EAAExN,GAAK,GACPwN,EAAEhD,MAAQnJ,KAAK2H,IAAIwE,EAAEhD,MAAQ,IAAM,KAG/BgD,EAAExN,GAAKwN,EAAEH,OACXG,EAAEI,SAAU,EACZJ,EAAExN,EAAIwN,EAAEH,MAIV,IAAK,MAAMQ,KAAStM,KAAK+D,UAAW,CAClC,GAAIuI,IAAUL,EAAG,SACjB,MAAMC,EAAKD,EAAE3L,EAAIgM,EAAMhM,EACjB6L,EAAKF,EAAE1L,EAAI+L,EAAM/L,EAEvB,GADaT,KAAKc,KAAKsL,EAAKA,EAAKC,EAAKA,GAC3BF,EAAExN,EAAI6N,EAAM7N,EAAI,EAAG,CAC5BwN,EAAEI,SAAU,EACZJ,EAAExN,EAAIqB,KAAK0K,IAAIyB,EAAExN,EAAI,GAAK,GAC1B,KACF,CACF,CACF,CAGA,MAAMyK,EAAM5G,EAAS2J,EAAE9B,OAGjBxK,EAAO2F,EAAIiH,qBAAqBN,EAAE3L,EAAU,GAAN2L,EAAExN,EAASwN,EAAE1L,EAAU,GAAN0L,EAAExN,EAAS,EAAGwN,EAAE3L,EAAG2L,EAAE1L,EAAG0L,EAAExN,GACvFkB,EAAK6M,aAAa,EAAG,QAAQ1M,KAAK2H,IAAIyB,EAAI,GAAK,GAAI,QAAQpJ,KAAK2H,IAAIyB,EAAI,GAAK,GAAI,QAAQpJ,KAAK2H,IAAIyB,EAAI,GAAK,GAAI,QAAQ+C,EAAEhD,UACzHtJ,EAAK6M,aAAa,GAAK,QAAQtD,EAAI,MAAMA,EAAI,MAAMA,EAAI,MAAgB,GAAV+C,EAAEhD,UAC/DtJ,EAAK6M,aAAa,EAAG,QAAQtD,EAAI,IAAM,KAAKA,EAAI,IAAM,KAAKA,EAAI,IAAM,KAAe,GAAV+C,EAAEhD,UAE5E3D,EAAI+D,YACJ/D,EAAI+F,IAAIY,EAAE3L,EAAG2L,EAAE1L,EAAG0L,EAAExN,EAAG,EAAa,EAAVqB,KAAK6I,IAC/BrD,EAAIiB,UAAY5G,EAChB2F,EAAIgG,OAGJhG,EAAIkE,YAAc,QAAQN,EAAI,MAAMA,EAAI,MAAMA,EAAI,MAAgB,GAAV+C,EAAEhD,SAC1D3D,EAAImE,UAAY,EAChBnE,EAAIoE,QACN,CACF,EAAC/D,EAEOiG,eAAR,WACE,MAAMtG,EAAMtF,KAAKsF,IACXe,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aACnB6E,EAAyB,IAAlBzM,KAAKuD,WAElB+B,EAAIiB,UAAY,UAChBjB,EAAIkB,SAAS,EAAG,EAAGH,EAAGC,GAEtB,IAAK,MAAM2F,KAAKjM,KAAK+D,UAAW,CAC9B,MAAMmF,EAAM5G,EAAS2J,EAAE9B,OACjBuC,EAAQ,EAA+C,IAA3C5M,KAAK+I,IAAI4D,EAAa,IAANR,EAAE3L,EAAiB,IAAN2L,EAAE1L,GAE3CZ,EAAO2F,EAAIiH,qBACfN,EAAE3L,EAAU,GAAN2L,EAAExN,EAASwN,EAAE1L,EAAU,GAAN0L,EAAExN,EAAS,EAClCwN,EAAE3L,EAAG2L,EAAE1L,EAAG0L,EAAExN,EAAIiO,GAElB/M,EAAK6M,aAAa,EAAG,QAAQ1M,KAAK2H,IAAIyB,EAAI,GAAK,GAAI,QAAQpJ,KAAK2H,IAAIyB,EAAI,GAAK,GAAI,QAAQpJ,KAAK2H,IAAIyB,EAAI,GAAK,GAAI,QAAQ+C,EAAEhD,UACzHtJ,EAAK6M,aAAa,GAAK,QAAQtD,EAAI,MAAMA,EAAI,MAAMA,EAAI,MAAgB,GAAV+C,EAAEhD,UAC/DtJ,EAAK6M,aAAa,EAAG,QAAQtD,EAAI,IAAM,KAAKA,EAAI,IAAM,KAAKA,EAAI,IAAM,KAAe,GAAV+C,EAAEhD,UAE5E3D,EAAI+D,YACJ/D,EAAI+F,IAAIY,EAAE3L,EAAG2L,EAAE1L,EAAG0L,EAAExN,EAAIiO,EAAO,EAAa,EAAV5M,KAAK6I,IACvCrD,EAAIiB,UAAY5G,EAChB2F,EAAIgG,OAEJhG,EAAIkE,YAAc,QAAQN,EAAI,MAAMA,EAAI,MAAMA,EAAI,MAAgB,GAAV+C,EAAEhD,SAC1D3D,EAAImE,UAAY,EAChBnE,EAAIoE,QACN,CACF,EAIA/D,EACQiB,YAAR,WACE,MAAMP,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aACnB+E,EAAQ,GAAK7M,KAAKC,MAAmB,GAAbC,KAAKN,OAEnCM,KAAKiE,SAAW,GAChB,IAAK,IAAIzF,EAAI,EAAGA,EAAImO,EAAOnO,IAAK,CAC9B,MAAMgK,EAAW1I,KAAKC,MAAMC,KAAKN,MAAQM,KAAKoD,QAAQf,OAAOpD,QACvDiK,EAAMlJ,KAAKgI,WAAWQ,GAC5BxI,KAAKiE,SAASkE,KAAK,CACjB7H,EAAGN,KAAKN,MAAQ2G,EAChB9F,EAAGP,KAAKN,MAAQ4G,EAChB8B,GAAyB,IAApBpI,KAAKN,MAAQ,IAClB2I,GAAyB,IAApBrI,KAAKN,MAAQ,IAClByK,MAAOjB,GAEX,CACAlJ,KAAKkE,SAAW,IAClB,EAACyB,EAEOd,YAAR,WACE,MAAMwB,EAAIrG,KAAK+C,UAAU4E,YACnBrB,EAAItG,KAAK+C,UAAU6E,aACnBtC,EAAMtF,KAAKsF,IACLxF,KAAK2H,IAAIhC,OAAOiC,iBAAkB,GAG9C,IAAK,MAAM9H,KAAKI,KAAKiE,SACnBrE,EAAEU,GAAKV,EAAEwI,GACTxI,EAAEW,GAAKX,EAAEyI,IAGLzI,EAAEU,EAAI,GAAKV,EAAEU,EAAI+F,KAAGzG,EAAEwI,KAAO,IAC7BxI,EAAEW,EAAI,GAAKX,EAAEW,EAAI+F,KAAG1G,EAAEyI,KAAO,GACjCzI,EAAEU,EAAIR,KAAK0K,IAAI,EAAG1K,KAAK2H,IAAIpB,EAAGzG,EAAEU,IAChCV,EAAEW,EAAIT,KAAK0K,IAAI,EAAG1K,KAAK2H,IAAInB,EAAG1G,EAAEW,IAKlC,MACMqM,EAAK9M,KAAK+M,KAAKxG,EADP,GAERyG,EAAKhN,KAAK+M,KAAKvG,EAFP,GAKTtG,KAAKmE,aAAenE,KAAKmE,YAAYgB,QAAUyH,GAAM5M,KAAKmE,YAAYiB,SAAW0H,IACpF9M,KAAKmE,YAAcY,SAASC,cAAc,UAC1ChF,KAAKmE,YAAYgB,MAAQyH,EACzB5M,KAAKmE,YAAYiB,OAAS0H,EAC1B9M,KAAKoE,SAAWpE,KAAKmE,YAAYoB,WAAW,OAE9C,MAAMwH,EAAS/M,KAAKoE,SACd4I,EAAYhN,KAAKmE,YACjB8I,EAAYF,EAAOG,gBAAgBN,EAAIE,GACvCK,EAAOF,EAAUE,KAGjBC,EAAYpN,KAAKiE,SAAShF,OAC1BoO,EAAWvN,KAAK0K,IAAI,EAAG1K,KAAKC,MAAMD,KAAK2H,IAAIpB,EAAGC,GAAKxG,KAAKc,KAAKwM,KAC7DE,EAAWxN,KAAK+M,KAAKxG,EAAIgH,GACzBE,EAAWzN,KAAK+M,KAAKvG,EAAI+G,GACzBG,EAAUF,EAAWC,EAGrBE,EAAmB,IAAIC,MAAMF,GACnC,IAAK,IAAIhP,EAAI,EAAGA,EAAIgP,EAAShP,IAAKiP,EAAKjP,GAAK,GAE5C,IAAK,IAAIA,EAAI,EAAGA,EAAI4O,EAAW5O,IAAK,CAClC,MAAMmP,EAAM7N,KAAK2H,IAAI3H,KAAKC,MAAMC,KAAKiE,SAASzF,GAAG8B,EAAI+M,GAAWC,EAAW,GAE3EG,EADY3N,KAAK2H,IAAI3H,KAAKC,MAAMC,KAAKiE,SAASzF,GAAG+B,EAAI8M,GAAWE,EAAW,GAChED,EAAWK,GAAKxF,KAAK3J,EAClC,CAOA,IAAK,IAAIoP,EAAK,EAAGA,EAAKd,EAAIc,IACxB,IAAK,IAAIC,EAAK,EAAGA,EAAKjB,EAAIiB,IAAM,CAC9B,MAAMC,EAxCI,EAwCCD,EACLE,EAzCI,EAyCCH,EAGLI,EAAOlO,KAAK2H,IAAI3H,KAAKC,MAAM+N,EAAKT,GAAWC,EAAW,GACtDW,EAAOnO,KAAK2H,IAAI3H,KAAKC,MAAMgO,EAAKV,GAAWE,EAAW,GAG5D,IAAIW,EAAUC,IACVC,EAAaD,IACbE,EAAa,EAEjB,MAAMC,EAASxO,KAAK0K,IAAI,EAAGyD,EAhBf,GAiBNM,EAAOzO,KAAK2H,IAAI8F,EAAW,EAAGU,EAjBxB,GAkBNO,EAAS1O,KAAK0K,IAAI,EAAGwD,EAlBf,GAmBNS,EAAO3O,KAAK2H,IAAI6F,EAAW,EAAGU,EAnBxB,GAqBZ,IAAK,IAAIU,EAAKJ,EAAQI,GAAMH,EAAMG,IAAM,CACtC,MAAMC,EAASD,EAAKpB,EACpB,IAAK,IAAIsB,EAAKJ,EAAQI,GAAMH,EAAMG,IAAM,CACtC,MAAMC,EAAOpB,EAAKkB,EAASC,GAC3B,IAAK,IAAIE,EAAI,EAAGA,EAAID,EAAK5P,OAAQ6P,IAAK,CACpC,MAAMC,EAAMF,EAAKC,GACX5C,EAAK4B,EAAK9N,KAAKiE,SAAS8K,GAAKzO,EAC7B6L,EAAK4B,EAAK/N,KAAKiE,SAAS8K,GAAKxO,EAC7B6L,EAAOF,EAAKA,EAAKC,EAAKA,EACxBC,EAAO8B,GACTE,EAAaF,EACbA,EAAU9B,EACViC,EAAaU,GACJ3C,EAAOgC,IAChBA,EAAahC,EAEjB,CACF,CACF,CAIA,GAAIgC,IAAeD,IAAU,CAC3BD,EAAUC,IACVC,EAAaD,IACbE,EAAa,EACb,IAAK,IAAI7P,EAAI,EAAGA,EAAI4O,EAAW5O,IAAK,CAClC,MAAM0N,EAAK4B,EAAK9N,KAAKiE,SAASzF,GAAG8B,EAC3B6L,EAAK4B,EAAK/N,KAAKiE,SAASzF,GAAG+B,EAC3B6L,EAAOF,EAAKA,EAAKC,EAAKA,EACxBC,EAAO8B,GACTE,EAAaF,EACbA,EAAU9B,EACViC,EAAa7P,GACJ4N,EAAOgC,IAChBA,EAAahC,EAEjB,CACF,CAEA,MAAM4C,EAAUhP,KAAKiE,SAASoK,GACxBY,EAAKnP,KAAKc,KAAKsN,GACfgB,EAAKpP,KAAKc,KAAKwN,GACfe,EAAa,EAAIrP,KAAKsP,IAAItP,KAAK0K,IAAI,EAAG,GAAK0E,EAAKD,GAAM,IAAK,GAG3DI,EAAWJ,EAAK,GAChBK,EAA4C,GAAnCxP,KAAK+I,IAAIwG,EAAWvP,KAAK6I,GAAK,GACvC4G,EAAoD,GAA3CzP,KAAK+I,IAAIwG,EAAWvP,KAAK6I,GAAK,EAAI,OAC3C6G,EAAoD,GAA3C1P,KAAK+I,IAAIwG,EAAWvP,KAAK6I,GAAK,EAAI,OAE3C8G,EAAYT,EAAQ7E,MACpB4E,EAAuB,GAAhBnB,EAAKhB,EAAKiB,GAGjB6B,EAAa,GAAmB,GAAbP,EACnBQ,EAAWT,EAAKD,EAAK,EAAI,IAAO,EAEtC9B,EAAK4B,GAAOjP,KAAK0K,IAAI,EAAG1K,KAAK2H,IAAI,KAAMgI,EAAU,GAAKH,GAAUI,EAAaC,IAC7ExC,EAAK4B,EAAM,GAAKjP,KAAK0K,IAAI,EAAG1K,KAAK2H,IAAI,KAAMgI,EAAU,GAAKF,GAAUG,EAAaC,IACjFxC,EAAK4B,EAAM,GAAKjP,KAAK0K,IAAI,EAAG1K,KAAK2H,IAAI,KAAMgI,EAAU,GAAKD,GAAUE,EAAaC,IACjFxC,EAAK4B,EAAM,GAAK,GAClB,CAGFhC,EAAO6C,aAAa3C,EAAW,EAAG,GAGlC3H,EAAIuK,uBAAwB,EAC5BvK,EAAIwK,sBAAwB,OAC5BxK,EAAIyK,UAAU/C,EAAW,EAAG,EAAG3G,EAAGC,GAGlChB,EAAIyF,YAAc,IAClB,IAAK,IAAIvM,EAAI,EAAGA,EAAIwB,KAAKiE,SAAShF,OAAQT,IAAK,CAC7C,MAAMoB,EAAII,KAAKiE,SAASzF,GACxB8G,EAAI+D,YACJ/D,EAAI+F,IAAIzL,EAAEU,EAAGV,EAAEW,EAAG,EAAG,EAAa,EAAVT,KAAK6I,IAC7BrD,EAAIiB,UAAY,wBAChBjB,EAAIgG,MACN,CACAhG,EAAIyF,YAAc,CACpB,GAACvL,EAAAA,EAAAA,GAAAsD,EAAA,EAAAvD,IAAA,OAAAyQ,IAloBD,WACE,OAAOhQ,KAAKqD,WACd,IAAC,CAzG6B,E","sources":["webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://jiunbae.github.io/./src/views/GenerativeArt/engine.ts"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","// ── Seeded PRNG (mulberry32) ────────────────────────────────────────\nfunction mulberry32(seed: number): () => number {\n  return () => {\n    seed |= 0\n    seed = (seed + 0x6d2b79f5) | 0\n    let t = Math.imul(seed ^ (seed >>> 15), 1 | seed)\n    t = (t + Math.imul(t ^ (t >>> 7), 61 | t)) ^ t\n    return ((t ^ (t >>> 14)) >>> 0) / 4294967296\n  }\n}\n\n// ── Simplex-like 2D noise ───────────────────────────────────────────\nclass SimplexNoise2D {\n  private perm: number[]\n  private grad: [number, number][] = [\n    [1, 1], [-1, 1], [1, -1], [-1, -1],\n    [1, 0], [-1, 0], [0, 1], [0, -1]\n  ]\n\n  constructor(rng: () => number) {\n    const p: number[] = []\n    for (let i = 0; i < 256; i++) p[i] = i\n    // Fisher-Yates shuffle with seeded rng\n    for (let i = 255; i > 0; i--) {\n      const j = Math.floor(rng() * (i + 1));\n      [p[i], p[j]] = [p[j], p[i]]\n    }\n    this.perm = [...p, ...p]\n  }\n\n  private dot(g: [number, number], x: number, y: number): number {\n    return g[0] * x + g[1] * y\n  }\n\n  noise(xin: number, yin: number): number {\n    const F2 = 0.5 * (Math.sqrt(3) - 1)\n    const G2 = (3 - Math.sqrt(3)) / 6\n    const s = (xin + yin) * F2\n    const i = Math.floor(xin + s)\n    const j = Math.floor(yin + s)\n    const t = (i + j) * G2\n    const X0 = i - t\n    const Y0 = j - t\n    const x0 = xin - X0\n    const y0 = yin - Y0\n\n    let i1: number, j1: number\n    if (x0 > y0) { i1 = 1; j1 = 0 }\n    else { i1 = 0; j1 = 1 }\n\n    const x1 = x0 - i1 + G2\n    const y1 = y0 - j1 + G2\n    const x2 = x0 - 1 + 2 * G2\n    const y2 = y0 - 1 + 2 * G2\n\n    const ii = i & 255\n    const jj = j & 255\n    const gi0 = this.perm[ii + this.perm[jj]] % 8\n    const gi1 = this.perm[ii + i1 + this.perm[jj + j1]] % 8\n    const gi2 = this.perm[ii + 1 + this.perm[jj + 1]] % 8\n\n    let n0 = 0, n1 = 0, n2 = 0\n    let t0 = 0.5 - x0 * x0 - y0 * y0\n    if (t0 >= 0) { t0 *= t0; n0 = t0 * t0 * this.dot(this.grad[gi0], x0, y0) }\n    let t1 = 0.5 - x1 * x1 - y1 * y1\n    if (t1 >= 0) { t1 *= t1; n1 = t1 * t1 * this.dot(this.grad[gi1], x1, y1) }\n    let t2 = 0.5 - x2 * x2 - y2 * y2\n    if (t2 >= 0) { t2 *= t2; n2 = t2 * t2 * this.dot(this.grad[gi2], x2, y2) }\n\n    // Result in [-1, 1]\n    return 70 * (n0 + n1 + n2)\n  }\n}\n\n// ── Types ───────────────────────────────────────────────────────────\nexport type ArtMode = 'flowField' | 'fractalTree' | 'circlePacking' | 'voronoi'\n\nexport type PaletteName = 'neonNoir' | 'ocean' | 'sunset' | 'forest' | 'mono'\n\nexport interface PaletteInfo {\n  name: PaletteName\n  label: string\n  colors: string[]\n}\n\nexport const PALETTES: PaletteInfo[] = [\n  {\n    name: 'neonNoir',\n    label: 'Neon Noir',\n    colors: ['#ff006e', '#fb5607', '#ffbe0b', '#8338ec', '#3a86ff']\n  },\n  {\n    name: 'ocean',\n    label: 'Ocean Depths',\n    colors: ['#0077b6', '#00b4d8', '#90e0ef', '#caf0f8', '#03045e']\n  },\n  {\n    name: 'sunset',\n    label: 'Sunset',\n    colors: ['#ff595e', '#ff924c', '#ffca3a', '#c77dff', '#9b5de5']\n  },\n  {\n    name: 'forest',\n    label: 'Forest',\n    colors: ['#606c38', '#283618', '#dda15e', '#bc6c25', '#fefae0']\n  },\n  {\n    name: 'mono',\n    label: 'Monochrome',\n    colors: ['#f8f9fa', '#adb5bd', '#6c757d', '#343a40', '#212529']\n  }\n]\n\n// ── Helper: parse hex to [r,g,b] 0-255 ─────────────────────────────\nfunction hexToRgb(hex: string): [number, number, number] {\n  const v = parseInt(hex.slice(1), 16)\n  return [(v >> 16) & 0xff, (v >> 8) & 0xff, v & 0xff]\n}\n\nfunction lerpColor(\n  a: [number, number, number],\n  b: [number, number, number],\n  t: number\n): [number, number, number] {\n  return [\n    a[0] + (b[0] - a[0]) * t,\n    a[1] + (b[1] - a[1]) * t,\n    a[2] + (b[2] - a[2]) * t\n  ]\n}\n\n// ── Main Engine ─────────────────────────────────────────────────────\nexport class GenerativeArtEngine {\n  private canvas: HTMLCanvasElement\n  private ctx: CanvasRenderingContext2D\n  private animId = 0\n  private disposed = false\n  private running = false\n\n  private mode: ArtMode = 'flowField'\n  private palette: PaletteInfo = PALETTES[0]\n  private currentSeed = 0\n  private rng!: () => number\n  private noise!: SimplexNoise2D\n\n  // Shared animation state\n  private startTime = 0\n  private frameCount = 0\n\n  // Flow field state\n  private ffParticles: { x: number; y: number; vx: number; vy: number; life: number; maxLife: number; colorIdx: number }[] = []\n  private ffImageData: ImageData | null = null\n\n  // Fractal tree state\n  private ftBranches: { x1: number; y1: number; x2: number; y2: number; depth: number; drawn: boolean; color: string; width: number }[] = []\n  private ftLeaves: { x: number; y: number; r: number; color: string; drawn: boolean }[] = []\n  private ftDrawIndex = 0\n  private ftWindTime = 0\n  private ftTreeParams: { baseX: number; baseY: number; angle: number; length: number; decay: number; maxDepth: number; spread: number }[] = []\n\n  // Circle packing state\n  private cpCircles: { x: number; y: number; r: number; maxR: number; color: string; growing: boolean; alpha: number }[] = []\n  private cpAttempts = 0\n\n  // Voronoi state\n  private voPoints: { x: number; y: number; vx: number; vy: number; color: [number, number, number] }[] = []\n  private voBuffer: ImageData | null = null\n  private voOffCanvas: HTMLCanvasElement | null = null\n  private voOffCtx: CanvasRenderingContext2D | null = null\n\n  constructor(private container: HTMLDivElement) {\n    this.canvas = document.createElement('canvas')\n    this.canvas.style.display = 'block'\n    this.canvas.style.width = '100%'\n    this.canvas.style.height = '100%'\n    container.appendChild(this.canvas)\n    this.ctx = this.canvas.getContext('2d', { willReadFrequently: true })!\n    this.resize()\n    window.addEventListener('resize', this.handleResize)\n  }\n\n  // ── Public API ──────────────────────────────────────────────────\n  setMode(mode: ArtMode) {\n    this.mode = mode\n    this.generate(this.currentSeed)\n  }\n\n  setPalette(palette: PaletteInfo) {\n    this.palette = palette\n    this.generate(this.currentSeed)\n  }\n\n  generate(seed?: number) {\n    this.stop()\n    this.currentSeed = seed ?? Math.floor(Math.random() * 2147483647)\n    this.rng = mulberry32(this.currentSeed)\n    this.noise = new SimplexNoise2D(this.rng)\n    this.frameCount = 0\n    this.startTime = performance.now()\n    this.running = true\n    if (this.disposed) return\n\n    const w = this.canvas.width\n    const h = this.canvas.height\n\n    // Clear to background\n    this.ctx.fillStyle = '#0a0a0a'\n    this.ctx.fillRect(0, 0, w, h)\n\n    switch (this.mode) {\n      case 'flowField':\n        this.initFlowField()\n        break\n      case 'fractalTree':\n        this.initFractalTree()\n        break\n      case 'circlePacking':\n        this.initCirclePacking()\n        break\n      case 'voronoi':\n        this.initVoronoi()\n        break\n    }\n\n    this.tick()\n    return this.currentSeed\n  }\n\n  exportPNG() {\n    const link = document.createElement('a')\n    link.download = `generative-art-${this.currentSeed}.png`\n    link.href = this.canvas.toDataURL('image/png')\n    link.click()\n  }\n\n  get seed(): number {\n    return this.currentSeed\n  }\n\n  stop() {\n    this.running = false\n    if (this.animId) {\n      cancelAnimationFrame(this.animId)\n      this.animId = 0\n    }\n  }\n\n  dispose() {\n    this.stop()\n    this.disposed = true\n    window.removeEventListener('resize', this.handleResize)\n    if (this.canvas.parentElement) {\n      this.canvas.parentElement.removeChild(this.canvas)\n    }\n  }\n\n  // ── Resize ──────────────────────────────────────────────────────\n  private handleResize = () => {\n    this.resize()\n    if (!this.running) {\n      this.generate(this.currentSeed)\n    }\n  }\n\n  private resize() {\n    const dpr = Math.min(window.devicePixelRatio, 2)\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n    this.canvas.width = w * dpr\n    this.canvas.height = h * dpr\n    this.ctx.setTransform(dpr, 0, 0, dpr, 0, 0)\n  }\n\n  // ── Animation Loop ──────────────────────────────────────────────\n  private tick = () => {\n    if (this.disposed || !this.running) return\n    this.animId = requestAnimationFrame(this.tick)\n    this.frameCount++\n\n    switch (this.mode) {\n      case 'flowField':\n        this.drawFlowField()\n        break\n      case 'fractalTree':\n        this.drawFractalTree()\n        break\n      case 'circlePacking':\n        this.drawCirclePacking()\n        break\n      case 'voronoi':\n        this.drawVoronoi()\n        break\n    }\n  }\n\n  // ── Palette helpers ─────────────────────────────────────────────\n  private paletteColor(index: number): string {\n    const colors = this.palette.colors\n    return colors[((index % colors.length) + colors.length) % colors.length]\n  }\n\n  private paletteRgb(index: number): [number, number, number] {\n    return hexToRgb(this.paletteColor(index))\n  }\n\n  private randomPaletteColor(): string {\n    return this.paletteColor(Math.floor(this.rng() * this.palette.colors.length))\n  }\n\n  // ═══════════════════════════════════════════════════════════════\n  // MODE 1: FLOW FIELD\n  // ═══════════════════════════════════════════════════════════════\n  private initFlowField() {\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n    const particleCount = Math.min(3000, Math.floor((w * h) / 200))\n\n    this.ffParticles = []\n    for (let i = 0; i < particleCount; i++) {\n      this.ffParticles.push({\n        x: this.rng() * w,\n        y: this.rng() * h,\n        vx: 0,\n        vy: 0,\n        life: 0,\n        maxLife: 80 + Math.floor(this.rng() * 120),\n        colorIdx: Math.floor(this.rng() * this.palette.colors.length)\n      })\n    }\n\n    // Use a semi-transparent overlay approach for trails\n    this.ffImageData = null\n  }\n\n  private drawFlowField() {\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n    const ctx = this.ctx\n    const zOff = this.frameCount * 0.002\n\n    // Fade existing content slightly to create trails\n    ctx.fillStyle = 'rgba(10, 10, 10, 0.012)'\n    ctx.fillRect(0, 0, w, h)\n\n    for (const p of this.ffParticles) {\n      // Noise angle (use fixed scale, not rng in draw loop)\n      const n = this.noise.noise(p.x * 0.003 + zOff, p.y * 0.003)\n      const angle = n * Math.PI * 4\n\n      p.vx = Math.cos(angle) * 1.5\n      p.vy = Math.sin(angle) * 1.5\n\n      // Draw line segment from old pos to new pos\n      const oldX = p.x\n      const oldY = p.y\n      p.x += p.vx\n      p.y += p.vy\n      p.life++\n\n      // Determine alpha based on life\n      const lifeRatio = p.life / p.maxLife\n      const alpha = Math.sin(lifeRatio * Math.PI) * 0.4\n\n      if (alpha > 0.01) {\n        const rgb = this.paletteRgb(p.colorIdx)\n        // Shift color slightly based on position\n        const shift = (p.x / w + p.y / h) * 0.5\n        const nextRgb = this.paletteRgb(p.colorIdx + 1)\n        const blended = lerpColor(rgb, nextRgb, shift % 1)\n\n        ctx.beginPath()\n        ctx.moveTo(oldX, oldY)\n        ctx.lineTo(p.x, p.y)\n        ctx.strokeStyle = `rgba(${blended[0] | 0},${blended[1] | 0},${blended[2] | 0},${alpha})`\n        ctx.lineWidth = 1.2\n        ctx.stroke()\n      }\n\n      // Respawn if out of bounds or life expired\n      if (p.life >= p.maxLife || p.x < 0 || p.x > w || p.y < 0 || p.y > h) {\n        p.x = this.rng() * w\n        p.y = this.rng() * h\n        p.life = 0\n        p.maxLife = 80 + Math.floor(this.rng() * 120)\n        p.colorIdx = Math.floor(this.rng() * this.palette.colors.length)\n      }\n    }\n  }\n\n  // ═══════════════════════════════════════════════════════════════\n  // MODE 2: FRACTAL TREE\n  // ═══════════════════════════════════════════════════════════════\n  private initFractalTree() {\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n\n    this.ftBranches = []\n    this.ftLeaves = []\n    this.ftDrawIndex = 0\n    this.ftWindTime = 0\n    this.ftTreeParams = []\n\n    // Generate 1-3 trees\n    const treeCount = 1 + Math.floor(this.rng() * 3)\n    for (let t = 0; t < treeCount; t++) {\n      const baseX = w * (0.2 + this.rng() * 0.6)\n      const baseY = h * 0.9\n      const length = h * (0.12 + this.rng() * 0.08)\n      const maxDepth = 9 + Math.floor(this.rng() * 3)\n      const decay = 0.65 + this.rng() * 0.12\n      const spread = 0.3 + this.rng() * 0.4\n\n      this.ftTreeParams.push({ baseX, baseY, angle: -Math.PI / 2, length, decay, maxDepth, spread })\n      this.generateBranches(baseX, baseY, -Math.PI / 2, length, maxDepth, decay, spread, 0)\n    }\n  }\n\n  private generateBranches(\n    x: number, y: number, angle: number,\n    length: number, maxDepth: number,\n    decay: number, spread: number, depth: number\n  ) {\n    if (depth >= maxDepth || length < 2) {\n      // Add leaf\n      this.ftLeaves.push({\n        x, y,\n        r: 2 + this.rng() * 4,\n        color: this.randomPaletteColor(),\n        drawn: false\n      })\n      return\n    }\n\n    const endX = x + Math.cos(angle) * length\n    const endY = y + Math.sin(angle) * length\n\n    const depthRatio = depth / maxDepth\n    const colorIdx = Math.floor(depthRatio * (this.palette.colors.length - 1))\n    const color = this.paletteColor(colorIdx)\n    const lineWidth = Math.max(1, (1 - depthRatio) * 6)\n\n    this.ftBranches.push({\n      x1: x, y1: y, x2: endX, y2: endY,\n      depth, drawn: false, color, width: lineWidth\n    })\n\n    // Branch into 2-3 sub-branches\n    const numBranches = 2 + (this.rng() > 0.7 ? 1 : 0)\n    for (let i = 0; i < numBranches; i++) {\n      const angleOffset = (i - (numBranches - 1) / 2) * spread + (this.rng() - 0.5) * 0.2\n      const newLength = length * (decay + (this.rng() - 0.5) * 0.1)\n      this.generateBranches(endX, endY, angle + angleOffset, newLength, maxDepth, decay, spread, depth + 1)\n    }\n  }\n\n  private drawFractalTree() {\n    const ctx = this.ctx\n    const batchSize = Math.max(8, Math.floor(this.ftBranches.length / 90))\n\n    // Draw branches progressively\n    let drawn = 0\n    for (let i = this.ftDrawIndex; i < this.ftBranches.length && drawn < batchSize; i++) {\n      const b = this.ftBranches[i]\n      if (b.drawn) continue\n\n      // Apply wind sway\n      this.ftWindTime += 0.00005\n      const sway = Math.sin(this.ftWindTime * 2 + b.depth * 0.3) * b.depth * 0.4\n\n      ctx.beginPath()\n      ctx.moveTo(b.x1 + sway * 0.3, b.y1)\n      ctx.lineTo(b.x2 + sway, b.y2)\n      ctx.strokeStyle = b.color\n      ctx.lineWidth = b.width\n      ctx.lineCap = 'round'\n      ctx.globalAlpha = 0.85\n      ctx.stroke()\n\n      // Glow effect\n      ctx.shadowColor = b.color\n      ctx.shadowBlur = 4\n      ctx.stroke()\n      ctx.shadowBlur = 0\n\n      ctx.globalAlpha = 1\n      b.drawn = true\n      drawn++\n      this.ftDrawIndex = i + 1\n    }\n\n    // After all branches, draw leaves\n    if (this.ftDrawIndex >= this.ftBranches.length) {\n      let leafDrawn = 0\n      const leafBatch = Math.max(4, Math.floor(this.ftLeaves.length / 60))\n      for (const leaf of this.ftLeaves) {\n        if (leaf.drawn || leafDrawn >= leafBatch) continue\n        const sway = Math.sin(this.ftWindTime * 3 + leaf.x * 0.01) * 2\n\n        ctx.beginPath()\n        ctx.arc(leaf.x + sway, leaf.y, leaf.r, 0, Math.PI * 2)\n        ctx.fillStyle = leaf.color\n        ctx.globalAlpha = 0.7\n        ctx.fill()\n        ctx.globalAlpha = 1\n\n        leaf.drawn = true\n        leafDrawn++\n      }\n\n      // Check if all done\n      if (this.ftLeaves.every(l => l.drawn)) {\n        // Keep running for wind animation - redraw everything with wind\n        this.animateTreeWind()\n      }\n    }\n  }\n\n  private animateTreeWind() {\n    const ctx = this.ctx\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n\n    this.ftWindTime += 0.02\n\n    ctx.fillStyle = '#0a0a0a'\n    ctx.fillRect(0, 0, w, h)\n\n    // Redraw all branches with wind\n    for (const b of this.ftBranches) {\n      const sway = Math.sin(this.ftWindTime + b.depth * 0.4) * b.depth * 0.5\n\n      ctx.beginPath()\n      ctx.moveTo(b.x1 + sway * 0.3, b.y1)\n      ctx.lineTo(b.x2 + sway, b.y2)\n      ctx.strokeStyle = b.color\n      ctx.lineWidth = b.width\n      ctx.lineCap = 'round'\n      ctx.globalAlpha = 0.85\n      ctx.stroke()\n      ctx.globalAlpha = 1\n    }\n\n    // Redraw leaves with wind\n    for (const leaf of this.ftLeaves) {\n      const sway = Math.sin(this.ftWindTime * 1.5 + leaf.x * 0.01) * 3\n\n      ctx.beginPath()\n      ctx.arc(leaf.x + sway, leaf.y, leaf.r, 0, Math.PI * 2)\n      ctx.fillStyle = leaf.color\n      ctx.globalAlpha = 0.7\n      ctx.fill()\n      ctx.globalAlpha = 1\n    }\n  }\n\n  // ═══════════════════════════════════════════════════════════════\n  // MODE 3: CIRCLE PACKING\n  // ═══════════════════════════════════════════════════════════════\n  private initCirclePacking() {\n    this.cpCircles = []\n    this.cpAttempts = 0\n  }\n\n  private drawCirclePacking() {\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n    const ctx = this.ctx\n    const maxAttempts = 500\n\n    // Try to place new circles each frame\n    for (let attempt = 0; attempt < 12; attempt++) {\n      if (this.cpAttempts > maxAttempts * 30) {\n        // Done - just keep rendering existing circles with subtle animation\n        this.animateCircles()\n        return\n      }\n      this.cpAttempts++\n\n      const x = this.rng() * w\n      const y = this.rng() * h\n      const minR = 2\n      const maxR = 20 + this.rng() * 80\n\n      // Check if position is valid (not overlapping existing circles)\n      let valid = true\n      let maxPossibleR = maxR\n      for (const c of this.cpCircles) {\n        const dx = x - c.x\n        const dy = y - c.y\n        const dist = Math.sqrt(dx * dx + dy * dy)\n        if (dist < c.r + minR + 2) {\n          valid = false\n          break\n        }\n        maxPossibleR = Math.min(maxPossibleR, dist - c.r - 2)\n      }\n\n      // Check edges\n      maxPossibleR = Math.min(maxPossibleR, x, y, w - x, h - y)\n\n      if (valid && maxPossibleR >= minR) {\n        const colorIdx = Math.floor(this.rng() * this.palette.colors.length)\n        this.cpCircles.push({\n          x, y,\n          r: minR,\n          maxR: Math.min(maxPossibleR, maxR),\n          color: this.paletteColor(colorIdx),\n          growing: true,\n          alpha: 0\n        })\n      }\n    }\n\n    // Grow existing circles\n    ctx.fillStyle = '#0a0a0a'\n    ctx.fillRect(0, 0, w, h)\n\n    for (const c of this.cpCircles) {\n      if (c.growing) {\n        c.r += 0.5\n        c.alpha = Math.min(c.alpha + 0.05, 0.85)\n\n        // Check if we should stop growing\n        if (c.r >= c.maxR) {\n          c.growing = false\n          c.r = c.maxR\n        }\n\n        // Check collision with other circles\n        for (const other of this.cpCircles) {\n          if (other === c) continue\n          const dx = c.x - other.x\n          const dy = c.y - other.y\n          const dist = Math.sqrt(dx * dx + dy * dy)\n          if (dist < c.r + other.r + 2) {\n            c.growing = false\n            c.r = Math.max(c.r - 0.5, 2)\n            break\n          }\n        }\n      }\n\n      // Draw circle\n      const rgb = hexToRgb(c.color)\n\n      // Filled circle with gradient\n      const grad = ctx.createRadialGradient(c.x - c.r * 0.3, c.y - c.r * 0.3, 0, c.x, c.y, c.r)\n      grad.addColorStop(0, `rgba(${Math.min(rgb[0] + 60, 255)},${Math.min(rgb[1] + 60, 255)},${Math.min(rgb[2] + 60, 255)},${c.alpha})`)\n      grad.addColorStop(0.7, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},${c.alpha * 0.8})`)\n      grad.addColorStop(1, `rgba(${rgb[0] >> 1},${rgb[1] >> 1},${rgb[2] >> 1},${c.alpha * 0.6})`)\n\n      ctx.beginPath()\n      ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2)\n      ctx.fillStyle = grad\n      ctx.fill()\n\n      // Subtle stroke\n      ctx.strokeStyle = `rgba(${rgb[0]},${rgb[1]},${rgb[2]},${c.alpha * 0.3})`\n      ctx.lineWidth = 1\n      ctx.stroke()\n    }\n  }\n\n  private animateCircles() {\n    const ctx = this.ctx\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n    const time = this.frameCount * 0.02\n\n    ctx.fillStyle = '#0a0a0a'\n    ctx.fillRect(0, 0, w, h)\n\n    for (const c of this.cpCircles) {\n      const rgb = hexToRgb(c.color)\n      const pulse = 1 + Math.sin(time + c.x * 0.01 + c.y * 0.01) * 0.02\n\n      const grad = ctx.createRadialGradient(\n        c.x - c.r * 0.3, c.y - c.r * 0.3, 0,\n        c.x, c.y, c.r * pulse\n      )\n      grad.addColorStop(0, `rgba(${Math.min(rgb[0] + 60, 255)},${Math.min(rgb[1] + 60, 255)},${Math.min(rgb[2] + 60, 255)},${c.alpha})`)\n      grad.addColorStop(0.7, `rgba(${rgb[0]},${rgb[1]},${rgb[2]},${c.alpha * 0.8})`)\n      grad.addColorStop(1, `rgba(${rgb[0] >> 1},${rgb[1] >> 1},${rgb[2] >> 1},${c.alpha * 0.6})`)\n\n      ctx.beginPath()\n      ctx.arc(c.x, c.y, c.r * pulse, 0, Math.PI * 2)\n      ctx.fillStyle = grad\n      ctx.fill()\n\n      ctx.strokeStyle = `rgba(${rgb[0]},${rgb[1]},${rgb[2]},${c.alpha * 0.3})`\n      ctx.lineWidth = 1\n      ctx.stroke()\n    }\n  }\n\n  // ═══════════════════════════════════════════════════════════════\n  // MODE 4: VORONOI CRYSTAL\n  // ═══════════════════════════════════════════════════════════════\n  private initVoronoi() {\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n    const count = 40 + Math.floor(this.rng() * 40)\n\n    this.voPoints = []\n    for (let i = 0; i < count; i++) {\n      const colorIdx = Math.floor(this.rng() * this.palette.colors.length)\n      const rgb = this.paletteRgb(colorIdx)\n      this.voPoints.push({\n        x: this.rng() * w,\n        y: this.rng() * h,\n        vx: (this.rng() - 0.5) * 0.5,\n        vy: (this.rng() - 0.5) * 0.5,\n        color: rgb\n      })\n    }\n    this.voBuffer = null\n  }\n\n  private drawVoronoi() {\n    const w = this.container.clientWidth\n    const h = this.container.clientHeight\n    const ctx = this.ctx\n    const dpr = Math.min(window.devicePixelRatio, 2)\n\n    // Move points slowly\n    for (const p of this.voPoints) {\n      p.x += p.vx\n      p.y += p.vy\n\n      // Bounce off edges\n      if (p.x < 0 || p.x > w) p.vx *= -1\n      if (p.y < 0 || p.y > h) p.vy *= -1\n      p.x = Math.max(0, Math.min(w, p.x))\n      p.y = Math.max(0, Math.min(h, p.y))\n    }\n\n    // Render Voronoi via per-pixel nearest-point calculation\n    // Use lower resolution for performance\n    const scale = 4\n    const sw = Math.ceil(w / scale)\n    const sh = Math.ceil(h / scale)\n\n    // Reuse offscreen canvas for low-res render\n    if (!this.voOffCanvas || this.voOffCanvas.width !== sw || this.voOffCanvas.height !== sh) {\n      this.voOffCanvas = document.createElement('canvas')\n      this.voOffCanvas.width = sw\n      this.voOffCanvas.height = sh\n      this.voOffCtx = this.voOffCanvas.getContext('2d')!\n    }\n    const offCtx = this.voOffCtx!\n    const offCanvas = this.voOffCanvas\n    const imageData = offCtx.createImageData(sw, sh)\n    const data = imageData.data\n\n    // ── Build spatial grid for O(pixels * ~9) lookup ──────────────\n    const numPoints = this.voPoints.length\n    const cellSize = Math.max(1, Math.floor(Math.min(w, h) / Math.sqrt(numPoints)))\n    const gridCols = Math.ceil(w / cellSize)\n    const gridRows = Math.ceil(h / cellSize)\n    const gridLen = gridCols * gridRows\n\n    // Flat array of arrays: grid[row * gridCols + col] = list of point indices\n    const grid: number[][] = new Array(gridLen)\n    for (let i = 0; i < gridLen; i++) grid[i] = []\n\n    for (let i = 0; i < numPoints; i++) {\n      const col = Math.min(Math.floor(this.voPoints[i].x / cellSize), gridCols - 1)\n      const row = Math.min(Math.floor(this.voPoints[i].y / cellSize), gridRows - 1)\n      grid[row * gridCols + col].push(i)\n    }\n\n    // Determine search radius in cells. For uniform distributions 1 is\n    // enough, but points can cluster so we use 2 to guarantee correctness\n    // for the typical 40-80 point counts.\n    const searchR = 2\n\n    for (let py = 0; py < sh; py++) {\n      for (let px = 0; px < sw; px++) {\n        const rx = px * scale\n        const ry = py * scale\n\n        // Grid cell for this pixel\n        const gcol = Math.min(Math.floor(rx / cellSize), gridCols - 1)\n        const grow = Math.min(Math.floor(ry / cellSize), gridRows - 1)\n\n        // Find closest and second-closest point in surrounding cells\n        let minDist = Infinity\n        let secondDist = Infinity\n        let closestIdx = 0\n\n        const rStart = Math.max(0, grow - searchR)\n        const rEnd = Math.min(gridRows - 1, grow + searchR)\n        const cStart = Math.max(0, gcol - searchR)\n        const cEnd = Math.min(gridCols - 1, gcol + searchR)\n\n        for (let gr = rStart; gr <= rEnd; gr++) {\n          const rowOff = gr * gridCols\n          for (let gc = cStart; gc <= cEnd; gc++) {\n            const cell = grid[rowOff + gc]\n            for (let k = 0; k < cell.length; k++) {\n              const idx = cell[k]\n              const dx = rx - this.voPoints[idx].x\n              const dy = ry - this.voPoints[idx].y\n              const dist = dx * dx + dy * dy\n              if (dist < minDist) {\n                secondDist = minDist\n                minDist = dist\n                closestIdx = idx\n              } else if (dist < secondDist) {\n                secondDist = dist\n              }\n            }\n          }\n        }\n\n        // If the neighbourhood was too sparse and we only found one\n        // point (secondDist still Infinity), fall back to a full scan.\n        if (secondDist === Infinity) {\n          minDist = Infinity\n          secondDist = Infinity\n          closestIdx = 0\n          for (let i = 0; i < numPoints; i++) {\n            const dx = rx - this.voPoints[i].x\n            const dy = ry - this.voPoints[i].y\n            const dist = dx * dx + dy * dy\n            if (dist < minDist) {\n              secondDist = minDist\n              minDist = dist\n              closestIdx = i\n            } else if (dist < secondDist) {\n              secondDist = dist\n            }\n          }\n        }\n\n        const closest = this.voPoints[closestIdx]\n        const d1 = Math.sqrt(minDist)\n        const d2 = Math.sqrt(secondDist)\n        const edgeFactor = 1 - Math.pow(Math.max(0, 1 - (d2 - d1) / 12), 2)\n\n        // Iridescent color shift based on distance\n        const distNorm = d1 / 80\n        const shiftR = Math.sin(distNorm * Math.PI * 2) * 30\n        const shiftG = Math.sin(distNorm * Math.PI * 2 + 2.094) * 30\n        const shiftB = Math.sin(distNorm * Math.PI * 2 + 4.189) * 30\n\n        const baseColor = closest.color\n        const idx = (py * sw + px) * 4\n\n        // Darken near edges for crystal facet effect\n        const brightness = 0.5 + edgeFactor * 0.5\n        const edgeDark = d2 - d1 < 3 ? 0.15 : 1\n\n        data[idx] = Math.max(0, Math.min(255, (baseColor[0] + shiftR) * brightness * edgeDark))\n        data[idx + 1] = Math.max(0, Math.min(255, (baseColor[1] + shiftG) * brightness * edgeDark))\n        data[idx + 2] = Math.max(0, Math.min(255, (baseColor[2] + shiftB) * brightness * edgeDark))\n        data[idx + 3] = 255\n      }\n    }\n\n    offCtx.putImageData(imageData, 0, 0)\n\n    // Draw scaled up with smoothing\n    ctx.imageSmoothingEnabled = true\n    ctx.imageSmoothingQuality = 'high'\n    ctx.drawImage(offCanvas, 0, 0, w, h)\n\n    // Draw cell edges (Voronoi edges) as bright lines\n    ctx.globalAlpha = 0.15\n    for (let i = 0; i < this.voPoints.length; i++) {\n      const p = this.voPoints[i]\n      ctx.beginPath()\n      ctx.arc(p.x, p.y, 2, 0, Math.PI * 2)\n      ctx.fillStyle = `rgba(255,255,255,0.3)`\n      ctx.fill()\n    }\n    ctx.globalAlpha = 1\n  }\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperties","length","enumerable","configurable","writable","Object","defineProperty","key","_createClass","SimplexNoise2D","rng","grad","p","j","Math","floor","this","perm","concat","_proto","dot","g","x","y","noise","xin","yin","F2","sqrt","G2","s","x0","y0","i1","j1","x1","y1","x2","y2","ii","jj","gi0","gi1","gi2","n0","n1","n2","t0","t1","t2","PALETTES","name","label","colors","hexToRgb","hex","v","parseInt","slice","lerpColor","a","b","GenerativeArtEngine","container","animId","disposed","running","mode","palette","currentSeed","startTime","frameCount","ffParticles","ffImageData","ftBranches","ftLeaves","ftDrawIndex","ftWindTime","ftTreeParams","cpCircles","cpAttempts","voPoints","voBuffer","voOffCanvas","voOffCtx","handleResize","resize","generate","tick","requestAnimationFrame","drawFlowField","drawFractalTree","drawCirclePacking","drawVoronoi","canvas","document","createElement","style","display","width","height","appendChild","ctx","getContext","willReadFrequently","window","addEventListener","_proto2","setMode","setPalette","seed","stop","random","imul","mulberry32","performance","now","w","h","fillStyle","fillRect","initFlowField","initFractalTree","initCirclePacking","initVoronoi","exportPNG","link","download","href","toDataURL","click","cancelAnimationFrame","dispose","removeEventListener","parentElement","removeChild","dpr","min","devicePixelRatio","clientWidth","clientHeight","setTransform","paletteColor","index","paletteRgb","randomPaletteColor","particleCount","push","vx","vy","life","maxLife","colorIdx","zOff","angle","PI","cos","sin","oldX","oldY","lifeRatio","alpha","rgb","shift","blended","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","treeCount","baseX","baseY","maxDepth","decay","spread","generateBranches","depth","color","drawn","endX","endY","depthRatio","max","numBranches","angleOffset","newLength","batchSize","sway","lineCap","globalAlpha","shadowColor","shadowBlur","leafDrawn","leafBatch","leaf","arc","fill","every","l","animateTreeWind","attempt","maxAttempts","animateCircles","minR","maxR","valid","maxPossibleR","c","dx","dy","dist","growing","other","createRadialGradient","addColorStop","time","pulse","count","sw","ceil","sh","offCtx","offCanvas","imageData","createImageData","data","numPoints","cellSize","gridCols","gridRows","gridLen","grid","Array","col","py","px","rx","ry","gcol","grow","minDist","Infinity","secondDist","closestIdx","rStart","rEnd","cStart","cEnd","gr","rowOff","gc","cell","k","idx","closest","d1","d2","edgeFactor","pow","distNorm","shiftR","shiftG","shiftB","baseColor","brightness","edgeDark","putImageData","imageSmoothingEnabled","imageSmoothingQuality","drawImage","get"],"sourceRoot":""}