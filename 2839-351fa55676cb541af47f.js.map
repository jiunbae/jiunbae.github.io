{"version":3,"file":"2839-351fa55676cb541af47f.js","mappings":"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","sources":["webpack://jiunbae.github.io/./src/views/WaveInterference/engine.ts"],"sourcesContent":["export type WavePalette = 'neon' | 'sunset' | 'mono'\n\ninterface WaveSource {\n  x: number\n  y: number\n  phase: number\n  speed: number\n  strength: number\n}\n\ntype SourceCountListener = (count: number) => void\n\nfunction clamp(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(max, value))\n}\n\nfunction clampColor(value: number): number {\n  return Math.max(0, Math.min(255, Math.round(value)))\n}\n\nexport class WaveInterferenceEngine {\n  private canvas: HTMLCanvasElement\n  private ctx: CanvasRenderingContext2D\n\n  private bufferCanvas: HTMLCanvasElement\n  private bufferCtx: CanvasRenderingContext2D\n  private imageData: ImageData | null = null\n  private pixels: Uint8ClampedArray | null = null\n\n  private w = 1\n  private h = 1\n  private dpr = 1\n  private lowW = 1\n  private lowH = 1\n\n  private resolution = 4\n  private frequency = 1.2\n  private wavelength = 34\n  private damping = 0.008\n  private amplitude = 1\n  private palette: WavePalette = 'neon'\n  private running = true\n\n  private sources: WaveSource[] = []\n  private time = 0\n  private lastTs = 0\n  private animationId = 0\n  private disposed = false\n\n  private dragSourceIndex: number | null = null\n  private pointerId: number | null = null\n  private resizeObserver: ResizeObserver | null = null\n  private dirty = true\n  private sourceCountListener: SourceCountListener | null = null\n\n  private readonly maxSources = 8\n  private readonly paletteSteps = 1024\n  private paletteLut = new Uint8ClampedArray(this.paletteSteps * 3)\n  private attenuationLut = new Float32Array(0)\n  private attenuationMaxDist = 0\n  private sourceX = new Float32Array(this.maxSources)\n  private sourceY = new Float32Array(this.maxSources)\n  private sourcePhase = new Float32Array(this.maxSources)\n  private sourceStrength = new Float32Array(this.maxSources)\n\n  constructor(private container: HTMLDivElement) {\n    this.canvas = document.createElement('canvas')\n    this.canvas.style.width = '100%'\n    this.canvas.style.height = '100%'\n    this.canvas.style.display = 'block'\n    this.canvas.style.touchAction = 'none'\n    container.appendChild(this.canvas)\n\n    const ctx = this.canvas.getContext('2d')\n    if (!ctx) {\n      throw new Error('Canvas 2D context is not available')\n    }\n    this.ctx = ctx\n\n    this.bufferCanvas = document.createElement('canvas')\n    const bufferCtx = this.bufferCanvas.getContext('2d')\n    if (!bufferCtx) {\n      throw new Error('Offscreen 2D context is not available')\n    }\n    this.bufferCtx = bufferCtx\n\n    this.resizeCanvas()\n    this.rebuildPaletteLut()\n    this.resetSources()\n    this.initListeners()\n    this.requestFrame()\n  }\n\n  setRunning(running: boolean) {\n    if (this.running === running) return\n    this.running = running\n    if (!running) this.lastTs = 0\n    this.markDirty()\n  }\n\n  setFrequency(value: number) {\n    const next = clamp(value, 0.2, 4)\n    if (this.frequency === next) return\n    this.frequency = next\n    this.markDirty()\n  }\n\n  setWavelength(value: number) {\n    const next = clamp(value, 8, 160)\n    if (this.wavelength === next) return\n    this.wavelength = next\n    this.markDirty()\n  }\n\n  setDamping(value: number) {\n    const next = clamp(value, 0, 0.04)\n    if (this.damping === next) return\n    this.damping = next\n    this.rebuildAttenuationLut()\n    this.markDirty()\n  }\n\n  setAmplitude(value: number) {\n    const next = clamp(value, 0.2, 3)\n    if (this.amplitude === next) return\n    this.amplitude = next\n    this.markDirty()\n  }\n\n  setResolution(value: number) {\n    const nextResolution = Math.round(clamp(value, 2, 12))\n    if (nextResolution === this.resolution) return\n    this.resolution = nextResolution\n    this.resizeBuffers()\n    this.markDirty()\n  }\n\n  setPalette(palette: WavePalette) {\n    if (this.palette === palette) return\n    this.palette = palette\n    this.rebuildPaletteLut()\n    this.markDirty()\n  }\n\n  setSourceCount(count: number) {\n    const target = Math.round(clamp(count, 1, this.maxSources))\n    if (target === this.sources.length) return\n    if (target < this.sources.length) {\n      this.sources.length = target\n      if (this.dragSourceIndex !== null && this.dragSourceIndex >= target) {\n        this.dragSourceIndex = null\n      }\n      this.notifySourceCountChanged()\n      this.markDirty()\n      return\n    }\n    while (this.sources.length < target) {\n      this.sources.push(this.createSource(Math.random() * this.w, Math.random() * this.h))\n    }\n    this.notifySourceCountChanged()\n    this.markDirty()\n  }\n\n  getSourceCount(): number {\n    return this.sources.length\n  }\n\n  setSourceCountListener(listener: SourceCountListener | null) {\n    this.sourceCountListener = listener\n    this.notifySourceCountChanged()\n  }\n\n  resetSources() {\n    const cx = this.w * 0.5\n    const cy = this.h * 0.5\n    const radius = Math.max(40, Math.min(this.w, this.h) * 0.24)\n    this.sources = [\n      this.createSource(cx - radius, cy + radius * 0.15),\n      this.createSource(cx + radius, cy + radius * 0.15),\n      this.createSource(cx, cy - radius * 0.85)\n    ]\n    this.notifySourceCountChanged()\n    this.markDirty()\n  }\n\n  dispose() {\n    this.disposed = true\n    this.sourceCountListener = null\n    if (this.animationId !== 0) {\n      cancelAnimationFrame(this.animationId)\n      this.animationId = 0\n    }\n\n    this.resizeObserver?.disconnect()\n    this.resizeObserver = null\n\n    this.canvas.removeEventListener('pointerdown', this.onPointerDown)\n    window.removeEventListener('pointermove', this.onPointerMove)\n    window.removeEventListener('pointerup', this.onPointerUp)\n    window.removeEventListener('pointercancel', this.onPointerUp)\n    this.canvas.removeEventListener('contextmenu', this.onContextMenu)\n\n    if (this.canvas.parentElement) {\n      this.canvas.parentElement.removeChild(this.canvas)\n    }\n  }\n\n  private createSource(x: number, y: number): WaveSource {\n    return {\n      x: clamp(x, 0, this.w),\n      y: clamp(y, 0, this.h),\n      phase: Math.random() * Math.PI * 2,\n      speed: 0.6 + Math.random() * 1.4,\n      strength: 0.85 + Math.random() * 0.45\n    }\n  }\n\n  private animate = (ts: number) => {\n    if (this.disposed) return\n    this.animationId = 0\n\n    if (this.lastTs === 0) this.lastTs = ts\n    const dt = Math.min(0.05, (ts - this.lastTs) / 1000)\n    this.lastTs = ts\n\n    if (this.running) {\n      this.time += dt * this.frequency * Math.PI * 2\n      for (const source of this.sources) {\n        source.phase += dt * source.speed * this.frequency * 2.3\n      }\n      this.dirty = true\n    }\n\n    if (this.dirty) {\n      this.renderField()\n      this.dirty = false\n    }\n\n    if (this.running || this.dirty) {\n      this.requestFrame()\n    } else {\n      this.lastTs = 0\n    }\n  }\n\n  private renderField() {\n    if (!this.imageData || !this.pixels) return\n\n    const count = this.sources.length\n    const invCount = count > 0 ? 1 / count : 0\n    const invWavelength = 1 / this.wavelength\n    const attenuationLut = this.attenuationLut\n    const attenuationMaxDist = this.attenuationMaxDist\n    const paletteLut = this.paletteLut\n    const paletteMaxIndex = this.paletteSteps - 1\n\n    for (let i = 0; i < count; i++) {\n      const source = this.sources[i]\n      this.sourceX[i] = source.x\n      this.sourceY[i] = source.y\n      this.sourcePhase[i] = source.phase - this.time\n      this.sourceStrength[i] = source.strength * this.amplitude\n    }\n\n    let p = 0\n\n    for (let y = 0; y < this.lowH; y++) {\n      const wy = ((y + 0.5) / this.lowH) * this.h\n      for (let x = 0; x < this.lowW; x++) {\n        const wx = ((x + 0.5) / this.lowW) * this.w\n\n        let sum = 0\n        for (let i = 0; i < count; i++) {\n          const dx = wx - this.sourceX[i]\n          const dy = wy - this.sourceY[i]\n          const dist = Math.sqrt(dx * dx + dy * dy)\n          const attenuation = attenuationLut[Math.min(attenuationMaxDist, dist | 0)]\n          const wave = Math.sin(dist * invWavelength + this.sourcePhase[i])\n          sum += wave * attenuation * this.sourceStrength[i]\n        }\n\n        const normalized = clamp(sum * invCount, -1, 1)\n        const lutIndex = Math.round(((normalized + 1) * 0.5) * paletteMaxIndex)\n        const lutBase = lutIndex * 3\n        this.pixels[p++] = paletteLut[lutBase]\n        this.pixels[p++] = paletteLut[lutBase + 1]\n        this.pixels[p++] = paletteLut[lutBase + 2]\n        this.pixels[p++] = 255\n      }\n    }\n\n    this.bufferCtx.putImageData(this.imageData, 0, 0)\n    this.ctx.imageSmoothingEnabled = false\n    this.ctx.drawImage(this.bufferCanvas, 0, 0, this.w, this.h)\n    this.drawSources()\n  }\n\n  private samplePalette(v: number): [number, number, number] {\n    const t = (v + 1) * 0.5\n\n    if (this.palette === 'sunset') {\n      const r = clampColor(80 + 175 * t)\n      const g = clampColor(25 + 155 * Math.pow(1 - Math.abs(t - 0.5) * 2, 0.85))\n      const b = clampColor(28 + 130 * (1 - t))\n      return [r, g, b]\n    }\n\n    if (this.palette === 'mono') {\n      const l = clampColor(22 + 210 * t)\n      return [clampColor(l * 0.9), clampColor(l * 0.95), l]\n    }\n\n    const r = clampColor(30 + 220 * Math.pow(t, 1.1))\n    const g = clampColor(10 + 210 * Math.pow(1 - Math.abs(t - 0.5) * 2, 0.75))\n    const b = clampColor(75 + 170 * Math.pow(1 - t, 0.8))\n    return [r, g, b]\n  }\n\n  private drawSources() {\n    for (let i = 0; i < this.sources.length; i++) {\n      const source = this.sources[i]\n      const pulse = 5 + Math.sin(this.time * 2 + i) * 1.5\n\n      this.ctx.beginPath()\n      this.ctx.arc(source.x, source.y, pulse + 8, 0, Math.PI * 2)\n      this.ctx.fillStyle = 'rgba(255, 255, 255, 0.08)'\n      this.ctx.fill()\n\n      this.ctx.beginPath()\n      this.ctx.arc(source.x, source.y, pulse, 0, Math.PI * 2)\n      this.ctx.fillStyle = 'rgba(255, 255, 255, 0.8)'\n      this.ctx.fill()\n\n      this.ctx.beginPath()\n      this.ctx.arc(source.x, source.y, pulse + 12, 0, Math.PI * 2)\n      this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.26)'\n      this.ctx.lineWidth = 1.2\n      this.ctx.stroke()\n    }\n  }\n\n  private resizeCanvas() {\n    const rect = this.container.getBoundingClientRect()\n    this.w = Math.max(1, Math.floor(rect.width))\n    this.h = Math.max(1, Math.floor(rect.height))\n    this.dpr = Math.min(window.devicePixelRatio || 1, 2)\n\n    this.canvas.width = Math.floor(this.w * this.dpr)\n    this.canvas.height = Math.floor(this.h * this.dpr)\n    this.ctx.setTransform(this.dpr, 0, 0, this.dpr, 0, 0)\n    this.ctx.imageSmoothingEnabled = false\n\n    this.resizeBuffers()\n    this.rebuildAttenuationLut()\n    for (const source of this.sources) {\n      source.x = clamp(source.x, 0, this.w)\n      source.y = clamp(source.y, 0, this.h)\n    }\n    this.markDirty()\n  }\n\n  private resizeBuffers() {\n    this.lowW = Math.max(12, Math.ceil(this.w / this.resolution))\n    this.lowH = Math.max(12, Math.ceil(this.h / this.resolution))\n    this.bufferCanvas.width = this.lowW\n    this.bufferCanvas.height = this.lowH\n    this.imageData = this.bufferCtx.createImageData(this.lowW, this.lowH)\n    this.pixels = this.imageData.data\n  }\n\n  private rebuildPaletteLut() {\n    for (let i = 0; i < this.paletteSteps; i++) {\n      const v = (i / (this.paletteSteps - 1)) * 2 - 1\n      const [r, g, b] = this.samplePalette(v)\n      const base = i * 3\n      this.paletteLut[base] = r\n      this.paletteLut[base + 1] = g\n      this.paletteLut[base + 2] = b\n    }\n  }\n\n  private rebuildAttenuationLut() {\n    this.attenuationMaxDist = Math.ceil(Math.sqrt(this.w * this.w + this.h * this.h)) + 2\n    this.attenuationLut = new Float32Array(this.attenuationMaxDist + 1)\n    for (let i = 0; i <= this.attenuationMaxDist; i++) {\n      this.attenuationLut[i] = Math.exp(-i * this.damping)\n    }\n  }\n\n  private markDirty() {\n    this.dirty = true\n    this.requestFrame()\n  }\n\n  private requestFrame() {\n    if (this.disposed || this.animationId !== 0) return\n    this.animationId = requestAnimationFrame(this.animate)\n  }\n\n  private notifySourceCountChanged() {\n    if (!this.sourceCountListener) return\n    this.sourceCountListener(this.sources.length)\n  }\n\n  private initListeners() {\n    this.resizeObserver = new ResizeObserver(() => this.resizeCanvas())\n    this.resizeObserver.observe(this.container)\n\n    this.canvas.addEventListener('pointerdown', this.onPointerDown)\n    window.addEventListener('pointermove', this.onPointerMove)\n    window.addEventListener('pointerup', this.onPointerUp)\n    window.addEventListener('pointercancel', this.onPointerUp)\n    this.canvas.addEventListener('contextmenu', this.onContextMenu)\n  }\n\n  private onPointerDown = (e: PointerEvent) => {\n    if (e.button !== 0) return\n\n    const pos = this.clientToWorld(e.clientX, e.clientY)\n    if (!pos) return\n\n    const nearest = this.findNearestSource(pos.x, pos.y, 26)\n    if (nearest >= 0) {\n      this.dragSourceIndex = nearest\n    } else if (this.sources.length < this.maxSources) {\n      this.sources.push(this.createSource(pos.x, pos.y))\n      this.dragSourceIndex = this.sources.length - 1\n      this.notifySourceCountChanged()\n      this.markDirty()\n    } else {\n      this.dragSourceIndex = this.findNearestSource(pos.x, pos.y, Infinity)\n    }\n\n    this.pointerId = e.pointerId\n    this.canvas.setPointerCapture(e.pointerId)\n  }\n\n  private onPointerMove = (e: PointerEvent) => {\n    if (this.pointerId !== e.pointerId || this.dragSourceIndex === null) return\n    const pos = this.clientToWorld(e.clientX, e.clientY)\n    if (!pos) return\n\n    const source = this.sources[this.dragSourceIndex]\n    if (!source) return\n    source.x = clamp(pos.x, 0, this.w)\n    source.y = clamp(pos.y, 0, this.h)\n    this.markDirty()\n  }\n\n  private onPointerUp = (e: PointerEvent) => {\n    if (this.pointerId !== e.pointerId) return\n    this.dragSourceIndex = null\n    this.pointerId = null\n    if (this.canvas.hasPointerCapture(e.pointerId)) {\n      this.canvas.releasePointerCapture(e.pointerId)\n    }\n    this.markDirty()\n  }\n\n  private onContextMenu = (e: MouseEvent) => {\n    e.preventDefault()\n    if (this.sources.length <= 1) return\n\n    const pos = this.clientToWorld(e.clientX, e.clientY)\n    if (!pos) return\n    const nearest = this.findNearestSource(pos.x, pos.y, 30)\n    if (nearest >= 0) {\n      this.sources.splice(nearest, 1)\n      if (this.dragSourceIndex !== null && this.dragSourceIndex >= this.sources.length) {\n        this.dragSourceIndex = null\n      }\n      this.notifySourceCountChanged()\n      this.markDirty()\n    }\n  }\n\n  private clientToWorld(clientX: number, clientY: number): { x: number; y: number } | null {\n    const rect = this.canvas.getBoundingClientRect()\n    const rx = clientX - rect.left\n    const ry = clientY - rect.top\n    if (rx < 0 || ry < 0 || rx >= rect.width || ry >= rect.height) return null\n    return {\n      x: (rx / rect.width) * this.w,\n      y: (ry / rect.height) * this.h\n    }\n  }\n\n  private findNearestSource(x: number, y: number, maxDistance: number): number {\n    const maxDistSq = maxDistance * maxDistance\n    let best = maxDistSq\n    let nearest = -1\n\n    for (let i = 0; i < this.sources.length; i++) {\n      const source = this.sources[i]\n      const dx = source.x - x\n      const dy = source.y - y\n      const distSq = dx * dx + dy * dy\n      if (distSq <= best) {\n        best = distSq\n        nearest = i\n      }\n    }\n\n    return nearest\n  }\n}\n"],"names":["clamp","value","min","max","Math","clampColor","round","WaveInterferenceEngine","container","imageData","pixels","w","h","dpr","lowW","lowH","resolution","frequency","wavelength","damping","amplitude","palette","running","sources","time","lastTs","animationId","disposed","dragSourceIndex","pointerId","resizeObserver","dirty","sourceCountListener","maxSources","paletteSteps","paletteLut","Uint8ClampedArray","this","attenuationLut","Float32Array","attenuationMaxDist","sourceX","sourceY","sourcePhase","sourceStrength","animate","ts","dt","PI","source","phase","speed","renderField","requestFrame","onPointerDown","e","button","pos","clientToWorld","clientX","clientY","nearest","findNearestSource","x","y","length","push","createSource","notifySourceCountChanged","markDirty","Infinity","canvas","setPointerCapture","onPointerMove","onPointerUp","hasPointerCapture","releasePointerCapture","onContextMenu","preventDefault","splice","document","createElement","style","width","height","display","touchAction","appendChild","ctx","getContext","Error","bufferCanvas","bufferCtx","resizeCanvas","rebuildPaletteLut","resetSources","initListeners","_proto","prototype","setRunning","setFrequency","next","setWavelength","setDamping","rebuildAttenuationLut","setAmplitude","setResolution","nextResolution","resizeBuffers","setPalette","setSourceCount","count","target","random","getSourceCount","setSourceCountListener","listener","cx","cy","radius","dispose","_this$resizeObserver","cancelAnimationFrame","disconnect","removeEventListener","window","parentElement","removeChild","strength","invCount","invWavelength","paletteMaxIndex","i","p","wy","wx","sum","dx","dy","dist","sqrt","attenuation","sin","normalized","lutBase","putImageData","imageSmoothingEnabled","drawImage","drawSources","samplePalette","v","t","pow","abs","l","pulse","beginPath","arc","fillStyle","fill","strokeStyle","lineWidth","stroke","rect","getBoundingClientRect","floor","devicePixelRatio","setTransform","ceil","createImageData","data","r","g","b","base","exp","requestAnimationFrame","ResizeObserver","observe","addEventListener","rx","left","ry","top","maxDistance","best","distSq"],"sourceRoot":""}