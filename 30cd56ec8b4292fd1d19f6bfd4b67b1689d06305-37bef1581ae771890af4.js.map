{"version":3,"file":"30cd56ec8b4292fd1d19f6bfd4b67b1689d06305-37bef1581ae771890af4.js","mappings":"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","sources":["webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://jiunbae.github.io/./node_modules/.pnpm/@babel+runtime@7.28.6/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://jiunbae.github.io/./node_modules/.pnpm/three@0.183.1/node_modules/three/examples/jsm/controls/OrbitControls.js"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","import {\n\tControls,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3,\n\tPlane,\n\tRay,\n\tMathUtils\n} from 'three';\n\n/**\n * Fires when the camera has been transformed by the controls.\n *\n * @event OrbitControls#change\n * @type {Object}\n */\nconst _changeEvent = { type: 'change' };\n\n/**\n * Fires when an interaction was initiated.\n *\n * @event OrbitControls#start\n * @type {Object}\n */\nconst _startEvent = { type: 'start' };\n\n/**\n * Fires when an interaction has finished.\n *\n * @event OrbitControls#end\n * @type {Object}\n */\nconst _endEvent = { type: 'end' };\n\nconst _ray = new Ray();\nconst _plane = new Plane();\nconst _TILT_LIMIT = Math.cos( 70 * MathUtils.DEG2RAD );\n\nconst _v = new Vector3();\nconst _twoPI = 2 * Math.PI;\n\nconst _STATE = {\n\tNONE: - 1,\n\tROTATE: 0,\n\tDOLLY: 1,\n\tPAN: 2,\n\tTOUCH_ROTATE: 3,\n\tTOUCH_PAN: 4,\n\tTOUCH_DOLLY_PAN: 5,\n\tTOUCH_DOLLY_ROTATE: 6\n};\nconst _EPS = 0.000001;\n\n\n/**\n * Orbit controls allow the camera to orbit around a target.\n *\n * OrbitControls performs orbiting, dollying (zooming), and panning. Unlike {@link TrackballControls},\n * it maintains the \"up\" direction `object.up` (+Y by default).\n *\n * - Orbit: Left mouse / touch: one-finger move.\n * - Zoom: Middle mouse, or mousewheel / touch: two-finger spread or squish.\n * - Pan: Right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move.\n *\n * ```js\n * const controls = new OrbitControls( camera, renderer.domElement );\n *\n * // controls.update() must be called after any manual changes to the camera's transform\n * camera.position.set( 0, 20, 100 );\n * controls.update();\n *\n * function animate() {\n *\n * \t// required if controls.enableDamping or controls.autoRotate are set to true\n * \tcontrols.update();\n *\n * \trenderer.render( scene, camera );\n *\n * }\n * ```\n *\n * @augments Controls\n * @three_import import { OrbitControls } from 'three/addons/controls/OrbitControls.js';\n */\nclass OrbitControls extends Controls {\n\n\t/**\n\t * Constructs a new controls instance.\n\t *\n\t * @param {Object3D} object - The object that is managed by the controls.\n\t * @param {?HTMLElement} domElement - The HTML element used for event listeners.\n\t */\n\tconstructor( object, domElement = null ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.state = _STATE.NONE;\n\n\t\t/**\n\t\t * The focus point of the controls, the `object` orbits around this.\n\t\t * It can be updated manually at any point to change the focus of the controls.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.target = new Vector3();\n\n\t\t/**\n\t\t * The focus point of the `minTargetRadius` and `maxTargetRadius` limits.\n\t\t * It can be updated manually at any point to change the center of interest\n\t\t * for the `target`.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.cursor = new Vector3();\n\n\t\t/**\n\t\t * How far you can dolly in (perspective camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minDistance = 0;\n\n\t\t/**\n\t\t * How far you can dolly out (perspective camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxDistance = Infinity;\n\n\t\t/**\n\t\t * How far you can zoom in (orthographic camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minZoom = 0;\n\n\t\t/**\n\t\t * How far you can zoom out (orthographic camera only).\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxZoom = Infinity;\n\n\t\t/**\n\t\t * How close you can get the target to the 3D `cursor`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minTargetRadius = 0;\n\n\t\t/**\n\t\t * How far you can move the target from the 3D `cursor`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default Infinity\n\t\t */\n\t\tthis.maxTargetRadius = Infinity;\n\n\t\t/**\n\t\t * How far you can orbit vertically, lower limit. Range is `[0, Math.PI]` radians.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0\n\t\t */\n\t\tthis.minPolarAngle = 0;\n\n\t\t/**\n\t\t * How far you can orbit vertically, upper limit. Range is `[0, Math.PI]` radians.\n\t\t *\n\t\t * @type {number}\n\t\t * @default Math.PI\n\t\t */\n\t\tthis.maxPolarAngle = Math.PI;\n\n\t\t/**\n\t\t * How far you can orbit horizontally, lower limit. If set, the interval `[ min, max ]`\n\t\t * must be a sub-interval of `[ - 2 PI, 2 PI ]`, with `( max - min < 2 PI )`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default -Infinity\n\t\t */\n\t\tthis.minAzimuthAngle = - Infinity;\n\n\t\t/**\n\t\t * How far you can orbit horizontally, upper limit. If set, the interval `[ min, max ]`\n\t\t * must be a sub-interval of `[ - 2 PI, 2 PI ]`, with `( max - min < 2 PI )`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default -Infinity\n\t\t */\n\t\tthis.maxAzimuthAngle = Infinity;\n\n\t\t/**\n\t\t * Set to `true` to enable damping (inertia), which can be used to give a sense of weight\n\t\t * to the controls. Note that if this is enabled, you must call `update()` in your animation\n\t\t * loop.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.enableDamping = false;\n\n\t\t/**\n\t\t * The damping inertia used if `enableDamping` is set to `true`.\n\t\t *\n\t\t * Note that for this to work, you must call `update()` in your animation loop.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 0.05\n\t\t */\n\t\tthis.dampingFactor = 0.05;\n\n\t\t/**\n\t\t * Enable or disable zooming (dollying) of the camera.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableZoom = true;\n\n\t\t/**\n\t\t * Speed of zooming / dollying.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t/**\n\t\t * Enable or disable horizontal and vertical rotation of the camera.\n\t\t *\n\t\t * Note that it is possible to disable a single axis by setting the min and max of the\n\t\t * `minPolarAngle` or `minAzimuthAngle` to the same value, which will cause the vertical\n\t\t * or horizontal rotation to be fixed at that value.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enableRotate = true;\n\n\t\t/**\n\t\t * Speed of rotation.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t/**\n\t\t * How fast to rotate the camera when the keyboard is used.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.keyRotateSpeed = 1.0;\n\n\t\t/**\n\t\t * Enable or disable camera panning.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.enablePan = true;\n\n\t\t/**\n\t\t * Speed of panning.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.panSpeed = 1.0;\n\n\t\t/**\n\t\t * Defines how the camera's position is translated when panning. If `true`, the camera pans\n\t\t * in screen space. Otherwise, the camera pans in the plane orthogonal to the camera's up\n\t\t * direction.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.screenSpacePanning = true;\n\n\t\t/**\n\t\t * How fast to pan the camera when the keyboard is used in\n\t\t * pixels per keypress.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 7\n\t\t */\n\t\tthis.keyPanSpeed = 7.0;\n\n\t\t/**\n\t\t * Setting this property to `true` allows to zoom to the cursor's position.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.zoomToCursor = false;\n\n\t\t/**\n\t\t * Set to true to automatically rotate around the target\n\t\t *\n\t\t * Note that if this is enabled, you must call `update()` in your animation loop.\n\t\t * If you want the auto-rotate speed to be independent of the frame rate (the refresh\n\t\t * rate of the display), you must pass the time `deltaTime`, in seconds, to `update()`.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.autoRotate = false;\n\n\t\t/**\n\t\t * How fast to rotate around the target if `autoRotate` is `true`. The default  equates to 30 seconds\n\t\t * per orbit at 60fps.\n\t\t *\n\t\t * Note that if `autoRotate` is enabled, you must call `update()` in your animation loop.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 2\n\t\t */\n\t\tthis.autoRotateSpeed = 2.0;\n\n\t\t/**\n\t\t * This object contains references to the keycodes for controlling camera panning.\n\t\t *\n\t\t * ```js\n\t\t * controls.keys = {\n\t\t * \tLEFT: 'ArrowLeft', //left arrow\n\t\t * \tUP: 'ArrowUp', // up arrow\n\t\t * \tRIGHT: 'ArrowRight', // right arrow\n\t\t * \tBOTTOM: 'ArrowDown' // down arrow\n\t\t * }\n\t\t * ```\n\t\t * @type {Object}\n\t\t */\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t/**\n\t\t * This object contains references to the mouse actions used by the controls.\n\t\t *\n\t\t * ```js\n\t\t * controls.mouseButtons = {\n\t\t * \tLEFT: THREE.MOUSE.ROTATE,\n\t\t * \tMIDDLE: THREE.MOUSE.DOLLY,\n\t\t * \tRIGHT: THREE.MOUSE.PAN\n\t\t * }\n\t\t * ```\n\t\t * @type {Object}\n\t\t */\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t/**\n\t\t * This object contains references to the touch actions used by the controls.\n\t\t *\n\t\t * ```js\n\t\t * controls.mouseButtons = {\n\t\t * \tONE: THREE.TOUCH.ROTATE,\n\t\t * \tTWO: THREE.TOUCH.DOLLY_PAN\n\t\t * }\n\t\t * ```\n\t\t * @type {Object}\n\t\t */\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t/**\n\t\t * Used internally by `saveState()` and `reset()`.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.target0 = this.target.clone();\n\n\t\t/**\n\t\t * Used internally by `saveState()` and `reset()`.\n\t\t *\n\t\t * @type {Vector3}\n\t\t */\n\t\tthis.position0 = this.object.position.clone();\n\n\t\t/**\n\t\t * Used internally by `saveState()` and `reset()`.\n\t\t *\n\t\t * @type {number}\n\t\t */\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\tthis._cursorStyle = 'auto';\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t// internals\n\n\t\tthis._lastPosition = new Vector3();\n\t\tthis._lastQuaternion = new Quaternion();\n\t\tthis._lastTargetPosition = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tthis._quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tthis._quatInverse = this._quat.clone().invert();\n\n\t\t// current position in spherical coordinates\n\t\tthis._spherical = new Spherical();\n\t\tthis._sphericalDelta = new Spherical();\n\n\t\tthis._scale = 1;\n\t\tthis._panOffset = new Vector3();\n\n\t\tthis._rotateStart = new Vector2();\n\t\tthis._rotateEnd = new Vector2();\n\t\tthis._rotateDelta = new Vector2();\n\n\t\tthis._panStart = new Vector2();\n\t\tthis._panEnd = new Vector2();\n\t\tthis._panDelta = new Vector2();\n\n\t\tthis._dollyStart = new Vector2();\n\t\tthis._dollyEnd = new Vector2();\n\t\tthis._dollyDelta = new Vector2();\n\n\t\tthis._dollyDirection = new Vector3();\n\t\tthis._mouse = new Vector2();\n\t\tthis._performCursorZoom = false;\n\n\t\tthis._pointers = [];\n\t\tthis._pointerPositions = {};\n\n\t\tthis._controlActive = false;\n\n\t\t// event listeners\n\n\t\tthis._onPointerMove = onPointerMove.bind( this );\n\t\tthis._onPointerDown = onPointerDown.bind( this );\n\t\tthis._onPointerUp = onPointerUp.bind( this );\n\t\tthis._onContextMenu = onContextMenu.bind( this );\n\t\tthis._onMouseWheel = onMouseWheel.bind( this );\n\t\tthis._onKeyDown = onKeyDown.bind( this );\n\n\t\tthis._onTouchStart = onTouchStart.bind( this );\n\t\tthis._onTouchMove = onTouchMove.bind( this );\n\n\t\tthis._onMouseDown = onMouseDown.bind( this );\n\t\tthis._onMouseMove = onMouseMove.bind( this );\n\n\t\tthis._interceptControlDown = interceptControlDown.bind( this );\n\t\tthis._interceptControlUp = interceptControlUp.bind( this );\n\n\t\t//\n\n\t\tif ( this.domElement !== null ) {\n\n\t\t\tthis.connect( this.domElement );\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\t/**\n\t * Defines the visual representation of the cursor.\n\t *\n\t * @type {('auto'|'grab')}\n\t * @default 'auto'\n\t */\n\tset cursorStyle( type ) {\n\n\t\tthis._cursorStyle = type;\n\n\t\tif ( type === 'grab' ) {\n\n\t\t\tthis.domElement.style.cursor = 'grab';\n\n\t\t} else {\n\n\t\t\tthis.domElement.style.cursor = 'auto';\n\n\t\t}\n\n\t}\n\n\tget cursorStyle() {\n\n\t\treturn this._cursorStyle;\n\n\t}\n\n\tconnect( element ) {\n\n\t\tsuper.connect( element );\n\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', this._onContextMenu );\n\t\tthis.domElement.addEventListener( 'wheel', this._onMouseWheel, { passive: false } );\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.addEventListener( 'keydown', this._interceptControlDown, { passive: true, capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t}\n\n\tdisconnect() {\n\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.ownerDocument.removeEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.ownerDocument.removeEventListener( 'pointerup', this._onPointerUp );\n\t\tthis.domElement.removeEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.removeEventListener( 'wheel', this._onMouseWheel );\n\t\tthis.domElement.removeEventListener( 'contextmenu', this._onContextMenu );\n\n\t\tthis.stopListenToKeyEvents();\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.removeEventListener( 'keydown', this._interceptControlDown, { capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'auto';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.disconnect();\n\n\t}\n\n\t/**\n\t * Get the current vertical rotation, in radians.\n\t *\n\t * @return {number} The current vertical rotation, in radians.\n\t */\n\tgetPolarAngle() {\n\n\t\treturn this._spherical.phi;\n\n\t}\n\n\t/**\n\t * Get the current horizontal rotation, in radians.\n\t *\n\t * @return {number} The current horizontal rotation, in radians.\n\t */\n\tgetAzimuthalAngle() {\n\n\t\treturn this._spherical.theta;\n\n\t}\n\n\t/**\n\t * Returns the distance from the camera to the target.\n\t *\n\t * @return {number} The distance from the camera to the target.\n\t */\n\tgetDistance() {\n\n\t\treturn this.object.position.distanceTo( this.target );\n\n\t}\n\n\t/**\n\t * Adds key event listeners to the given DOM element.\n\t * `window` is a recommended argument for using this method.\n\t *\n\t * @param {HTMLElement} domElement - The DOM element\n\t */\n\tlistenToKeyEvents( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', this._onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t}\n\n\t/**\n\t * Removes the key event listener previously defined with `listenToKeyEvents()`.\n\t */\n\tstopListenToKeyEvents() {\n\n\t\tif ( this._domElementKeyEvents !== null ) {\n\n\t\t\tthis._domElementKeyEvents.removeEventListener( 'keydown', this._onKeyDown );\n\t\t\tthis._domElementKeyEvents = null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Save the current state of the controls. This can later be recovered with `reset()`.\n\t */\n\tsaveState() {\n\n\t\tthis.target0.copy( this.target );\n\t\tthis.position0.copy( this.object.position );\n\t\tthis.zoom0 = this.object.zoom;\n\n\t}\n\n\t/**\n\t * Reset the controls to their state from either the last time the `saveState()`\n\t * was called, or the initial state.\n\t */\n\treset() {\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\t\tthis.object.zoom = this.zoom0;\n\n\t\tthis.object.updateProjectionMatrix();\n\t\tthis.dispatchEvent( _changeEvent );\n\n\t\tthis.update();\n\n\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\t/**\n\t * Programmatically pan the camera.\n\t *\n\t * @param {number} deltaX - The horizontal pan amount in pixels.\n\t * @param {number} deltaY - The vertical pan amount in pixels.\n\t */\n\tpan( deltaX, deltaY ) {\n\n\t\tthis._pan( deltaX, deltaY );\n\t\tthis.update();\n\n\t}\n\n\t/**\n\t * Programmatically dolly in (zoom in for perspective camera).\n\t *\n\t * @param {number} dollyScale - The dolly scale factor.\n\t */\n\tdollyIn( dollyScale ) {\n\n\t\tthis._dollyIn( dollyScale );\n\t\tthis.update();\n\n\t}\n\n\t/**\n\t * Programmatically dolly out (zoom out for perspective camera).\n\t *\n\t * @param {number} dollyScale - The dolly scale factor.\n\t */\n\tdollyOut( dollyScale ) {\n\n\t\tthis._dollyOut( dollyScale );\n\t\tthis.update();\n\n\t}\n\n\t/**\n\t * Programmatically rotate the camera left (around the vertical axis).\n\t *\n\t * @param {number} angle - The rotation angle in radians.\n\t */\n\trotateLeft( angle ) {\n\n\t\tthis._rotateLeft( angle );\n\t\tthis.update();\n\n\t}\n\n\t/**\n\t * Programmatically rotate the camera up (around the horizontal axis).\n\t *\n\t * @param {number} angle - The rotation angle in radians.\n\t */\n\trotateUp( angle ) {\n\n\t\tthis._rotateUp( angle );\n\t\tthis.update();\n\n\t}\n\n\tupdate( deltaTime = null ) {\n\n\t\tconst position = this.object.position;\n\n\t\t_v.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t_v.applyQuaternion( this._quat );\n\n\t\t// angle from z-axis around y-axis\n\t\tthis._spherical.setFromVector3( _v );\n\n\t\tif ( this.autoRotate && this.state === _STATE.NONE ) {\n\n\t\t\tthis._rotateLeft( this._getAutoRotationAngle( deltaTime ) );\n\n\t\t}\n\n\t\tif ( this.enableDamping ) {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta * this.dampingFactor;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi * this.dampingFactor;\n\n\t\t} else {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi;\n\n\t\t}\n\n\t\t// restrict theta to be between desired limits\n\n\t\tlet min = this.minAzimuthAngle;\n\t\tlet max = this.maxAzimuthAngle;\n\n\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\tif ( min < - Math.PI ) min += _twoPI; else if ( min > Math.PI ) min -= _twoPI;\n\n\t\t\tif ( max < - Math.PI ) max += _twoPI; else if ( max > Math.PI ) max -= _twoPI;\n\n\t\t\tif ( min <= max ) {\n\n\t\t\t\tthis._spherical.theta = Math.max( min, Math.min( max, this._spherical.theta ) );\n\n\t\t\t} else {\n\n\t\t\t\tthis._spherical.theta = ( this._spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\tMath.max( min, this._spherical.theta ) :\n\t\t\t\t\tMath.min( max, this._spherical.theta );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restrict phi to be between desired limits\n\t\tthis._spherical.phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, this._spherical.phi ) );\n\n\t\tthis._spherical.makeSafe();\n\n\n\t\t// move target to panned location\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis.target.addScaledVector( this._panOffset, this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis.target.add( this._panOffset );\n\n\t\t}\n\n\t\t// Limit the target distance from the cursor to create a sphere around the center of interest\n\t\tthis.target.sub( this.cursor );\n\t\tthis.target.clampLength( this.minTargetRadius, this.maxTargetRadius );\n\t\tthis.target.add( this.cursor );\n\n\t\tlet zoomChanged = false;\n\t\t// adjust the camera position based on zoom only if we're not zooming to the cursor or if it's an ortho camera\n\t\t// we adjust zoom later in these cases\n\t\tif ( this.zoomToCursor && this._performCursorZoom || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius );\n\n\t\t} else {\n\n\t\t\tconst prevRadius = this._spherical.radius;\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius * this._scale );\n\t\t\tzoomChanged = prevRadius != this._spherical.radius;\n\n\t\t}\n\n\t\t_v.setFromSpherical( this._spherical );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t_v.applyQuaternion( this._quatInverse );\n\n\t\tposition.copy( this.target ).add( _v );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis._sphericalDelta.theta *= ( 1 - this.dampingFactor );\n\t\t\tthis._sphericalDelta.phi *= ( 1 - this.dampingFactor );\n\n\t\t\tthis._panOffset.multiplyScalar( 1 - this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis._sphericalDelta.set( 0, 0, 0 );\n\n\t\t\tthis._panOffset.set( 0, 0, 0 );\n\n\t\t}\n\n\t\t// adjust camera position\n\t\tif ( this.zoomToCursor && this._performCursorZoom ) {\n\n\t\t\tlet newRadius = null;\n\t\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\t// move the camera down the pointer ray\n\t\t\t\t// this method avoids floating point error\n\t\t\t\tconst prevRadius = _v.length();\n\t\t\t\tnewRadius = this._clampDistance( prevRadius * this._scale );\n\n\t\t\t\tconst radiusDelta = prevRadius - newRadius;\n\t\t\t\tthis.object.position.addScaledVector( this._dollyDirection, radiusDelta );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tzoomChanged = !! radiusDelta;\n\n\t\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t\t// adjust the ortho camera position based on zoom changes\n\t\t\t\tconst mouseBefore = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseBefore.unproject( this.object );\n\n\t\t\t\tconst prevZoom = this.object.zoom;\n\t\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\t\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\t\tzoomChanged = prevZoom !== this.object.zoom;\n\n\t\t\t\tconst mouseAfter = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseAfter.unproject( this.object );\n\n\t\t\t\tthis.object.position.sub( mouseAfter ).add( mouseBefore );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tnewRadius = _v.length();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.' );\n\t\t\t\tthis.zoomToCursor = false;\n\n\t\t\t}\n\n\t\t\t// handle the placement of the target\n\t\t\tif ( newRadius !== null ) {\n\n\t\t\t\tif ( this.screenSpacePanning ) {\n\n\t\t\t\t\t// position the orbit target in front of the new camera position\n\t\t\t\t\tthis.target.set( 0, 0, - 1 )\n\t\t\t\t\t\t.transformDirection( this.object.matrix )\n\t\t\t\t\t\t.multiplyScalar( newRadius )\n\t\t\t\t\t\t.add( this.object.position );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// get the ray and translation plane to compute target\n\t\t\t\t\t_ray.origin.copy( this.object.position );\n\t\t\t\t\t_ray.direction.set( 0, 0, - 1 ).transformDirection( this.object.matrix );\n\n\t\t\t\t\t// if the camera is 20 degrees above the horizon then don't adjust the focus target to avoid\n\t\t\t\t\t// extremely large values\n\t\t\t\t\tif ( Math.abs( this.object.up.dot( _ray.direction ) ) < _TILT_LIMIT ) {\n\n\t\t\t\t\t\tthis.object.lookAt( this.target );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_plane.setFromNormalAndCoplanarPoint( this.object.up, this.target );\n\t\t\t\t\t\t_ray.intersectPlane( _plane, this.target );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\tconst prevZoom = this.object.zoom;\n\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\n\t\t\tif ( prevZoom !== this.object.zoom ) {\n\n\t\t\t\tthis.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._scale = 1;\n\t\tthis._performCursorZoom = false;\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\tif ( zoomChanged ||\n\t\t\tthis._lastPosition.distanceToSquared( this.object.position ) > _EPS ||\n\t\t\t8 * ( 1 - this._lastQuaternion.dot( this.object.quaternion ) ) > _EPS ||\n\t\t\tthis._lastTargetPosition.distanceToSquared( this.target ) > _EPS ) {\n\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\tthis._lastPosition.copy( this.object.position );\n\t\t\tthis._lastQuaternion.copy( this.object.quaternion );\n\t\t\tthis._lastTargetPosition.copy( this.target );\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_getAutoRotationAngle( deltaTime ) {\n\n\t\tif ( deltaTime !== null ) {\n\n\t\t\treturn ( _twoPI / 60 * this.autoRotateSpeed ) * deltaTime;\n\n\t\t} else {\n\n\t\t\treturn _twoPI / 60 / 60 * this.autoRotateSpeed;\n\n\t\t}\n\n\t}\n\n\t_getZoomScale( delta ) {\n\n\t\tconst normalizedDelta = Math.abs( delta * 0.01 );\n\t\treturn Math.pow( 0.95, this.zoomSpeed * normalizedDelta );\n\n\t}\n\n\t_rotateLeft( angle ) {\n\n\t\tthis._sphericalDelta.theta -= angle;\n\n\t}\n\n\t_rotateUp( angle ) {\n\n\t\tthis._sphericalDelta.phi -= angle;\n\n\t}\n\n\t_panLeft( distance, objectMatrix ) {\n\n\t\t_v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t_v.multiplyScalar( - distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t_panUp( distance, objectMatrix ) {\n\n\t\tif ( this.screenSpacePanning === true ) {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t} else {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t_v.crossVectors( this.object.up, _v );\n\n\t\t}\n\n\t\t_v.multiplyScalar( distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\t_pan( deltaX, deltaY ) {\n\n\t\tconst element = this.domElement;\n\n\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t// perspective\n\t\t\tconst position = this.object.position;\n\t\t\t_v.copy( position ).sub( this.target );\n\t\t\tlet targetDistance = _v.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( this.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\tthis._panLeft( 2 * deltaX * targetDistance / element.clientHeight, this.object.matrix );\n\t\t\tthis._panUp( 2 * deltaY * targetDistance / element.clientHeight, this.object.matrix );\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t// orthographic\n\t\t\tthis._panLeft( deltaX * ( this.object.right - this.object.left ) / this.object.zoom / element.clientWidth, this.object.matrix );\n\t\t\tthis._panUp( deltaY * ( this.object.top - this.object.bottom ) / this.object.zoom / element.clientHeight, this.object.matrix );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic nor perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\tthis.enablePan = false;\n\n\t\t}\n\n\t}\n\n\t_dollyOut( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale /= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_dollyIn( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale *= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_updateZoomParameters( x, y ) {\n\n\t\tif ( ! this.zoomToCursor ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._performCursorZoom = true;\n\n\t\tconst rect = this.domElement.getBoundingClientRect();\n\t\tconst dx = x - rect.left;\n\t\tconst dy = y - rect.top;\n\t\tconst w = rect.width;\n\t\tconst h = rect.height;\n\n\t\tthis._mouse.x = ( dx / w ) * 2 - 1;\n\t\tthis._mouse.y = - ( dy / h ) * 2 + 1;\n\n\t\tthis._dollyDirection.set( this._mouse.x, this._mouse.y, 1 ).unproject( this.object ).sub( this.object.position ).normalize();\n\n\t}\n\n\t_clampDistance( dist ) {\n\n\t\treturn Math.max( this.minDistance, Math.min( this.maxDistance, dist ) );\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\t_handleMouseDownRotate( event ) {\n\n\t\tthis._rotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownDolly( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientX );\n\t\tthis._dollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownPan( event ) {\n\n\t\tthis._panStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseMoveRotate( event ) {\n\n\t\tthis._rotateEnd.set( event.clientX, event.clientY );\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMoveDolly( event ) {\n\n\t\tthis._dollyEnd.set( event.clientX, event.clientY );\n\n\t\tthis._dollyDelta.subVectors( this._dollyEnd, this._dollyStart );\n\n\t\tif ( this._dollyDelta.y > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t} else if ( this._dollyDelta.y < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t}\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMovePan( event ) {\n\n\t\tthis._panEnd.set( event.clientX, event.clientY );\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseWheel( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientY );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( event.deltaY ) );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( event.deltaY ) );\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\t_handleKeyDown( event ) {\n\n\t\tlet needsUpdate = false;\n\n\t\tswitch ( event.code ) {\n\n\t\t\tcase this.keys.UP:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.BOTTOM:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( - _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, - this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.LEFT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.RIGHT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( - _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( - this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.update();\n\n\t\t}\n\n\n\t}\n\n\t_handleTouchStartRotate( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._rotateStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartPan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyStart.set( 0, distance );\n\n\t}\n\n\t_handleTouchStartDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchStartPan( event );\n\n\t}\n\n\t_handleTouchStartDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchStartRotate( event );\n\n\t}\n\n\t_handleTouchMoveRotate( event ) {\n\n\t\tif ( this._pointers.length == 1 ) {\n\n\t\t\tthis._rotateEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t}\n\n\t_handleTouchMovePan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t}\n\n\t_handleTouchMoveDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyEnd.set( 0, distance );\n\n\t\tthis._dollyDelta.set( 0, Math.pow( this._dollyEnd.y / this._dollyStart.y, this.zoomSpeed ) );\n\n\t\tthis._dollyOut( this._dollyDelta.y );\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tconst centerX = ( event.pageX + position.x ) * 0.5;\n\t\tconst centerY = ( event.pageY + position.y ) * 0.5;\n\n\t\tthis._updateZoomParameters( centerX, centerY );\n\n\t}\n\n\t_handleTouchMoveDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchMovePan( event );\n\n\t}\n\n\t_handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchMoveRotate( event );\n\n\t}\n\n\t// pointers\n\n\t_addPointer( event ) {\n\n\t\tthis._pointers.push( event.pointerId );\n\n\t}\n\n\t_removePointer( event ) {\n\n\t\tdelete this._pointerPositions[ event.pointerId ];\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) {\n\n\t\t\t\tthis._pointers.splice( i, 1 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_isTrackingPointer( event ) {\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_trackPointer( event ) {\n\n\t\tlet position = this._pointerPositions[ event.pointerId ];\n\n\t\tif ( position === undefined ) {\n\n\t\t\tposition = new Vector2();\n\t\t\tthis._pointerPositions[ event.pointerId ] = position;\n\n\t\t}\n\n\t\tposition.set( event.pageX, event.pageY );\n\n\t}\n\n\t_getSecondPointerPosition( event ) {\n\n\t\tconst pointerId = ( event.pointerId === this._pointers[ 0 ] ) ? this._pointers[ 1 ] : this._pointers[ 0 ];\n\n\t\treturn this._pointerPositions[ pointerId ];\n\n\t}\n\n\t//\n\n\t_customWheelEvent( event ) {\n\n\t\tconst mode = event.deltaMode;\n\n\t\t// minimal wheel event altered to meet delta-zoom demand\n\t\tconst newEvent = {\n\t\t\tclientX: event.clientX,\n\t\t\tclientY: event.clientY,\n\t\t\tdeltaY: event.deltaY,\n\t\t};\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 1: // LINE_MODE\n\t\t\t\tnewEvent.deltaY *= 16;\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // PAGE_MODE\n\t\t\t\tnewEvent.deltaY *= 100;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t// detect if event was triggered by pinching\n\t\tif ( event.ctrlKey && ! this._controlActive ) {\n\n\t\t\tnewEvent.deltaY *= 10;\n\n\t\t}\n\n\t\treturn newEvent;\n\n\t}\n\n}\n\nfunction onPointerDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( this._pointers.length === 0 ) {\n\n\t\tthis.domElement.setPointerCapture( event.pointerId );\n\n\t\tthis.domElement.ownerDocument.addEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.ownerDocument.addEventListener( 'pointerup', this._onPointerUp );\n\n\t}\n\n\t//\n\n\tif ( this._isTrackingPointer( event ) ) return;\n\n\t//\n\n\tthis._addPointer( event );\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchStart( event );\n\n\t} else {\n\n\t\tthis._onMouseDown( event );\n\n\t}\n\n\tif ( this._cursorStyle === 'grab' ) {\n\n\t\tthis.domElement.style.cursor = 'grabbing';\n\n\t}\n\n}\n\nfunction onPointerMove( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchMove( event );\n\n\t} else {\n\n\t\tthis._onMouseMove( event );\n\n\t}\n\n}\n\nfunction onPointerUp( event ) {\n\n\tthis._removePointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 0:\n\n\t\t\tthis.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\tthis.domElement.ownerDocument.removeEventListener( 'pointermove', this._onPointerMove );\n\t\t\tthis.domElement.ownerDocument.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\tthis.dispatchEvent( _endEvent );\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t\t\tif ( this._cursorStyle === 'grab' ) {\n\n\t\t\t\tthis.domElement.style.cursor = 'grab';\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tconst pointerId = this._pointers[ 0 ];\n\t\t\tconst position = this._pointerPositions[ pointerId ];\n\n\t\t\t// minimal placeholder event - allows state correction on pointer-up\n\t\t\tthis._onTouchStart( { pointerId: pointerId, pageX: position.x, pageY: position.y } );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseDown( event ) {\n\n\tlet mouseAction;\n\n\tswitch ( event.button ) {\n\n\t\tcase 0:\n\n\t\t\tmouseAction = this.mouseButtons.LEFT;\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tmouseAction = this.mouseButtons.MIDDLE;\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tmouseAction = this.mouseButtons.RIGHT;\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tmouseAction = - 1;\n\n\t}\n\n\tswitch ( mouseAction ) {\n\n\t\tcase MOUSE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseDownDolly( event );\n\n\t\t\tthis.state = _STATE.DOLLY;\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.ROTATE:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.PAN:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onMouseMove( event ) {\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleMouseMoveRotate( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseMoveDolly( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleMouseMovePan( event );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseWheel( event ) {\n\n\tif ( this.enabled === false || this.enableZoom === false || this.state !== _STATE.NONE ) return;\n\n\tevent.preventDefault();\n\n\tthis.dispatchEvent( _startEvent );\n\n\tthis._handleMouseWheel( this._customWheelEvent( event ) );\n\n\tthis.dispatchEvent( _endEvent );\n\n}\n\nfunction onKeyDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tthis._handleKeyDown( event );\n\n}\n\nfunction onTouchStart( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 1:\n\n\t\t\tswitch ( this.touches.ONE ) {\n\n\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tswitch ( this.touches.TWO ) {\n\n\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onTouchMove( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.TOUCH_ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMovePan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_PAN:\n\n\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyPan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n}\n\nfunction onContextMenu( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tevent.preventDefault();\n\n}\n\nfunction interceptControlDown( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = true;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.addEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nfunction interceptControlUp( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = false;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.removeEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nexport { OrbitControls };\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperties","length","enumerable","configurable","writable","Object","defineProperty","key","_createClass","_changeEvent","type","_startEvent","_endEvent","_ray","_plane","_TILT_LIMIT","Math","cos","DEG2RAD","_v","_twoPI","PI","_STATE","_EPS","OrbitControls","object","domElement","super","this","state","target","cursor","minDistance","maxDistance","Infinity","minZoom","maxZoom","minTargetRadius","maxTargetRadius","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","keyRotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","zoomToCursor","autoRotate","autoRotateSpeed","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TWO","DOLLY_PAN","target0","clone","position0","position","zoom0","zoom","_cursorStyle","_domElementKeyEvents","_lastPosition","_lastQuaternion","_lastTargetPosition","_quat","setFromUnitVectors","up","_quatInverse","invert","_spherical","_sphericalDelta","_scale","_panOffset","_rotateStart","_rotateEnd","_rotateDelta","_panStart","_panEnd","_panDelta","_dollyStart","_dollyEnd","_dollyDelta","_dollyDirection","_mouse","_performCursorZoom","_pointers","_pointerPositions","_controlActive","_onPointerMove","onPointerMove","bind","_onPointerDown","onPointerDown","_onPointerUp","onPointerUp","_onContextMenu","onContextMenu","_onMouseWheel","onMouseWheel","_onKeyDown","onKeyDown","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onMouseDown","onMouseDown","_onMouseMove","onMouseMove","_interceptControlDown","interceptControlDown","_interceptControlUp","interceptControlUp","connect","update","cursorStyle","style","element","addEventListener","passive","getRootNode","capture","touchAction","disconnect","removeEventListener","ownerDocument","stopListenToKeyEvents","dispose","getPolarAngle","phi","getAzimuthalAngle","theta","getDistance","distanceTo","listenToKeyEvents","saveState","copy","reset","updateProjectionMatrix","dispatchEvent","pan","deltaX","deltaY","_pan","dollyIn","dollyScale","_dollyIn","dollyOut","_dollyOut","rotateLeft","angle","_rotateLeft","rotateUp","_rotateUp","deltaTime","sub","applyQuaternion","setFromVector3","_getAutoRotationAngle","min","max","isFinite","makeSafe","addScaledVector","add","clampLength","zoomChanged","isOrthographicCamera","radius","_clampDistance","prevRadius","setFromSpherical","lookAt","multiplyScalar","set","newRadius","isPerspectiveCamera","radiusDelta","updateMatrixWorld","mouseBefore","x","y","unproject","prevZoom","mouseAfter","console","warn","transformDirection","matrix","origin","direction","abs","dot","setFromNormalAndCoplanarPoint","intersectPlane","distanceToSquared","quaternion","_getZoomScale","delta","normalizedDelta","pow","_panLeft","distance","objectMatrix","setFromMatrixColumn","_panUp","crossVectors","targetDistance","tan","fov","clientHeight","right","left","clientWidth","top","bottom","_updateZoomParameters","rect","getBoundingClientRect","dx","dy","w","width","h","height","normalize","dist","_handleMouseDownRotate","event","clientX","clientY","_handleMouseDownDolly","_handleMouseDownPan","_handleMouseMoveRotate","subVectors","_handleMouseMoveDolly","_handleMouseMovePan","_handleMouseWheel","_handleKeyDown","needsUpdate","code","ctrlKey","metaKey","shiftKey","preventDefault","_handleTouchStartRotate","pageX","pageY","_getSecondPointerPosition","_handleTouchStartPan","_handleTouchStartDolly","sqrt","_handleTouchStartDollyPan","_handleTouchStartDollyRotate","_handleTouchMoveRotate","_handleTouchMovePan","_handleTouchMoveDolly","centerX","centerY","_handleTouchMoveDollyPan","_handleTouchMoveDollyRotate","_addPointer","push","pointerId","_removePointer","splice","_isTrackingPointer","_trackPointer","undefined","_customWheelEvent","mode","deltaMode","newEvent","enabled","setPointerCapture","pointerType","releasePointerCapture","mouseAction","button","DOLLY_ROTATE"],"sourceRoot":""}