"use strict";(self.webpackChunkjiunbae_github_io=self.webpackChunkjiunbae_github_io||[]).push([[2418],{4518:function(e,s,t){t.r(s),t.d(s,{Head:function(){return $},default:function(){return A}});var l={};t.r(l),t.d(l,{large:function(){return N},medium:function(){return y},ratingNumber:function(){return b},small:function(){return w},starEmpty:function(){return L},starFilled:function(){return T},starRating:function(){return k},starWrapper:function(){return C},stars:function(){return R}});var a=t(7116),r=t(758),n=t(5511),i=t(2820),o=t(3526),d="styles-module--active--12ae9",c="styles-module--filterButton--83cde",m="styles-module--filterOptions--e8e2f",u="styles-module--filterSection--570b3",h="styles-module--filterTitle--f8b30",v=t(6070);const g=[{value:"all",label:"전체"},{value:"movie",label:"영화"},{value:"series",label:"드라마"},{value:"animation",label:"애니메이션"},{value:"book",label:"책"}],f=[{value:"latest",label:"최신순"},{value:"oldest",label:"오래된 순"},{value:"rating-high",label:"높은 별점순"},{value:"rating-low",label:"낮은 별점순"}];var p=e=>{let{selectedMediaType:s,selectedSort:t,selectedTags:l,availableTags:a,onMediaTypeChange:r,onSortChange:n,onTagClick:i,className:p}=e;return(0,v.jsxs)("div",{className:(0,o.A)("styles-module--mediaFilter--d8fdf",p),children:[(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h3",{className:h,children:"미디어 타입"}),(0,v.jsx)("div",{className:m,children:g.map(e=>(0,v.jsx)("button",{className:(0,o.A)(c,s===e.value&&d),onClick:()=>r(e.value),children:e.label},e.value))})]}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h3",{className:h,children:"정렬"}),(0,v.jsx)("div",{className:m,children:f.map(e=>(0,v.jsx)("button",{className:(0,o.A)(c,t===e.value&&d),onClick:()=>n(e.value),children:e.label},e.value))})]}),a.length>0&&(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h3",{className:h,children:"태그"}),(0,v.jsx)("div",{className:"styles-module--tagList--e4ede",children:a.map(e=>(0,v.jsx)("button",{className:(0,o.A)("styles-module--tagButton--c93be",l.includes(e)&&d),onClick:()=>i(e),children:e},e))})]})]})},x=t(9621),j=t(5840),N="styles-module--large--46e59",y="styles-module--medium--90b03",b="styles-module--ratingNumber--a0ccb",w="styles-module--small--82360",L="styles-module--starEmpty--17050",T="styles-module--starFilled--de5ae",k="styles-module--starRating--0595a",C="styles-module--starWrapper--ea50e",R="styles-module--stars--48047";var M=e=>{let{rating:s,maxRating:t=5,size:a="medium",showNumber:r=!1,className:n}=e;return(0,v.jsxs)("div",{className:`${k} ${l[a]} ${n||""}`,children:[(0,v.jsx)("div",{className:R,children:(()=>{const e=[];for(let l=1;l<=t;l++){const t=Math.min(Math.max(100*(s-(l-1)),0),100);e.push((0,v.jsxs)("span",{className:C,children:[(0,v.jsx)("svg",{className:L,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,v.jsx)("svg",{className:T,style:{clipPath:`inset(0 ${100-t}% 0 0)`},viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,v.jsx)("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",fill:"currentColor"})})]},l))}return e})()}),r&&(0,v.jsxs)("span",{className:b,children:[s.toFixed(1)," / ",t]})]})};const S={movie:"영화",series:"드라마",animation:"애니메이션",book:"책"};var D=e=>{let{title:s,slug:t,mediaType:l,rating:a,oneLiner:r,poster:n,year:i,genres:o=[],className:d}=e;return(0,v.jsxs)(j.N_,{to:t,className:`styles-module--mediaCard--ede99 ${d||""}`,children:[(0,v.jsxs)("div",{className:"styles-module--posterWrapper--71f84",children:[n?(0,v.jsx)(x.G,{image:n,alt:s,className:"styles-module--poster--6bab6",loading:"lazy"}):(0,v.jsx)("div",{className:"styles-module--posterPlaceholder--24a78",children:(0,v.jsx)("span",{children:"No Image"})}),(0,v.jsx)("div",{className:"styles-module--badge--f6966",children:S[l]})]}),(0,v.jsxs)("div",{className:"styles-module--content--e264a",children:[(0,v.jsx)("h3",{className:"styles-module--title--166c0",children:s}),void 0!==a&&(0,v.jsx)("div",{className:"styles-module--rating--88063",children:(0,v.jsx)(M,{rating:a,size:"small"})}),r&&(0,v.jsx)("p",{className:"styles-module--oneLiner--8b840",children:r}),(i||o.length>0)&&(0,v.jsxs)("div",{className:"styles-module--meta--4c858",children:[i&&(0,v.jsx)("span",{className:"styles-module--year--5261f",children:i}),o.length>0&&(0,v.jsxs)(v.Fragment,{children:[i&&(0,v.jsx)("span",{className:"styles-module--separator--4e915",children:"•"}),(0,v.jsx)("span",{className:"styles-module--genres--fa671",children:o.slice(0,2).join(", ")})]})]})]})]})};const I=e=>{let{reviews:s,className:t}=e;return 0===s.length?(0,v.jsx)("div",{className:"styles-module--emptyState--951d7",children:(0,v.jsx)("p",{children:"표시할 리뷰가 없습니다."})}):(0,v.jsx)("div",{className:`styles-module--reviewList--a73b6 ${t||""}`,children:s.map(e=>{var s,t,l,a,r,n,i,o;const d=null!==(s=e.frontmatter.poster)&&void 0!==s&&null!==(t=s.childImageSharp)&&void 0!==t&&t.gatsbyImageData?(0,x.c)(e.frontmatter.poster.childImageSharp.gatsbyImageData):void 0;return(0,v.jsx)(D,{title:e.frontmatter.title,slug:e.frontmatter.slug,mediaType:e.frontmatter.mediaType,rating:null!==(l=e.frontmatter.rating)&&void 0!==l?l:void 0,oneLiner:null!==(a=e.frontmatter.oneLiner)&&void 0!==a?a:void 0,poster:d,year:null!==(r=null===(n=e.frontmatter.metadata)||void 0===n?void 0:n.year)&&void 0!==r?r:void 0,genres:null!==(i=null===(o=e.frontmatter.metadata)||void 0===o?void 0:o.genre)&&void 0!==i?i:[]},e.id)})})};const $=e=>{let{location:s,data:{site:t,file:l}}=e;const{href:a}=s,r=null!=a?a:s.pathname,o={title:`${(0,i.qU)(null==t?void 0:t.siteMetadata.title)} | Reviews`,description:"영화, 드라마, 애니메이션, 책에 대한 리뷰와 감상",heroImage:(0,i.qU)(null==l?void 0:l.publicURL)};return(0,v.jsx)(n.G$,{title:o.title,description:o.description,heroImage:o.heroImage,pathname:r})};var A=e=>{let{data:s}=e;const{nodes:t,totalCount:l,group:i}=s.allMarkdownRemark,{0:o,1:d}=(0,r.useState)("all"),{0:c,1:m}=(0,r.useState)("latest"),{0:u,1:h}=(0,r.useState)([]),g=(0,r.useMemo)(()=>(i||[]).map(e=>e.fieldValue).filter(Boolean).sort((e,s)=>e.localeCompare(s,"ko")),[i]),f=(0,r.useMemo)(()=>{let e=(0,a.A)(t);return e=e.filter(e=>!1!==e.frontmatter.published),"all"!==o&&(e=e.filter(e=>e.frontmatter.mediaType===o)),u.length>0&&(e=e.filter(e=>{var s;return null===(s=e.frontmatter.tags)||void 0===s?void 0:s.some(e=>u.includes(e))})),e.sort((e,s)=>{switch(c){case"latest":return new Date(s.frontmatter.sortDate).getTime()-new Date(e.frontmatter.sortDate).getTime();case"oldest":return new Date(e.frontmatter.sortDate).getTime()-new Date(s.frontmatter.sortDate).getTime();case"rating-high":return(s.frontmatter.rating||0)-(e.frontmatter.rating||0);case"rating-low":return(e.frontmatter.rating||0)-(s.frontmatter.rating||0);default:return 0}}),e},[t,o,u,c]);return(0,v.jsxs)("main",{className:"Reviews-module--main--ffb85",children:[(0,v.jsxs)("div",{className:"Reviews-module--container--9d253",children:[(0,v.jsxs)("div",{className:"Reviews-module--header--1078e",children:[(0,v.jsx)("h1",{className:"Reviews-module--title--540ce",children:"Reviews"}),(0,v.jsx)("p",{className:"Reviews-module--description--4026b",children:"영화, 드라마, 애니메이션, 책에 대한 개인적인 리뷰와 감상을 기록합니다."}),(0,v.jsxs)("div",{className:"Reviews-module--count--d5699",children:["총 ",(0,v.jsx)("strong",{children:f.length}),"개의 리뷰"]})]}),(0,v.jsxs)("div",{className:"Reviews-module--content--0920e",children:[(0,v.jsx)("aside",{className:"Reviews-module--sidebar--22813",children:(0,v.jsx)(p,{selectedMediaType:o,selectedSort:c,selectedTags:u,availableTags:g,onMediaTypeChange:d,onSortChange:m,onTagClick:e=>{h(s=>s.includes(e)?s.filter(s=>s!==e):[].concat((0,a.A)(s),[e]))}})}),(0,v.jsx)("div",{className:"Reviews-module--reviewsSection--5062a",children:(0,v.jsx)(I,{reviews:f})})]})]}),(0,v.jsx)(n.ru,{})]})}}}]);
//# sourceMappingURL=component---src-pages-reviews-tsx-9f260712746daba87550.js.map