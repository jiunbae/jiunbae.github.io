{"version":3,"file":"component---src-templates-post-tsx-2598800a9aaaa857a4f1.js","mappings":"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","sources":["webpack://jiunbae.github.io/./src/views/Post/components/TableOfContents/TableOfContents.module.scss","webpack://jiunbae.github.io/./src/views/Post/components/TableOfContents/TableOfContents.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TableOfContents/hooks/useTocStyleObserver.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TagButton/TagButton.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TagButton/TagButton.module.scss","webpack://jiunbae.github.io/./src/views/Post/components/TagList/TagList.tsx","webpack://jiunbae.github.io/./src/views/Post/components/TagList/TagList.module.scss","webpack://jiunbae.github.io/./src/views/Post/Post.tsx","webpack://jiunbae.github.io/./src/views/Post/Post.module.scss"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var active = \"TableOfContents-module--active--17bbb\";\nexport var tableOfContents = \"TableOfContents-module--tableOfContents--0b53d\";\nexport var tableOfContentsIcon = \"TableOfContents-module--tableOfContentsIcon--16f85\";\nexport var wrapper = \"TableOfContents-module--wrapper--eb321\";","import { TableOfContentsIcon } from '@/components/icons'\n\nimport { useTocStyleObserver } from './hooks'\nimport * as styles from './TableOfContents.module.scss'\n\ntype TableOfContentsProps = {\n  html: string;\n};\n\nexport const TableOfContents = ({ html }: TableOfContentsProps) => {\n  const { ref } = useTocStyleObserver()\n\n  return (\n    <div className={styles.wrapper}>\n      <TableOfContentsIcon className={styles.tableOfContentsIcon} />\n      <div ref={ref} className={styles.tableOfContents} dangerouslySetInnerHTML={{ __html: html }}></div>\n    </div>\n  )\n}\n","import { useEffect, useRef } from 'react'\n\nimport * as styles from '../TableOfContents.module.scss'\n\nexport const useTocStyleObserver = () => {\n  const ref = useRef<HTMLDivElement>(null)\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            const id = entry.target.id\n            const tocItem = ref.current?.querySelector(`a[href=\"#${encodeURI(id)}\"]`)\n\n            if (!tocItem) return\n\n            const prevActiveItem = ref.current?.querySelector(`.${styles.active}`)\n            if (prevActiveItem) prevActiveItem.classList.remove(styles.active)\n\n            tocItem.classList.add(styles.active)\n          }\n        })\n      },\n      {\n        rootMargin: '0% 0% -90% 0%',\n        threshold: 0\n      }\n    )\n\n    const headings = document.querySelectorAll('h2[id], h3[id]')\n    headings.forEach(heading => observer.observe(heading))\n    return () => {\n      headings.forEach(heading => observer.unobserve(heading))\n    }\n  }, [ref])\n\n  return { ref }\n}\n","import clsx from 'clsx'\nimport { navigate } from 'gatsby'\nimport * as styles from './TagButton.module.scss'\n\ntype TagButtonProps = {\n  name: string;\n};\n\nexport const TagButton = ({ name }: TagButtonProps) => {\n  const handleClick = () => {\n    navigate('/', { state: { tag: name } })\n  }\n\n  return (\n    <div className={clsx(styles.tag)} onClick={handleClick}>\n      <span>{name}</span>\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var active = \"TagButton-module--active--033b5\";\nexport var tag = \"TagButton-module--tag--4020c\";","import clsx from 'clsx'\n\nimport { TagButton } from '../TagButton'\nimport * as styles from './TagList.module.scss'\n\ntype TagListProps = {\n  tags: readonly string[];\n  className?: string;\n};\n\nexport const TagList = ({ tags, className }: TagListProps) => (\n  <ul className={clsx(styles.tagList, className)}>\n    {tags.map(tag => (\n      <TagButton key={tag} name={tag}></TagButton>\n    ))}\n  </ul>\n)\n","// extracted by mini-css-extract-plugin\nexport var tagList = \"TagList-module--tagList--8691e\";","import type { HeadProps, PageProps } from 'gatsby'\nimport { GatsbyImage } from 'gatsby-plugin-image'\n\nimport { Comments, FloatingButton, JsonLd, Seo, createBlogPostingSchema, createBreadcrumbSchema } from '@/components'\nimport { getRefinedImage, getRefinedStringValue, sanitizePostSlug } from '@/utils'\n\nimport { TableOfContents, TagList } from './components'\nimport * as styles from './Post.module.scss'\n\nconst SITE_URL = 'https://jiun.dev'\nconst AUTHOR_NAME = 'Jiun Bae'\nconst AUTHOR_URL = `${SITE_URL}/about`\n\nconst Post = ({ data }: PageProps<Queries.PostQuery>) => {\n  if (!data.markdownRemark) throw new Error('마크다운 데이터가 존재하지 않습니다.')\n  const { html, tableOfContents, frontmatter } = data.markdownRemark\n  const { title, date, tags, heroImage, heroImageAlt } = frontmatter\n\n  const image = heroImage && getRefinedImage(heroImage?.childImageSharp?.gatsbyImageData)\n\n  return (\n    <main className={styles.wrapper}>\n      <h1 className={styles.title}>{title}</h1>\n      <p className={styles.date}>{date}</p>\n      <TagList tags={tags} className={styles.tagList} />\n      {image !== null && (\n        <GatsbyImage\n          image={image}\n          alt={heroImageAlt || ''}\n          className={styles.heroImage}\n          objectFit=\"contain\"\n          loading=\"eager\"\n        />\n      )}\n      <div className={styles.contentWrapper}>\n        <section className={styles.content} dangerouslySetInnerHTML={{ __html: getRefinedStringValue(html) }} />\n        <TableOfContents html={getRefinedStringValue(tableOfContents)} />\n      </div>\n      <Comments />\n      <FloatingButton />\n    </main>\n  )\n}\n\nexport const Head = ({ data: { markdownRemark }, location }: HeadProps<Queries.PostQuery>) => {\n  const { href } = location as typeof location & { href?: string }\n  const pageUrl = href ?? location.pathname\n  const resolvedUrl = pageUrl.startsWith('http') ? pageUrl : `${SITE_URL}${pageUrl}`\n\n  if (!markdownRemark) return null\n\n  const { frontmatter, excerpt } = markdownRemark\n  const { title, description, dateISO, tags } = frontmatter\n  const normalizedTags = tags?.filter(Boolean) as string[] | undefined\n  const slug = frontmatter.slug\n  const normalizedSlug = slug ? sanitizePostSlug(slug) : null\n  const heroImage = normalizedSlug ? `/og/posts/${normalizedSlug}.png` : ''\n  const heroImageUrl = heroImage ? `${SITE_URL}${heroImage}` : ''\n\n  const blogPostingSchema = createBlogPostingSchema({\n    title: title ?? '',\n    description: description ?? excerpt ?? '',\n    datePublished: dateISO ?? '',\n    dateModified: dateISO ?? '',\n    url: resolvedUrl,\n    image: heroImageUrl,\n    authorName: AUTHOR_NAME,\n    authorUrl: AUTHOR_URL,\n    tags: normalizedTags\n  })\n\n  const breadcrumbSchema = createBreadcrumbSchema([\n    { name: 'Home', url: SITE_URL },\n    { name: 'Posts', url: `${SITE_URL}/posts` },\n    { name: title ?? 'Post', url: resolvedUrl }\n  ])\n\n  return (\n    <>\n      <Seo\n        title={title}\n        description={description ?? excerpt ?? undefined}\n        heroImage={heroImage}\n        pathname={pageUrl}\n        publishedTime={dateISO ?? undefined}\n        tags={normalizedTags}\n        type=\"article\"\n      />\n      <JsonLd data={[blogPostingSchema, breadcrumbSchema]} />\n    </>\n  )\n}\n\nexport default Post\n","// extracted by mini-css-extract-plugin\nexport var bio = \"Post-module--bio--1d2ed\";\nexport var content = \"Post-module--content--f35bf\";\nexport var contentWrapper = \"Post-module--contentWrapper--64fbd\";\nexport var date = \"Post-module--date--59cac\";\nexport var heroImage = \"Post-module--heroImage--6a805\";\nexport var tagList = \"Post-module--tagList--e0dea\";\nexport var title = \"Post-module--title--64055\";\nexport var wrapper = \"Post-module--wrapper--0f907\";"],"names":["active","TableOfContents","_ref","html","ref","useTocStyleObserver","useRef","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","_ref$current","_ref$current2","id","target","tocItem","current","querySelector","encodeURI","prevActiveItem","styles","classList","remove","add","rootMargin","threshold","headings","document","querySelectorAll","heading","observe","unobserve","_jsxs","className","children","_jsx","TableOfContentsIcon","dangerouslySetInnerHTML","__html","TagButton","name","clsx","onClick","handleClick","navigate","state","tag","TagList","tags","map","SITE_URL","AUTHOR_URL","Head","_ref2","_ref3","_ref4","data","markdownRemark","location","href","pageUrl","pathname","resolvedUrl","startsWith","frontmatter","excerpt","title","description","dateISO","normalizedTags","filter","Boolean","slug","normalizedSlug","sanitizePostSlug","heroImage","heroImageUrl","blogPostingSchema","createBlogPostingSchema","datePublished","dateModified","url","image","authorName","authorUrl","breadcrumbSchema","createBreadcrumbSchema","_Fragment","Seo","undefined","publishedTime","type","JsonLd","_heroImage$childImage","Error","tableOfContents","date","heroImageAlt","getRefinedImage","childImageSharp","gatsbyImageData","GatsbyImage","alt","objectFit","loading","getRefinedStringValue","Comments","FloatingButton"],"sourceRoot":""}