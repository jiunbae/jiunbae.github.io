"use strict";(self.webpackChunkjiunbae_github_io=self.webpackChunkjiunbae_github_io||[]).push([[202],{748:function(e,t,a){a.d(t,{FM:function(){return s},HC:function(){return l},cU:function(){return i},hZ:function(){return n}});const s=e=>e.replace(/^\/+/,"").replace(/\/+$/,"").replace(/[^a-zA-Z0-9-_]/g,"-").replace(/-+/g,"-").toLowerCase()||"note",l=e=>`note-${s(e)}`,o=e=>`/notes/${s(e)}/`,n=e=>{if("undefined"!=typeof window){return new URL(o(e),window.location.origin).toString()}return o(e)},i=(e,t)=>{const a=new URLSearchParams(e).get("note");return a?s(a):t.startsWith("#")&&t.length>1?s(decodeURIComponent(t.substring(1))):null}},3258:function(e,t,a){a.r(t),a.d(t,{Head:function(){return x},default:function(){return j}});var s=a(758),l=a(5511),o=a(2820),n=a(9383),i=a(6399),r=a(6409),c=a(3526),d="Note-module--collapsed--1876e",u="Note-module--collapsible--0ec7b",m="Note-module--copied--735d3",g=a(617),h=a(748),N=a(6070);const p=e=>{let{note:t,className:a}=e;const{frontmatter:l,html:n}=t,{title:i,date:r,tags:p,slug:f}=l;if(!f)throw new Error("노트 슬러그가 존재하지 않습니다.");const x=(0,o.qU)(n),j=(null!=p?p:[]).filter(e=>Boolean(e)),b=(0,h.FM)(f),v=(0,h.HC)(f),I=(0,s.useRef)(null),{0:w,1:L}=(0,s.useState)(!0),{0:A,1:C}=(0,s.useState)(!1),{0:T,1:y}=(0,s.useState)(null),{0:S,1:k}=(0,s.useState)(!1);(0,s.useEffect)(()=>{L(!0)},[x]),(0,s.useEffect)(()=>{const e=()=>{const e=I.current;if(!e)return;const t=window.getComputedStyle(e),a=parseFloat(t.lineHeight||"0");if(!Number.isFinite(a)||a<=0)return C(!1),y(null),void L(!1);const s=11*a,l=e.scrollHeight>s+1;y(l?s:null),C(l),l||L(!1)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[x]);const P=A&&w&&null!==T?{maxHeight:T}:void 0;return(0,N.jsx)("li",{id:v,className:(0,c.A)("Note-module--note--f201c",a),"data-note-slug":b,children:(0,N.jsxs)("article",{children:[(0,N.jsxs)("header",{className:"Note-module--header--78849",children:[(0,N.jsx)("h2",{className:"Note-module--title--998e8",children:i}),(0,N.jsx)("time",{className:"Note-module--date--bdd57",children:r})]}),(0,N.jsx)("section",{ref:I,style:P,className:(0,c.A)("Note-module--content--de75b",{[u]:A,[d]:A&&w}),dangerouslySetInnerHTML:{__html:x}}),(0,N.jsxs)("div",{className:"Note-module--footer--e50e8",children:[j.length>0&&(0,N.jsx)("ul",{className:"Note-module--tags--13eb3",children:j.map(e=>(0,N.jsx)("li",{className:"Note-module--tag--f9099",children:e},e))}),(0,N.jsxs)("div",{className:"Note-module--actions--f6431",children:[(0,N.jsx)("button",{type:"button",className:(0,c.A)("Note-module--shareButton--2dfe7",{[m]:S}),onClick:async()=>{const e=(0,h.hZ)(f);try{var t;if("undefined"!=typeof navigator&&null!==(t=navigator.clipboard)&&void 0!==t&&t.writeText)await navigator.clipboard.writeText(e);else{const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}k(!0),window.setTimeout(()=>k(!1),2e3)}catch{window.prompt("아래 링크를 복사해주세요.",e)}},"aria-label":"노트 링크 복사",title:S?"링크 복사됨":"노트 링크 복사",children:(0,N.jsx)(g.li,{size:20})}),A&&(0,N.jsx)("button",{type:"button",className:"Note-module--toggleButton--634f6",onClick:()=>{L(e=>!e)},"aria-expanded":!w,children:w?"더보기":"접기"})]})]})]})})};const f=e=>{let{notes:t,className:a}=e;return(0,N.jsx)("ul",{className:(0,c.A)("NoteList-module--noteList--35d81",a),children:0===t.length?(0,N.jsx)("li",{className:"NoteList-module--empty--1b39e",children:"아직 등록된 노트가 없습니다."}):t.map(e=>(0,N.jsx)(p,{note:e},e.id))})};const x=e=>{let{location:t,data:{site:a,file:s}}=e;const{href:n}=t,i=null!=n?n:t.pathname,r={title:`${(0,o.qU)(null==a?void 0:a.siteMetadata.title)} | Notes`,description:"Short notes and quick updates from Jiunbae.",heroImage:(0,o.qU)(null==s?void 0:s.publicURL)};return(0,N.jsx)(l.G$,{title:r.title,description:r.description,heroImage:r.heroImage,pathname:i})};var j=e=>{var t,a;let{data:o,location:c}=e;const{nodes:d,totalCount:u,group:m}=o.allMarkdownRemark,{tags:g,selectedTag:p,clickTag:x}=(0,r.O)(u,m,null===(t=c.state)||void 0===t?void 0:t.tag,{pathname:"/notes/"}),j=(0,s.useMemo)(()=>d.filter(e=>{var t;let{frontmatter:a}=e;if(!1===a.published)return!1;if(p===i.g.ALL)return!0;return(null!==(t=a.tags)&&void 0!==t?t:[]).some(e=>e===p)}),[d,p]),b=null!==(a=c.state)&&void 0!==a&&a.note?(0,h.FM)(c.state.note):null,v=(0,h.cU)(c.search,c.hash);return(0,s.useEffect)(()=>{if("undefined"==typeof window)return;const e=b||v;if(!e)return;const t=document.querySelector(`[data-note-slug='${e}']`);if(!t)return;const a=window.setTimeout(()=>{t.setAttribute("data-highlighted","true"),t.scrollIntoView({behavior:"smooth",block:"start"}),window.setTimeout(()=>{t.removeAttribute("data-highlighted")},2500)},150);return()=>{window.clearTimeout(a)}},[b,v,j]),(0,N.jsxs)("main",{className:"Notes-module--main--e374b",children:[(0,N.jsx)(n.LY,{tags:g,selectedTag:p,clickTag:x,className:"Notes-module--tagList--43a32"}),(0,N.jsx)(f,{notes:j,className:"Notes-module--noteList--70c61"}),(0,N.jsx)(l.ru,{})]})}},6399:function(e,t,a){a.d(t,{g:function(){return s}});const s={ALL:"All"}},6409:function(e,t,a){a.d(t,{O:function(){return n}});var s=a(758),l=a(5840),o=a(6399);const n=function(e,t,a,n){let{pathname:i="/"}=void 0===n?{}:n;const r=(0,s.useMemo)(()=>{const a=Array.from(t,e=>{let{fieldValue:t,totalCount:a}=e;return{fieldValue:t,totalCount:a}});return[{fieldValue:o.g.ALL,totalCount:e}].concat(a).sort((e,t)=>t.totalCount-e.totalCount)},[t,e]),{0:c,1:d}=(0,s.useState)(null!=a?a:o.g.ALL);return{tags:r,selectedTag:c,clickTag:(0,s.useCallback)(e=>{let{target:t}=e;if(!(t instanceof HTMLElement))return;const a=t.closest("li"),s=null==a?void 0:a.dataset.tag;s&&(d(s),(0,l.oo)(i,{replace:!0,state:{tag:s}}))},[i])}}},9383:function(e,t,a){a.d(t,{Nz:function(){return x},LY:function(){return I}});var s=a(3526),l=a(5840),o=a(9621),n=a(2820),i=a(6070);const r=e=>{let{date:t,className:a}=e;return(0,i.jsx)("h3",{className:(0,s.A)("Date-module--date--d77e7",a),children:t})};const c=e=>{let{description:t,className:a}=e;return(0,i.jsx)("p",{className:(0,s.A)("Description-module--description--ecdc9",a),children:t})};var d=a(5511);const u=e=>{let{tags:t,className:a}=e;return(0,i.jsx)("ul",{className:(0,s.A)("TagList-module--tagList--4ae6b",a),children:t.map(e=>(0,i.jsx)(d.vw,{name:e},e))})};const m=e=>{let{title:t,className:a}=e;return(0,i.jsx)("h3",{className:(0,s.A)("Title-module--title--8cf89",a),children:t})};var g="Post-module--articleLink--b5ab5";const h=e=>{let{heroImage:t,heroImageAlt:a,ogImageSrc:s,className:l}=e;return t?(0,i.jsx)(o.G,{image:t,alt:a,className:l,loading:"lazy"}):(0,i.jsx)("div",{className:l,children:(0,i.jsx)("img",{src:s,alt:a,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}})})},N=e=>{let{title:t,description:a,date:s,tags:o,slug:n,heroImage:d,heroImageAlt:g,ogImageSrc:N,className:p}=e;return(0,i.jsx)(l.N_,{to:`/posts${n}`,className:p,children:(0,i.jsx)("article",{className:"Post-module--card--a4c01",children:(0,i.jsxs)("figure",{children:[(0,i.jsx)(h,{heroImage:d,heroImageAlt:g,ogImageSrc:N,className:"Post-module--cardImage--a596d"}),(0,i.jsxs)("figcaption",{className:"Post-module--cardCaption--0aa11",children:[(0,i.jsx)(r,{date:s,className:"Post-module--cardDate--c6c0c"}),(0,i.jsx)(u,{tags:o,className:"Post-module--cardTagList--5f1d7"}),(0,i.jsx)(m,{title:t,className:"Post-module--cardTitle--ba640"}),(0,i.jsx)(c,{description:a,className:"Post-module--cardDescription--72eec"})]})]})})})},p=e=>{let{title:t,description:a,date:s,tags:o,slug:n,heroImage:d,heroImageAlt:g,ogImageSrc:N,className:p}=e;return(0,i.jsx)(l.N_,{to:`/posts${n}`,className:p,children:(0,i.jsx)("article",{className:"Post-module--item--967c1",children:(0,i.jsxs)("figure",{className:"Post-module--itemFigure--61e4d",children:[(0,i.jsx)(h,{heroImage:d,heroImageAlt:g,ogImageSrc:N,className:"Post-module--itemImage--af857"}),(0,i.jsxs)("figcaption",{className:"Post-module--itemCaption--6915d",children:[(0,i.jsx)(m,{title:t,className:"Post-module--itemTitle--e1aa8"}),(0,i.jsx)(c,{description:a,className:"Post-module--itemDescription--3070b"}),(0,i.jsx)(r,{date:s,className:"Post-module--itemDate--33d77"}),(0,i.jsx)(u,{tags:o,className:"Post-module--itemTags--87afa"})]})]})})})},f=e=>{let{variants:t,title:a,description:s,date:l,tags:o,slug:r,heroImage:c,heroImageAlt:d}=e;const u=`/og/posts/${(0,n.z6)(r)}.png`,m=null!=d?d:a;return"card"===t?(0,i.jsx)(N,{title:a,description:s,date:l,tags:o,slug:r,heroImage:c,heroImageAlt:m,ogImageSrc:u,className:g}):"item"===t?(0,i.jsx)(p,{title:a,description:s,date:l,tags:o,slug:r,heroImage:c,heroImageAlt:m,ogImageSrc:u,className:g}):null};const x=e=>{let{posts:t,className:a}=e;return(0,i.jsx)("ul",{className:(0,s.A)("PostList-module--postList--61751",a),children:t.map(e=>{var t,a;let{frontmatter:{title:s,description:l,date:o,tags:n,slug:r,heroImage:c,heroImageAlt:d},excerpt:u,id:m}=e;const g=null!==(t=null!=l?l:u)&&void 0!==t?t:"";return(0,i.jsx)("li",{className:"PostList-module--postItem--2474b",children:(0,i.jsx)(f,{variants:"item",title:s,description:g,date:o,tags:n,slug:r,heroImage:null==c||null===(a=c.childImageSharp)||void 0===a?void 0:a.gatsbyImageData,heroImageAlt:d})},m)})})};var j="TagButtonWithCount-module--active--ce3a5";const b=e=>{let{name:t,count:a,isSelected:l,onClick:o}=e;return(0,i.jsx)("button",{onClick:o,className:(0,s.A)("TagButtonWithCount-module--tagButton--b55df",{[j]:l}),children:(0,i.jsxs)("span",{children:[t," (",a,")"]})})};var v=a(758);const I=e=>{let{tags:t,selectedTag:a,clickTag:l,className:o,maxVisible:r=15}=e;const{0:c,1:d}=(0,v.useState)(!1),u=c?t:t.slice(0,r),m=t.length>r,g=t.length-r;return(0,i.jsxs)("div",{className:(0,s.A)("TagList-module--tagListWrapper--d9d9d",o),children:[(0,i.jsx)("ul",{className:"TagList-module--tagList--da91f",onClick:l,onKeyDown:l,role:"presentation",children:u.map(e=>{let{fieldValue:t,totalCount:s}=e;const l=(0,n.qU)(t);return(0,i.jsx)("li",{className:"TagList-module--tagItem--61853","data-tag":l,children:(0,i.jsx)(b,{name:l,count:s,isSelected:a===l})},l)})}),m&&(0,i.jsx)("button",{type:"button",className:"TagList-module--toggleButton--7b4e9",onClick:()=>d(!c),children:c?"접기":`+${g}개 더보기`})]})}}}]);
//# sourceMappingURL=component---src-pages-notes-tsx-fd3491e755f11e0a851c.js.map